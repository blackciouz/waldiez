/**
 * SPDX-License-Identifier: Apache-2.0
 * Copyright 2024 - 2026 Waldiez & contributors
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("strip-ansi"),require("nanoid"),require("jszip"),require("react/jsx-runtime"),require("react"),require("@xyflow/react"),require("react-error-boundary"),require("react-hotkeys-hook"),require("@monaco-editor/react"),require("framer-motion"),require("react-dom"),require("zustand/shallow"),require("zustand/traditional"),require("microdiff"),require("zundo"),require("zustand"),require("react-icons/fa"),require("react-select"),require("react-icons/fa6"),require("rehype-highlight"),require("remark-gfm"),require("react-markdown"),require("react-icons/md"),require("react-icons/gi"),require("react-icons/go")):"function"==typeof define&&define.amd?define(["exports","strip-ansi","nanoid","jszip","react/jsx-runtime","react","@xyflow/react","react-error-boundary","react-hotkeys-hook","@monaco-editor/react","framer-motion","react-dom","zustand/shallow","zustand/traditional","microdiff","zundo","zustand","react-icons/fa","react-select","react-icons/fa6","rehype-highlight","remark-gfm","react-markdown","react-icons/md","react-icons/gi","react-icons/go"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@waldiez"]={},e.stripAnsi,e.nanoid,e.jszip,e.jsxRuntime,e.react,e.XYFlowReact,e.reactErrorBoundary,e.reactHotkeysHook,e.react$1,e.framerMotion,e.reactDom,e.zustandShallow,e.zustandTraditional,e.microdiff,e.zundo,e.zustand,e.reactIconsFa,e.reactSelect,e.reactIconsFa6,e.rehypeHighlight,e.remarkGfm,e.reactMarkdown,e.reactIconsMd,e.reactIconsGi,e.reactIconsGo)}(this,function(e,t,n,r,a,o,i,s,l,c,u,d,p,f,h,m,g,y,v,b,x,w,C,j,k,A){"use strict";function S(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e)for(const n in e)if("default"!==n){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}return t.default=e,Object.freeze(t)}const O=S(o);class T{systemMessage;humanInputMode;codeExecutionConfig;agentDefaultAutoReply;maxConsecutiveAutoReply;termination;modelIds;tools;parentId;nestedChats;contextVariables;updateAgentStateBeforeReply;afterWork;handoffs;constructor(e={humanInputMode:"NEVER",systemMessage:null,codeExecutionConfig:!1,agentDefaultAutoReply:null,maxConsecutiveAutoReply:null,termination:{type:"none",keywords:[],criterion:null,methodContent:null},modelIds:[],tools:[],parentId:void 0,nestedChats:[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}],contextVariables:{},updateAgentStateBeforeReply:[],afterWork:null,handoffs:[]}){this.systemMessage=e.systemMessage,this.humanInputMode=e.humanInputMode,this.codeExecutionConfig=e.codeExecutionConfig,this.agentDefaultAutoReply=e.agentDefaultAutoReply,this.maxConsecutiveAutoReply=e.maxConsecutiveAutoReply,this.termination=e.termination,this.modelIds=e.modelIds,this.tools=e.tools,this.parentId=e.parentId,this.nestedChats=e.nestedChats,this.contextVariables=e.contextVariables,this.updateAgentStateBeforeReply=e.updateAgentStateBeforeReply,this.afterWork=e.afterWork||null,this.handoffs=e.handoffs||[]}}class E{static isValidInputRequest(e){return e&&"object"==typeof e&&"input_request"===e.type&&"string"==typeof e.request_id&&"string"==typeof e.prompt}static isValidPrintMessage(e){return!(!e||"object"!=typeof e)&&("string"==typeof e.type&&"print"===e.type&&(!("data"in e)||"string"!=typeof e.data&&"object"!=typeof e.data?!(!e.content||"object"!=typeof e.content)&&(!!e.content.data&&("string"==typeof e.content.data||Array.isArray(e.content.data)||"object"==typeof e.content.data)):(e.content={data:e.data},!0)))}static isValidTextMessage(e){return e&&"object"==typeof e&&"text"===e.type&&e.content&&"object"==typeof e.content&&void 0!==e.content.content&&"string"==typeof e.content.sender&&"string"==typeof e.content.recipient||Array.isArray(e.content)&&e.content.every(e=>"string"==typeof e||"object"==typeof e&&null!==e&&"type"in e&&"text"===e.type&&"text"in e&&"string"==typeof e.text)}static isValidTerminationMessage(e){return e&&"object"==typeof e&&"termination"===e.type&&e.content&&"object"==typeof e.content&&"string"==typeof e.content.termination_reason||e.termination_reason&&"string"==typeof e.termination_reason}static isValidGroupChatRun(e){return e&&"object"==typeof e&&"group_chat_run_chat"===e.type&&e.content&&"object"==typeof e.content&&"string"==typeof e.content.uuid&&"string"==typeof e.content.speaker}static isValidSpeakerSelection(e){return e&&"object"==typeof e&&("select_speaker"===e.type||"select_speaker_invalid_input"===e.type)&&e.content&&"object"==typeof e.content&&"string"==typeof e.content.uuid&&Array.isArray(e.content.agents)&&e.content.agents.every(e=>"string"==typeof e)}static isValidCodeExecutionReply(e){return e&&"object"==typeof e&&"generate_code_execution_reply"===e.type&&e.content&&"object"==typeof e.content&&"string"==typeof e.content.uuid&&"string"==typeof e.content.sender&&"string"==typeof e.content.recipient}static isValidParticipantsData(e){if(e&&"object"==typeof e&&Array.isArray(e.participants)&&e.participants.length>0&&e.participants.every(e=>e&&"string"==typeof e.name))return!0;if(e&&"string"==typeof e)try{const t=JSON.parse(e);return E.isValidParticipantsData(t)}catch{return!1}return!1}}const M={DEFAULT_PROMPT:"Enter your message to start the conversation:",GENERIC_PROMPTS:[">","> "],WORKFLOW_END_MARKERS:["<Waldiez> - Workflow finished","<Waldiez> - Workflow stopped by user","<Waldiez> - Workflow execution failed:"],PARTICIPANTS_KEY:"participants",SYSTEM_MESSAGES:{GROUP_CHAT_RUN:"Group chat run",CODE_EXECUTION_REPLY:"Generate code execution reply",SPEAKER_SELECTION_HEADER:"## Select a speaker",SPEAKER_SELECTION_PROMPT:"Please select a speaker from the following list:",SPEAKER_SELECTION_NOTE:"**Note:** You can select a speaker by entering the corresponding number."}};class N{static isPasswordPrompt(e){return!!e.password&&("boolean"==typeof e.password?e.password:"string"==typeof e.password&&"true"===e.password.toLowerCase())}static normalizePrompt(e){return M.GENERIC_PROMPTS.includes(e)?M.DEFAULT_PROMPT:e}static generateMessageId(e){return e.id||e.uuid||n.nanoid()}static generateTimestamp(e){return e.timestamp||(new Date).toISOString()}static replaceImageUrls(e,t){const n=/<img\s+(?!.*src=)([^"'>\s]+)\s*\/?>/g,r=e=>{const r=e.match(n);if(r&&1===r.length){return{type:"image_url",image_url:{url:r[0].replace(n,`<img src="${t}" />`),alt:"Image"}}}return null},a=e=>({...e,image_url:{...e.image_url,url:t}});if(Array.isArray(e))return e.map(e=>{if("string"==typeof e){const t=r(e);return t||{type:"text",text:e}}if("object"!=typeof e||null===e||!("type"in e))return null;if("image_url"===e.type&&e.image_url?.url)return a(e);if("text"===e.type&&e.text){return r(e.text)||e}return e}).filter(Boolean);if("object"==typeof e&&null!==e&&"type"in e){if("image_url"===e.type&&"image_url"in e&&e.image_url&&"object"==typeof e.image_url&&"url"in e.image_url&&e.image_url?.url)return a(e);if("text"===e.type&&"text"in e&&"string"==typeof e.text){return r(e.text)||e}}if("string"==typeof e){const t=r(e);return t||[{type:"text",text:e}]}return e}static normalizeContent(e,t){if("string"==typeof e){if(t){const n=/<img\s+(?!.*src=)([^"'>\s]+)\s*\/?>/g,r=e.match(n);if(r&&1===r.length){return[{type:"image_url",image_url:{url:r[0].replace(n,`<img src="${t}" />`),alt:"Image"}}]}}return[{type:"text",text:e}]}if(Array.isArray(e))return e.map(e=>{const n=N.normalizeContent(e,t);return Array.isArray(n)&&1===n.length?n[0]:n});if("object"==typeof e&&null!==e&&"type"in e){if("text"===e.type&&"string"==typeof e.text)return[{type:"text",text:e.text}];if("image_url"===e.type&&e.image_url?.url)return[{type:"image_url",image_url:{url:e.image_url.url,alt:e.image_url.alt||"Image"}}]}return[e]}static generateSpeakerSelectionMarkdown(e){const t=e.map((e,t)=>`- [${t+1}] ${e}`).join("\n");return[M.SYSTEM_MESSAGES.SPEAKER_SELECTION_HEADER,"",M.SYSTEM_MESSAGES.SPEAKER_SELECTION_PROMPT,"",t,"",M.SYSTEM_MESSAGES.SPEAKER_SELECTION_NOTE].join("\n")}}class P{canHandle(e){return"input_request"===e}handle(e,t){if(!E.isValidInputRequest(e))return;const n=N.normalizePrompt(e.prompt);return{message:{id:e.request_id,timestamp:N.generateTimestamp(e),request_id:t.requestId||e.request_id,type:"input_request",content:[{type:"text",text:n}],prompt:n,password:N.isPasswordPrompt(e)},requestId:e.request_id}}}class I{canHandle(e){return"print"===e}isEndOfWorkflow(e){if("string"==typeof e)return M.WORKFLOW_END_MARKERS.some(t=>e.includes(t));if("object"!=typeof e&&!e.content&&!e.data)return!1;const t="data"in e?e.data:e.content,n="string"==typeof t?t:JSON.stringify(t);return M.WORKFLOW_END_MARKERS.some(e=>n.includes(e))}handle(e){if(!E.isValidPrintMessage(e))return this.isEndOfWorkflow(e)?{isWorkflowEnd:!0}:void 0;if(this.isEndOfWorkflow(e.content))return{isWorkflowEnd:!0};const t=e.content.data;return"string"==typeof t&&t.includes(M.PARTICIPANTS_KEY)||"object"==typeof t&&null!==t?this.extractParticipants(t):void 0}extractParticipants(e){try{const t="string"==typeof e?JSON.parse(e):e;if(E.isValidParticipantsData(t)){if("string"==typeof t){const e=JSON.parse(t);return this.extractParticipants(e)}const e=t.participants.map(e=>e.name).filter(Boolean);return{isWorkflowEnd:!1,participants:{all:e,users:t.participants.filter(e=>"ALWAYS"===e.humanInputMode?.toUpperCase()).map(e=>e.name).filter(Boolean)}}}}catch(t){}}}class D{canHandle(e){return"text"===e}handle(e,t){if(!E.isValidTextMessage(e))return;let n=N.normalizeContent(e.content.content,t.imageUrl);t.imageUrl&&(n=N.replaceImageUrls(n,t.imageUrl));return{message:{id:N.generateMessageId(e),timestamp:N.generateTimestamp(e),type:e.type,content:n,sender:e.content.sender,recipient:e.content.recipient},requestId:null}}}class R{canHandle(e){return"termination"===e}handle(e){if(!E.isValidTerminationMessage(e))return;return{message:{id:n.nanoid(),timestamp:(new Date).toISOString(),type:"system",content:[{type:"text",text:e.content.termination_reason}]}}}}class _{canHandle(e){return"group_chat_run_chat"===e}handle(e){if(!E.isValidGroupChatRun(e))return;return{message:{id:e.content.uuid,timestamp:(new Date).toISOString(),type:"system",content:[{type:"text",text:M.SYSTEM_MESSAGES.GROUP_CHAT_RUN}],sender:e.content.speaker}}}}class L{canHandle(e){return"select_speaker"===e||"select_speaker_invalid_input"===e}handle(e){if(!E.isValidSpeakerSelection(e))return;return{message:{id:e.content.uuid,timestamp:(new Date).toISOString(),type:"system",content:[{type:"text",text:N.generateSpeakerSelectionMarkdown(e.content.agents)}]}}}}class z{canHandle(e){return"generate_code_execution_reply"===e}handle(e){if(!E.isValidCodeExecutionReply(e))return;return{message:{id:n.nanoid(),timestamp:(new Date).toISOString(),type:"system",content:[{type:"text",text:M.SYSTEM_MESSAGES.CODE_EXECUTION_REPLY}],sender:e.content.sender,recipient:e.content.recipient}}}}class B{canHandle(e){return"tool_call"===e}static isValidToolCall(e){return e&&"object"==typeof e&&"tool_call"===e.type&&e.content&&"object"==typeof e.content}static extractToolFunctionNames(e){return e.content.tool_calls&&Array.isArray(e.content.tool_calls)?e.content.tool_calls.filter(e=>e.function&&"string"==typeof e.function.name).map(e=>e.function.name):[]}handle(e){if(!B.isValidToolCall(e))return;let t="Tool call";const r=B.extractToolFunctionNames(e);r.length>0&&(t+=`: ${r.join(", ")}`);return{message:{id:e.content.uuid??n.nanoid(),timestamp:(new Date).toISOString(),type:"system",content:[{type:"text",text:t}],sender:e.content.sender,recipient:e.content.recipient}}}}class F{canHandle(e){return"using_auto_reply"===e}handle(e){if(!e||"object"!=typeof e||"using_auto_reply"!==e.type)return;return{message:{id:e.content.uuid,timestamp:(new Date).toISOString(),type:"system",content:[{type:"text",text:"Using auto reply"}],sender:e.content.sender,recipient:e.content.recipient}}}}class U{canHandle(e){return"termination_and_human_reply_no_input"===e}handle(e){if(!e||"object"!=typeof e||"termination_and_human_reply_no_input"!==e.type)return;return{message:{id:e.content.uuid,timestamp:(new Date).toISOString(),type:"system",content:[{type:"text",text:"Termination and human reply without input"}],sender:e.content.sender,recipient:e.content.recipient}}}}class q{canHandle(e){return"timeline"===e}handle(e){if(!e||"object"!=typeof e||!e.content||"object"!=typeof e.content)return;const t=Array.isArray(e.content.timeline)?e.content.timeline:[],n=Array.isArray(e.content.cost_timeline)?e.content.cost_timeline:[],r="object"==typeof e.content.summary&&null!==e.content.summary?e.content.summary:void 0,a="object"==typeof e.content.metadata&&null!==e.content.metadata?e.content.metadata:void 0,o=Array.isArray(e.content.agents)?e.content.agents:[];if(!(r&&a&&Array.isArray(t)&&0!==t.length&&Array.isArray(n)&&0!==n.length&&Array.isArray(o)&&0!==o.length))return;return{timeline:{timeline:t,cost_timeline:n,summary:r,metadata:a,agents:o}}}}class H{static handlers=[new P,new I,new D,new R,new _,new L,new z,new B,new U,new F,new q];static process(e,n,r){const a=t(e.replace("\n","")).trim();let o=H.parseMessage(a);if(!o)return;let i=H.findHandler(o.type);if("print"===o.type&&H.isTimelineMessage(o)&&(o=o?.data,i=H.handlers.find(e=>e instanceof q)),!i)return;const s={requestId:n,imageUrl:r};return i.handle(o,s)}static isTimelineMessage(e){return"timeline"===e.type||"print"===e.type&&"data"in e&&e.data&&"object"==typeof e.data&&"type"in e.data&&"timeline"===e.data.type&&"content"in e.data&&e.data.content&&"object"==typeof e.data.content}static parseMessage(e){try{return JSON.parse(e)}catch{return null}}static findHandler(e){return this.handlers.find(t=>t.canHandle(e))}}const W=()=>{if(window.crypto&&window.crypto.subtle)return window.crypto;if(globalThis.crypto&&globalThis.crypto.subtle)return globalThis.crypto;throw new Error("Web Crypto API not supported in this browser. Please use a modern browser with HTTPS.")},V=async e=>{try{const t=W(),n=(new TextEncoder).encode(e),r=await t.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(e=>e.toString(16).padStart(2,"0")).join("")}catch(t){throw new Error("Failed to compute SHA-256 hash. Ensure you are using a supported environment.")}},$=async(e,t,n="")=>{try{const r=W(),a="string"==typeof e?(new TextEncoder).encode(e):e,o=(new TextEncoder).encode(t),i=await r.subtle.importKey("raw",a,{name:"HMAC",hash:"SHA-256"},!1,["sign"]),s=await r.subtle.sign("HMAC",i,o);return"hex"===n?Array.from(new Uint8Array(s)).map(e=>e.toString(16).padStart(2,"0")).join(""):new Uint8Array(s)}catch(r){throw new Error(`Error computing HMAC SHA-256: ${r instanceof Error?r.message:String(r)}`)}},G=e=>{let t=".waldiez";return"flow"!==e&&(t+=e.charAt(0).toUpperCase()+e.slice(1)),(()=>{if("userAgentData"in navigator&&"object"==typeof navigator.userAgentData){const e=navigator.userAgentData;if(e&&"platform"in e&&"string"==typeof e.platform){const t=e.platform.toLowerCase();return t.includes("mac")||t.includes("ios")}}const e=navigator.userAgent;return/Macintosh|Mac OS X|iPhone|iPad|iPod/i.test(e)})()&&(t+=".zip"),t},K=(e,t)=>{const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,r.click(),URL.revokeObjectURL(n)},X=async(e,t,n,a=()=>{})=>{const o=n();if(o){const n=JSON.stringify(o,null,2),i=((e,t)=>{const n=G(t);let r=e||"flow";return r.length<3&&(r="flow"),r.length>100&&(r=r.slice(0,100)),`${r}${n}`})(e,t);if(i.endsWith(".zip"))await(async(e,t,n)=>{try{const n=e.replace(/\.zip$/,""),a=new r;a.file(n,t);const o=await a.generateAsync({type:"blob"});K(o,e)}catch{n()}})(i,n,a);else{const e=new Blob([n],{type:"application/json; charset=utf-8"});K(e,i)}}else a()},Y=()=>`${Date.now()}${n.nanoid()}`,Q=(e,t,n)=>{const r=e.target.files?.[0];if(r){const e=new FileReader;e.onload=()=>{const r=t();if(r){const t=e.result;try{const e=JSON.parse(t);n(r,e)}catch(a){}}},e.readAsText(r)}},Z=(e,t=!1)=>{let n=document.getElementById(`rf-root-${e}`);return!n&&t&&(n=document.body),n},J=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();class ee{id;type="agent";agentType;name;description;tags;requirements;createdAt;updatedAt;data;rest;constructor(e){this.id=e.id,this.agentType=e.agentType,this.name=e.name,this.description=e.description,this.tags=e.tags,this.requirements=e.requirements,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.data=e.data,this.rest=e.rest}static create(e){let t="",n="";"group_manager"===e?(t="Manager",n="The group manager agent"):(t=J(e.replace("_proxy","").replace("_"," ")),n=`A new ${t} agent`);const r=new ee({id:`wa-${Y()}`,agentType:e,name:t,description:n,tags:[],requirements:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),data:new T});return te(r,e),r}}const te=(e,t)=>{e.data.humanInputMode="NEVER",["user_proxy","rag_user_proxy"].includes(t)&&(e.data.humanInputMode="ALWAYS","rag_user_proxy"===t&&ne(e.data)),"reasoning"===t&&re(e.data),"captain"===t&&ae(e.data),"group_manager"===t&&oe(e.data)},ne=e=>{e.retrieveConfig={task:"default",vectorDb:"chroma",dbConfig:{model:"all-MiniLM-L6-v2",useMemory:!1,useLocalStorage:!1,localStoragePath:null,connectionUrl:null,waitUntilIndexReady:null,waitUntilDocumentReady:null,metadata:null},docsPath:[],newDocs:!0,model:null,chunkTokenSize:null,contextMaxTokens:null,chunkMode:"multi_lines",mustBreakAtEmptyLine:!0,useCustomEmbedding:!1,embeddingFunction:null,customizedPrompt:null,customizedAnswerPrefix:null,updateContext:!0,collectionName:"autogen-docs",getOrCreate:!0,overwrite:!1,useCustomTokenCount:!1,customTokenCountFunction:null,useCustomTextSplit:!1,customTextSplitFunction:null,customTextTypes:[],recursive:!0,distanceThreshold:-1,nResults:null}},re=e=>{e.verbose=!0,e.reasonConfig={method:"beam_search",maxDepth:3,forestSize:1,ratingScale:10,beamSize:3,answerApproach:"pool",nsim:3,explorationConstant:1.41}},ae=e=>{e.agentLib=[],e.toolLib=null,e.maxRound=10,e.maxTurns=5},oe=e=>{e.groupName="Group",e.maxRound=20,e.adminName=null,e.contextVariables={},e.enableClearHistory=!1,e.sendIntroductions=!1,e.initialAgentId=void 0,e.speakers={selectionMethod:"auto",selectionCustomMethod:"",maxRetriesForSelecting:null,selectionMode:"repeat",allowRepeat:!0,allowedOrDisallowedTransitions:{},transitionsType:"allowed"}};class ie extends ee{data;agentType="assistant";constructor(e){super(e),this.agentType="assistant",this.data=e.data,this.rest=e.rest||{}}}class se extends T{isMultimodal;constructor(e={humanInputMode:"NEVER",systemMessage:null,codeExecutionConfig:!1,agentDefaultAutoReply:null,maxConsecutiveAutoReply:null,termination:{type:"none",keywords:[],criterion:null,methodContent:null},modelIds:[],tools:[],parentId:void 0,nestedChats:[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}],contextVariables:{},updateAgentStateBeforeReply:[],afterWork:null,handoffs:[],isMultimodal:!1}){super(e),this.isMultimodal=e.isMultimodal}}class le extends ee{data;agentType="captain";constructor(e){super(e),this.data=e.data,this.agentType="captain",this.rest=e.rest||{}}}class ce extends T{agentLib;toolLib;maxRound;maxTurns;constructor(e={humanInputMode:"NEVER",systemMessage:null,codeExecutionConfig:!1,agentDefaultAutoReply:null,maxConsecutiveAutoReply:null,termination:{type:"none",keywords:[],criterion:null,methodContent:null},modelIds:[],tools:[],parentId:void 0,nestedChats:[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}],contextVariables:{},updateAgentStateBeforeReply:[],handoffs:[],afterWork:null,agentLib:[],toolLib:null,maxRound:10,maxTurns:5}){super(e),this.agentLib=e.agentLib,this.toolLib=e.toolLib,this.maxRound=e.maxRound,this.maxTurns=e.maxTurns}}class ue extends ee{data;agentType="group_manager";constructor(e){super(e),this.agentType="group_manager",this.data=e.data,this.rest=e.rest||{}}}class de extends T{maxRound;adminName;speakers;enableClearHistory;sendIntroductions;groupName;initialAgentId;constructor(e={humanInputMode:"NEVER",systemMessage:null,codeExecutionConfig:!1,agentDefaultAutoReply:null,maxConsecutiveAutoReply:null,termination:{type:"none",keywords:[],criterion:null,methodContent:null},modelIds:[],tools:[],parentId:void 0,nestedChats:[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}],contextVariables:{},updateAgentStateBeforeReply:[],afterWork:null,handoffs:[],maxRound:20,adminName:null,speakers:{selectionMethod:"auto",selectionCustomMethod:"",maxRetriesForSelecting:null,selectionMode:"repeat",allowRepeat:!0,allowedOrDisallowedTransitions:{},transitionsType:"allowed",order:[]},enableClearHistory:void 0,sendIntroductions:void 0,groupName:void 0,initialAgentId:void 0}){e.parentId=void 0,super(e),this.maxRound=e.maxRound,this.adminName=e.adminName,this.speakers=e.speakers,this.enableClearHistory=e.enableClearHistory,this.sendIntroductions=e.sendIntroductions,this.groupName=e.groupName,this.initialAgentId=e.initialAgentId}}class pe extends ee{data;agentType="rag_user_proxy";constructor(e){super(e),this.data=e.data,this.agentType="rag_user_proxy",this.rest=e.rest||{}}}const fe={task:"default",vectorDb:"chroma",dbConfig:{model:"all-MiniLM-L6-v2",useMemory:!1,useLocalStorage:!1,localStoragePath:null,connectionUrl:null,waitUntilIndexReady:null,waitUntilDocumentReady:null,metadata:null},docsPath:[],newDocs:!0,model:null,chunkTokenSize:null,contextMaxTokens:null,chunkMode:"multi_lines",mustBreakAtEmptyLine:!0,useCustomEmbedding:!1,embeddingFunction:null,customizedPrompt:null,customizedAnswerPrefix:null,updateContext:!0,collectionName:"autogen-docs",getOrCreate:!0,overwrite:!1,useCustomTokenCount:!1,customTokenCountFunction:null,useCustomTextSplit:!1,customTextSplitFunction:null,customTextTypes:[],recursive:!0,distanceThreshold:-1,nResults:null};class he extends T{retrieveConfig;constructor(e={humanInputMode:"ALWAYS",systemMessage:null,codeExecutionConfig:!1,agentDefaultAutoReply:null,maxConsecutiveAutoReply:null,termination:{type:"none",keywords:[],criterion:null,methodContent:null},modelIds:[],tools:[],parentId:void 0,nestedChats:[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}],contextVariables:{},updateAgentStateBeforeReply:[],afterWork:null,handoffs:[],retrieveConfig:fe}){super(e),this.retrieveConfig=e.retrieveConfig}}let me=class extends ee{data;agentType="reasoning";constructor(e){super(e),this.data=e.data,this.agentType="reasoning",this.rest=e.rest||{}}};const ge={method:"beam_search",maxDepth:3,forestSize:1,ratingScale:10,beamSize:3,answerApproach:"pool",nsim:3,explorationConstant:1.41};class ye extends T{verbose;reasonConfig;constructor(e={humanInputMode:"NEVER",systemMessage:null,codeExecutionConfig:!1,agentDefaultAutoReply:null,maxConsecutiveAutoReply:null,termination:{type:"none",keywords:[],criterion:null,methodContent:null},modelIds:[],tools:[],parentId:void 0,nestedChats:[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}],contextVariables:{},updateAgentStateBeforeReply:[],handoffs:[],afterWork:null,verbose:!0,reasonConfig:ge}){super(e),this.verbose=e.verbose,this.reasonConfig=e.reasonConfig}}class ve extends ee{data;agentType="user_proxy";constructor(e){super(e),this.agentType="user_proxy",this.data=e.data,this.rest=e.rest||{}}}const be=["user_proxy","assistant","rag_user_proxy","reasoning","captain","group_manager"];class xe{sourceType;targetType;name;description;position;order;clearHistory;message;maxTurns;summary;nestedChat;prerequisites=[];realSource=null;realTarget=null;available={type:"none",value:""};condition={conditionType:"string_llm",prompt:""};afterWork=null;silent=!1;constructor(e={sourceType:"user_proxy",targetType:"assistant",name:"Chat",description:"New connection",clearHistory:!0,maxTurns:null,summary:{method:"lastMsg",prompt:"",args:{}},position:1,order:-1,message:{type:"none",useCarryover:!1,content:null,context:{}},nestedChat:{message:null,reply:null},prerequisites:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""},afterWork:null,realSource:null,realTarget:null,silent:!1}){const{sourceType:t,targetType:n,name:r,description:a,clearHistory:o,maxTurns:i,summary:s,message:l,position:c,order:u,nestedChat:d,prerequisites:p,condition:f,available:h,afterWork:m,realSource:g,realTarget:y,silent:v}=e;this.sourceType=t,this.targetType=n,this.name=r,this.description=a,this.clearHistory=o,this.maxTurns=i,this.summary=s,this.message=l,this.position=c,this.order=u,this.nestedChat=d,this.prerequisites=p,this.condition=f,this.available=h,this.afterWork=m,this.realSource=g,this.realTarget=y,this.silent=v}}class we{id;type="chat";source;target;data;rest;constructor(e){this.id=e.id,this.source=e.source,this.target=e.target,this.type=e.type,this.data=e.data,this.rest=e.rest||{}}static create(e){const t=new xe;return new we({id:`wc-${Y()}`,source:e.source,target:e.target,type:e.type,data:t})}}const Ce=["chat","nested","group","hidden"],je=["AgentTarget","RandomAgentTarget","GroupChatTarget","NestedChatTarget","AskUserTarget","GroupManagerTarget","RevertToUserTarget","StayTarget","TerminateTarget"],ke=["string_llm","context_str_llm","string_context","expression_context"];class Ae{type="flow";version="0.5.2";id;name;description;tags;requirements;data;storageId;createdAt;updatedAt;rest={};constructor(e){this.id=e.id,this.name=e.name,this.description=e.description,this.tags=e.tags,this.requirements=e.requirements,this.data=e.data,this.storageId=e.storageId,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.rest=e.rest||{}}}const Se=`wf-${(new Date).getTime()}${n.nanoid()}`,Oe={type:"flow",version:"0.5.2",id:Se,storageId:Se,name:"Waldiez Flow",description:"A waldiez flow",tags:[],requirements:[],data:{agents:{userProxyAgents:[],assistantAgents:[],ragUserProxyAgents:[],reasoningAgents:[],captainAgents:[],groupManagerAgents:[]},models:[],tools:[],chats:[],isAsync:!1,cacheSeed:42,silent:!1,nodes:[],edges:[],viewport:{zoom:1,x:0,y:0}},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),rest:{}};class Te{nodes;edges;viewport;agents;models;tools;chats;isAsync=!1;cacheSeed=42;silent=!1;constructor(e={nodes:[],edges:[],viewport:{x:0,y:0,zoom:1},agents:{userProxyAgents:[],assistantAgents:[],ragUserProxyAgents:[],reasoningAgents:[],captainAgents:[],groupManagerAgents:[]},models:[],tools:[],chats:[],isAsync:!1,cacheSeed:42,silent:!1}){this.nodes=e.nodes,this.edges=e.edges,this.viewport=e.viewport,this.agents=e.agents,this.models=e.models,this.tools=e.tools,this.chats=e.chats,this.isAsync=e.isAsync,this.cacheSeed=e.cacheSeed,this.silent=e.silent}}class Ee{baseUrl;apiKey;apiType;apiVersion;temperature;topP;maxTokens;aws;extras;defaultHeaders;price;constructor(e={baseUrl:null,apiKey:null,apiType:"openai",apiVersion:null,temperature:null,topP:null,maxTokens:null,aws:{accessKey:null,profileName:null,region:null,secretKey:null,sessionToken:null},extras:{},defaultHeaders:{},price:{promptPricePer1k:null,completionTokenPricePer1k:null}}){const{baseUrl:t,apiKey:n,apiType:r,apiVersion:a,temperature:o,topP:i,maxTokens:s,aws:l,extras:c,defaultHeaders:u,price:d}=e;this.baseUrl=t,this.apiKey=n,this.apiType=r,this.apiVersion=a,this.temperature=o,this.topP=i,this.maxTokens=s,this.aws=l||null,this.extras=c,this.defaultHeaders=u,this.price=d}}class Me{type="model";id;name;description;tags;requirements;createdAt;updatedAt;data;rest={};constructor(e){this.id=e.id,this.name=e.name,this.description=e.description,this.tags=e.tags,this.requirements=e.requirements,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.data=e.data,this.rest=e.rest}static create(){return new Me({id:`wm-${Y()}`,name:"Model",description:"A new model",tags:[],requirements:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),data:new Ee})}}class Ne{content;toolType;secrets;kwargs={};constructor(e={content:Pe,toolType:"shared",secrets:{},kwargs:{}}){const{content:t,toolType:n,secrets:r,kwargs:a}=e;this.toolType=n,this.content=t,this.secrets=r,this.kwargs=a||{}}}const Pe='\n"""Replace this with your code.\n\nAdd any code here that will be placed at the top of the whole flow.\n"""\n\n# Example:\n# global variable\n# DATABASE = {\n#     "users": [\n#         {"id": 1, "name": "Alice"},\n#         {"id": 2, "name": "Bob"},\n#     ],\n#     "posts": [\n#         {"id": 1, "title": "Hello, world!", "author_id": 1},\n#         {"id": 2, "title": "Another post", "author_id": 2},\n#     ],\n# }\n#\n# Add your code below\n\n',Ie={shared:Pe,custom:'\n"""Replace this with your code.\n\nmake sure a function with the same name\nas the tool is defined in the code.\n"""\n\n# Example:\n# tool name: \'new_tool\'\n#\n# def new_tool() -> str:\n#     """Tool entry point."""\n#     return "Hello, world!"\n#\n# Add your code below\n\ndef new_tool() -> None:\n    """Tool entry point."""\n    ...\n',langchain:'\n"""Replace this with your code.\n\nYou can define any of the tools available in the langchain_community package.\nYou can explore the available tools in the LangChain Community Tools folder:\nhttps://github.com/langchain-ai/langchain/tree/master/libs/community/langchain_community/tools\n\nMake sure you have a variable named with the same name as the tool\n"""\n\n# Example:\n# # tool name: \'wiki_tool\'\n#\n# from langchain_community.tools import WikipediaQueryRun\n# from langchain_community.utilities import WikipediaAPIWrapper\n#\n# api_wrapper = WikipediaAPIWrapper(top_k_results=1, doc_content_chars_max=1000)\n# wiki_tool = WikipediaQueryRun(api_wrapper=api_wrapper)\n#\n# Add your code below\n\n',crewai:'\n"""Replace this with your code.\n\nYou can define any of the tools available in the crewai_tools package.\nYou can explore the full list of available tools in the CrewAI Tools repository:\nhttps://github.com/crewAIInc/crewAI-tools/tree/main\n\nMake sure you have a variable named with the same name as the tool.\n"""\n\n# Example:\n# # tool name: \'scrape_tool\'\n#\n# from crewai_tools import ScrapeWebsiteTool\n# scrape_tool = ScrapeWebsiteTool()\n#\n# Add your code below\n\n',predefined:""};class De{type="tool";id;name;description;tags;requirements;createdAt;updatedAt;data;rest={};constructor(e){this.id=e.id,this.name=e.name,this.description=e.description,this.tags=e.tags,this.requirements=e.requirements,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.data=e.data,this.rest=e.rest}static create(){return new De({id:`wt-${Y()}`,name:"waldiez_shared",description:"Shared code available to all agents.",tags:[],requirements:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),data:new Ne})}}const Re=e=>{const t=[];if("agentLib"in e&&Array.isArray(e.agentLib))for(const n of e.agentLib)"object"==typeof n&&"name"in n&&"description"in n&&"systemMessage"in n&&t.push(n);return t},_e=e=>!("toolLib"in e)||"default"!==e.toolLib&&null!==e.toolLib?null:e.toolLib,Le=e=>{if("maxRound"in e&&"number"==typeof e.maxRound){const t=parseInt(e.maxRound.toString(),10);if(t>0)return t}return 10},ze=e=>{if("maxTurns"in e&&"number"==typeof e.maxTurns){const t=parseInt(e.maxTurns.toString(),10);if(t>0)return t}return 5},Be=e=>{let t=`w-${Y()}`;if("id"in e&&"string"==typeof e.id)t=e.id;else if("type"in e&&"string"==typeof e.type&&e.type.length>0){t=`w${e.type[0].toLowerCase()}-${Y()}`}return t},Fe=(e,t)=>{let n=t;return"name"in e&&"string"==typeof e.name?n=e.name:"label"in e&&"string"==typeof e.label&&(n=e.label),n},Ue=(e,t)=>{let n=t;return"description"in e&&"string"==typeof e.description&&(n=e.description),n},qe=e=>{let t=[];return"tags"in e&&Array.isArray(e.tags)&&(t=e.tags.filter(e=>"string"==typeof e)),t},He=e=>{let t=[];return"requirements"in e&&Array.isArray(e.requirements)&&(t=e.requirements.filter(e=>"string"==typeof e)),t},We=e=>{let t=(new Date).toISOString();return"createdAt"in e&&"string"==typeof e.createdAt&&(t=e.createdAt),t},Ve=e=>{let t=(new Date).toISOString();return"updatedAt"in e&&"string"==typeof e.updatedAt&&(t=e.updatedAt),t},$e=(e,t)=>{const n={};return Object.keys(e).forEach(r=>{t.includes(r)||(n[r]=e[r])}),n},Ge=(e,t)=>{const n={x:20,y:20};return t&&(n.x=t.x,n.y=t.y),"rest"in e&&"object"==typeof e.rest&&e.rest&&"position"in e.rest&&e.rest.position?"object"==typeof e.rest.position&&"x"in e.rest.position&&"number"==typeof e.rest.position.x&&"y"in e.rest.position&&"number"==typeof e.rest.position.y&&(n.x=e.rest.position.x,n.y=e.rest.position.y):"position"in e&&"object"==typeof e.position&&e.position&&"x"in e.position&&"number"==typeof e.position.x&&"y"in e.position&&"number"==typeof e.position.y&&(n.x=e.position.x,n.y=e.position.y),n},Ke=e=>{const t={type:"none",value:""};return"available"in e&&e.available&&"object"==typeof e.available&&("type"in e.available&&"string"==typeof e.available.type&&["string","expression","none"].includes(e.available.type)&&(t.type=e.available.type),"value"in e.available&&"string"==typeof e.available.value&&(t.value=e.available.value)),t},Xe=(e,t="")=>{let n={conditionType:"string_llm",prompt:t};if("condition"in e&&e.condition&&"object"==typeof e.condition&&"conditionType"in e.condition&&e.condition.conditionType&&ke.includes(e.condition.conditionType)){switch(e.condition.conditionType){case"string_llm":n=((e,t="")=>{let n={conditionType:"string_llm",prompt:t};return"conditionType"in e&&"string_llm"===e.conditionType&&"prompt"in e&&"string"==typeof e.prompt&&(n={conditionType:"string_llm",prompt:e.prompt}),n})(e.condition,t);break;case"context_str_llm":n=(e=>{let t={conditionType:"context_str_llm",context_str:""};return"conditionType"in e&&"context_str_llm"===e.conditionType&&"context_str"in e&&"string"==typeof e.context_str&&(t={conditionType:"context_str_llm",context_str:e.context_str}),t})(e.condition);break;case"string_context":n=(e=>{let t={conditionType:"string_context",variable_name:""};return"conditionType"in e&&"string_context"===e.conditionType&&"variable_name"in e&&"string"==typeof e.variable_name&&(t={conditionType:"string_context",variable_name:e.variable_name}),t})(e.condition);break;case"expression_context":n=(e=>{let t={conditionType:"expression_context",expression:""};return"conditionType"in e&&"expression_context"===e.conditionType&&"expression"in e&&"string"==typeof e.expression&&(t={conditionType:"expression_context",expression:e.expression}),t})(e.condition)}}return n},Ye=e=>"afterWork"in e&&"object"==typeof e.afterWork&&e.afterWork&&(e=>{if(!e||"object"!=typeof e)return!1;const t=e;return"targetType"in t&&"string"==typeof t.targetType&&!!je.includes(t.targetType)&&"value"in t&&Array.isArray(t.value)&&t.value.every(e=>"string"==typeof e)})(e.afterWork)?e.afterWork:null,Qe=["user_proxy","assistant","captain","rag_user_proxy","reasoning","group_manager"],Ze=(e,t)=>{const n=((e,t)=>{let n="Agent";return"user_proxy"===t?n="user_proxy":"assistant"===t?n="Assistant":"rag_user_proxy"===t?n="RAG User":"reasoning"===t?n="Reasoning Agent":"captain"===t?n="Captain":"group_manager"===t&&(n="Group Manager"),Fe(e,n)})(e,t),r=(e=>{let t="An agent";return"user_proxy"===e?t="A user agent":"assistant"===e?t="An assistant agent":"rag_user_proxy"===e?t="A RAG user agent":"reasoning"===e?t="A reasoning agent":"captain"===e&&(t="A captain agent"),t})(t);return{name:n,description:Ue(e,r),tags:qe(e),requirements:He(e),createdAt:We(e),updatedAt:Ve(e)}},Je=e=>"isMultimodal"in e&&"boolean"==typeof e.isMultimodal?e.isMultimodal:"is_multimodal"in e&&"boolean"==typeof e.is_multimodal&&e.is_multimodal,et=e=>{let t=[];return"messages"in e&&Array.isArray(e.messages)&&(t=e.messages.filter(e=>"object"==typeof e&&e&&"id"in e&&"string"==typeof e.id&&"isReply"in e&&"boolean"==typeof e.isReply)),t},tt=e=>{let t={selectionMethod:"auto",selectionCustomMethod:"",maxRetriesForSelecting:null,selectionMode:"repeat",allowRepeat:!0,allowedOrDisallowedTransitions:{},transitionsType:"allowed",order:[]};if("speakers"in e&&"object"==typeof e.speakers){const n=e.speakers;t={selectionMethod:lt(n),selectionCustomMethod:ct(n),maxRetriesForSelecting:ut(n),selectionMode:dt(n),allowRepeat:pt(n),allowedOrDisallowedTransitions:ft(n),transitionsType:ht(n),order:mt(n)}}return t},nt=e=>{let t=20;if("maxRound"in e&&"number"==typeof e.maxRound)try{t=parseInt(e.maxRound.toString(),10)}catch(n){}return t},rt=e=>{let t=null;return"adminName"in e&&"string"==typeof e.adminName&&(t=e.adminName),t},at=e=>{let t=!1;return"enableClearHistory"in e&&"boolean"==typeof e.enableClearHistory&&(t=e.enableClearHistory),t},ot=e=>{let t=!1;return"sendIntroductions"in e&&"boolean"==typeof e.sendIntroductions&&(t=e.sendIntroductions),t},it=e=>{let t;return"groupName"in e&&"string"==typeof e.groupName&&(t=e.groupName),t},st=e=>{let t;return"initialAgentId"in e&&"string"==typeof e.initialAgentId&&(t=e.initialAgentId),t},lt=e=>{let t="auto";return"selectionMethod"in e&&"string"==typeof e.selectionMethod&&["auto","manual","random","round_robin","default"].includes(e.selectionMethod)&&(t=e.selectionMethod),t},ct=e=>{let t="";return"selectionCustomMethod"in e&&"string"==typeof e.selectionCustomMethod&&(t=e.selectionCustomMethod),t},ut=e=>{let t=null;return"maxRetriesForSelecting"in e&&"number"==typeof e.maxRetriesForSelecting&&(t=e.maxRetriesForSelecting),t},dt=e=>{let t="repeat";return"selectionMode"in e&&"string"==typeof e.selectionMode&&["repeat","transition"].includes(e.selectionMode)&&(t=e.selectionMode),t},pt=e=>{let t=!0;return"allowRepeat"in e&&"boolean"==typeof e.allowRepeat&&(t=e.allowRepeat),t},ft=e=>{let t={};if("allowedOrDisallowedTransitions"in e&&"object"==typeof e.allowedOrDisallowedTransitions&&e.allowedOrDisallowedTransitions){const n={};for(const[t,r]of Object.entries(e.allowedOrDisallowedTransitions))"string"==typeof t&&Array.isArray(r)&&(n[t]=r.filter(e=>"string"==typeof e));t=n}return t},ht=e=>{let t="allowed";return"transitionsType"in e&&"string"==typeof e.transitionsType&&["allowed","disallowed"].includes(e.transitionsType)&&(t=e.transitionsType),t},mt=e=>{let t=[];return"order"in e&&Array.isArray(e.order)&&(t=e.order.filter(e=>"string"==typeof e)),t},gt=e=>"object"!=typeof e||("verbose"in e&&"boolean"==typeof e.verbose?e.verbose:!("data"in e)||"object"!=typeof e.data||!("verbose"in e.data)||"boolean"!=typeof e.data.verbose||e.data.verbose),yt=e=>{if("object"!=typeof e)return ge;let t=null;return"reasonConfig"in e&&"object"==typeof e.reasonConfig&&e.reasonConfig?t=e.reasonConfig:"data"in e&&"object"==typeof e.data&&e.data&&"reasonConfig"in e.data&&"object"==typeof e.data.reasonConfig&&e.data.reasonConfig&&(t=e.data.reasonConfig),t?{method:vt(t),maxDepth:bt(t),forestSize:xt(t),ratingScale:wt(t),beamSize:Ct(t),answerApproach:jt(t),nsim:kt(t),explorationConstant:At(t)}:ge},vt=e=>"method"in e&&"string"==typeof e.method&&["beam_search","mcts","lats","dfs"].includes(e.method)?e.method:"beam_search",bt=e=>"maxDepth"in e&&"number"==typeof e.maxDepth?e.maxDepth:3,xt=e=>"forestSize"in e&&"number"==typeof e.forestSize?e.forestSize:1,wt=e=>"ratingScale"in e&&"number"==typeof e.ratingScale?e.ratingScale:10,Ct=e=>"beamSize"in e&&"number"==typeof e.beamSize?e.beamSize:3,jt=e=>"answerApproach"in e&&"string"==typeof e.answerApproach&&["pool","best"].includes(e.answerApproach)?e.answerApproach:"pool",kt=e=>"nsim"in e&&"number"==typeof e.nsim?e.nsim:3,At=e=>"explorationConstant"in e&&"number"==typeof e.explorationConstant?e.explorationConstant:1.41,St=e=>{if("object"!=typeof e)return fe;let t=null;return"retrieveConfig"in e&&"object"==typeof e.retrieveConfig&&e.retrieveConfig?t=e.retrieveConfig:"data"in e&&"object"==typeof e.data&&e.data&&"retrieveConfig"in e.data&&"object"==typeof e.data.retrieveConfig&&e.data.retrieveConfig&&(t=e.data.retrieveConfig),t?{task:Ot(t),vectorDb:Tt(t),dbConfig:Lt(t),docsPath:zt(t),newDocs:Bt(t),model:Ft(t),chunkTokenSize:Ut(t),contextMaxTokens:qt(t),chunkMode:Ht(t),mustBreakAtEmptyLine:Wt(t),useCustomEmbedding:Vt(t),embeddingFunction:$t(t),customizedPrompt:Gt(t),customizedAnswerPrefix:Kt(t),updateContext:Xt(t),collectionName:Yt(t),getOrCreate:Qt(t),overwrite:Zt(t),useCustomTokenCount:Jt(t),customTokenCountFunction:en(t),useCustomTextSplit:tn(t),customTextSplitFunction:nn(t),customTextTypes:rn(t),recursive:an(t),distanceThreshold:on(t),nResults:sn(t)}:fe},Ot=e=>{let t="default";return"task"in e&&"string"==typeof e.task&&["code","qa","default"].includes(e.task)&&(t=e.task),t},Tt=e=>{let t="chroma";return"vectorDb"in e&&"string"==typeof e.vectorDb&&["chroma","pgvector","mongodb","qdrant"].includes(e.vectorDb)&&(t=e.vectorDb),t},Et=e=>{let t="all-MiniLM-L6-v2";return"model"in e&&"string"==typeof e.model&&e.model.length>0&&(t=e.model),t},Mt=e=>{let t=!1;return"useMemory"in e&&"boolean"==typeof e.useMemory&&(t=e.useMemory),t},Nt=e=>{let t=!1;return"useLocalStorage"in e&&"boolean"==typeof e.useLocalStorage&&(t=e.useLocalStorage),t},Pt=e=>{let t=null;return"localStoragePath"in e&&"string"==typeof e.localStoragePath&&e.localStoragePath.length>0&&(t=e.localStoragePath),t},It=e=>{let t=null;return"connectionUrl"in e&&"string"==typeof e.connectionUrl&&e.connectionUrl.length>0&&(t=e.connectionUrl),t},Dt=e=>{let t=null;return"waitUntilIndexReady"in e&&"boolean"==typeof e.waitUntilIndexReady&&(t=e.waitUntilIndexReady),t},Rt=e=>{let t=null;return"waitUntilDocumentReady"in e&&"boolean"==typeof e.waitUntilDocumentReady&&(t=e.waitUntilDocumentReady),t},_t=e=>{let t=null;return"metadata"in e&&"object"==typeof e.metadata&&e.metadata&&(t=e.metadata),t},Lt=e=>{let t={model:"all-MiniLM-L6-v2",useMemory:!1,useLocalStorage:!1,localStoragePath:null,connectionUrl:null,waitUntilIndexReady:null,waitUntilDocumentReady:null,metadata:null};return"dbConfig"in e&&"object"==typeof e.dbConfig&&(t={model:Et(e.dbConfig),useMemory:Mt(e.dbConfig),useLocalStorage:Nt(e.dbConfig),localStoragePath:Pt(e.dbConfig),connectionUrl:It(e.dbConfig),waitUntilIndexReady:Dt(e.dbConfig),waitUntilDocumentReady:Rt(e.dbConfig),metadata:_t(e.dbConfig)}),t},zt=e=>{let t=[];return"docsPath"in e&&Array.isArray(e.docsPath)&&e.docsPath.length>0&&(t=e.docsPath.filter(e=>"string"==typeof e&&e.length>0)),t},Bt=e=>{let t=!0;return"newDocs"in e&&"boolean"==typeof e.newDocs&&(t=e.newDocs),t},Ft=e=>{let t=null;return"model"in e&&"string"==typeof e.model&&(t=e.model),t},Ut=e=>{let t=null;return"chunkTokenSize"in e&&"number"==typeof e.chunkTokenSize&&(t=e.chunkTokenSize),t},qt=e=>{let t=null;return"contextMaxTokens"in e&&"number"==typeof e.contextMaxTokens&&(t=e.contextMaxTokens),t},Ht=e=>{let t="multi_lines";return"chunkMode"in e&&"string"==typeof e.chunkMode&&["multi_lines","one_line"].includes(e.chunkMode)&&(t=e.chunkMode),t},Wt=e=>{let t=!0;return"mustBreakAtEmptyLine"in e&&"boolean"==typeof e.mustBreakAtEmptyLine&&(t=e.mustBreakAtEmptyLine),t},Vt=e=>{let t=!1;return"useCustomEmbedding"in e&&"boolean"==typeof e.useCustomEmbedding&&(t=e.useCustomEmbedding),t},$t=e=>{let t=null;return"embeddingFunction"in e&&"string"==typeof e.embeddingFunction&&(t=e.embeddingFunction),t},Gt=e=>{let t=null;return"customizedPrompt"in e&&"string"==typeof e.customizedPrompt&&(t=e.customizedPrompt),t},Kt=e=>{let t=null;return"customizedAnswerPrefix"in e&&"string"==typeof e.customizedAnswerPrefix&&(t=e.customizedAnswerPrefix),t},Xt=e=>{let t=!0;return"updateContext"in e&&"boolean"==typeof e.updateContext&&(t=e.updateContext),t},Yt=e=>{let t="autogen-docs";return"collectionName"in e&&"string"==typeof e.collectionName&&(t=e.collectionName),t},Qt=e=>{let t=!0;return"getOrCreate"in e&&"boolean"==typeof e.getOrCreate&&(t=e.getOrCreate),t},Zt=e=>{let t=!1;return"overwrite"in e&&"boolean"==typeof e.overwrite&&(t=e.overwrite),t},Jt=e=>{let t=!1;return"useCustomTokenCount"in e&&"boolean"==typeof e.useCustomTokenCount&&(t=e.useCustomTokenCount),t},en=e=>{let t=null;return"customTokenCountFunction"in e&&"string"==typeof e.customTokenCountFunction&&(t=e.customTokenCountFunction),t},tn=e=>{let t=!1;return"useCustomTextSplit"in e&&"boolean"==typeof e.useCustomTextSplit&&(t=e.useCustomTextSplit),t},nn=e=>{let t=null;return"customTextSplitFunction"in e&&"string"==typeof e.customTextSplitFunction&&(t=e.customTextSplitFunction),t},rn=e=>{let t=[];return"customTextTypes"in e&&Array.isArray(e.customTextTypes)&&e.customTextTypes.length>0&&(t=e.customTextTypes.filter(e=>"string"==typeof e&&e.length>0)),t},an=e=>{let t=!0;return"recursive"in e&&"boolean"==typeof e.recursive&&(t=e.recursive),t},on=e=>{let t=-1;return"distanceThreshold"in e&&"number"==typeof e.distanceThreshold&&(t=e.distanceThreshold),t},sn=e=>{let t=null;return"nResults"in e&&"number"==typeof e.nResults&&(t=e.nResults),t},ln=e=>"type"in e&&"string"==typeof e.type&&["none","keyword","method"].includes(e.type)?e.type:"none",cn=e=>{let t=[];return"keywords"in e&&Array.isArray(e.keywords)&&(t=e.keywords.filter(e=>"string"==typeof e)),t},un=e=>"criterion"in e&&"string"==typeof e.criterion&&["found","ending","exact"].includes(e.criterion)?e.criterion:null,dn=e=>"methodContent"in e&&"string"==typeof e.methodContent?e.methodContent:null,pn={agent:"#005490",assistant:"#66bc57",captain:"#0e2766",user_proxy:"#bc76f5",rag_user_proxy:"#e34561",reasoning:"#63D0D4",group_manager:"#ed8a34"},fn={agent:"#005490",assistant:"#66bc57",captain:"#284ca4",user_proxy:"#bc76f5",rag_user_proxy:"#e34561",reasoning:"#63D0D4",group_manager:"#ed8a34"},hn="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M16%208.016A8.522%208.522%200%20008.016%2016h-.032A8.521%208.521%200%20000%208.016v-.032A8.521%208.521%200%20007.984%200h.032A8.522%208.522%200%200016%207.984v.032z'%20fill='url(%23prefix__paint0_radial_980_20147)'/%3e%3cdefs%3e%3cradialGradient%20id='prefix__paint0_radial_980_20147'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(16.1326%205.4553%20-43.70045%20129.2322%201.588%206.503)'%3e%3cstop%20offset='.067'%20stop-color='%239168C0'/%3e%3cstop%20offset='.343'%20stop-color='%235684D1'/%3e%3cstop%20offset='.672'%20stop-color='%231BA1E3'/%3e%3c/radialGradient%3e%3c/defs%3e%3c/svg%3e",mn={openai:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20viewBox='0%200%20320%20320'%20version='1.1'%20id='svg7'%20width='320'%20height='320'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs7'%20/%3e%3cpath%20d='M%20298.89867,130.97427%20C%20306.25636,109.18381%20303.72272,85.313302%20291.9565,65.492879%20274.26156,35.092232%20238.68927,19.451898%20203.94801,26.812055%20188.49281,9.6316894%20166.288,-0.13851872%20143.00893,0.00148426%20107.49744,-0.07851744%2075.989107,22.481963%2065.064056,55.822673%2042.25117,60.432772%2022.559727,74.523072%2011.036736,94.493497%20-6.7899476,124.81414%20-2.7259906,163.03495%2021.090216,189.03551%20c%20-7.357688,21.79046%20-4.824049,45.66097%206.942171,65.48139%2017.694935,30.40065%2053.267228,46.04098%2088.008483,38.68083%2015.44507,17.18036%2037.66001,26.95057%2060.93909,26.80057%2035.53175,0.09%2067.05022,-22.49048%2077.97527,-55.86119%2022.81289,-4.6101%2042.50433,-18.7004%2054.02732,-38.67083%2017.80642,-30.32064%2013.73233,-68.51146%20-10.07375,-94.51201%20z%20M%20177.00023,299.08785%20c%20-14.21879,0.02%20-27.99165,-4.8901%20-38.90656,-13.88029%200.49659,-0.26001%201.35803,-0.73002%201.91543,-1.07003%20l%2064.57739,-36.80078%20c%203.30386,-1.85004%205.33078,-5.32011%205.31051,-9.07019%20v%20-89.83192%20l%2027.29236,15.55033%20c%200.2939,0.14001%200.48646,0.42001%200.52699,0.74002%20v%2074.39158%20c%20-0.0405,33.08071%20-27.19101,59.90128%20-60.71612,59.97128%20z%20M%2046.426607,244.05668%20c%20-7.124593,-12.14026%20-9.688636,-26.37056%20-7.246208,-40.18086%200.476324,0.28001%201.317492,0.79002%201.915431,1.13003%20l%2064.57739,36.80078%20c%203.27346,1.89004%207.32728,1.89004%2010.61088,0%20l%2078.83671,-44.92096%20v%2031.10067%20c%200.0203,0.32%20-0.13175,0.63001%20-0.38511,0.83002%20l%20-65.27668,37.19079%20C%20100.38298,282.5275%2063.24997,272.70729%2046.436741,244.05668%20Z%20M%2029.430956,104.96372%20c%207.094189,-12.160259%2018.292874,-21.460457%2031.62995,-26.29056%200,0.550012%20-0.0304,1.520033%20-0.0304,2.200047%20v%2073.611563%20c%20-0.02027,3.74008%202.006642,7.21016%205.300373,9.06019%20l%2078.836711,44.91096%20-27.29236,15.55033%20c%20-0.27364,0.18001%20-0.61821,0.21001%20-0.92225,0.08%20L%2051.666172,186.86546%20C%2022.650938,170.28511%2012.698804,133.65433%2029.420821,104.97372%20Z%20m%20224.237184,51.49109%20-78.83671,-44.92095%2027.29236,-15.540331%20c%200.27363,-0.180004%200.61821,-0.210004%200.92225,-0.08%20l%2065.28681,37.190791%20c%2029.0659,16.57035%2039.02817,53.26113%2022.23521,81.94174%20-7.10432,12.14026%20-18.29287,21.44046%20-31.61981,26.28056%20v%20-75.81161%20c%200.0304,-3.74008%20-1.98637,-7.20016%20-5.26997,-9.0602%20z%20m%2027.16062,-40.34086%20c%20-0.47633,-0.29%20-1.3175,-0.79001%20-1.91544,-1.13002%20L%20214.33593,78.18315%20c%20-3.27346,-1.890041%20-7.32728,-1.890041%20-10.61088,0%20L%20124.88834,123.1041%20V%2092.003444%20c%20-0.0203,-0.320007%200.13175,-0.630013%200.38511,-0.830017%20l%2065.27668,-37.160792%20c%2029.07604,-16.550353%2066.24959,-6.700143%2083.01215,22.000469%207.08405,12.120258%209.6481,26.310556%207.24621,40.100846%20z%20M%20110.05135,171.54513%2082.748856,155.9948%20c%20-0.293902,-0.14%20-0.486458,-0.42001%20-0.526997,-0.74001%20V%2080.863207%20c%200.02027,-33.120706%2027.251821,-59.961278%2060.817471,-59.941277%2014.19851,0%2027.94097,4.920105%2038.85589,13.880295%20-0.4966,0.260006%20-1.3479,0.730016%20-1.91543,1.070023%20l%20-64.5774,36.800784%20c%20-3.30386,1.85004%20-5.33077,5.310113%20-5.3105,9.060193%20l%20-0.0405,89.791905%20z%20m%2014.82685,-31.54067%2035.11624,-20.01042%2035.11624,20.00042%20v%2040.01086%20l%20-35.11624,20.00042%20-35.11624,-20.00042%20z'%20id='path7'%20style='stroke-width:1.00672'%20/%3e%3c/svg%3e",azure:"data:image/svg+xml,%3csvg%20width='150'%20height='150'%20viewBox='0%200%2096%2096'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3clinearGradient%20id='e399c19f-b68f-429d-b176-18c2117ff73c'%20x1='-1032.172'%20x2='-1059.213'%20y1='145.312'%20y2='65.426'%20gradientTransform='matrix(1%200%200%20-1%201075%20158)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%23114a8b'/%3e%3cstop%20offset='1'%20stop-color='%230669bc'/%3e%3c/linearGradient%3e%3clinearGradient%20id='ac2a6fc2-ca48-4327-9a3c-d4dcc3256e15'%20x1='-1023.725'%20x2='-1029.98'%20y1='108.083'%20y2='105.968'%20gradientTransform='matrix(1%200%200%20-1%201075%20158)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-opacity='.3'/%3e%3cstop%20offset='.071'%20stop-opacity='.2'/%3e%3cstop%20offset='.321'%20stop-opacity='.1'/%3e%3cstop%20offset='.623'%20stop-opacity='.05'/%3e%3cstop%20offset='1'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='a7fee970-a784-4bb1-af8d-63d18e5f7db9'%20x1='-1027.165'%20x2='-997.482'%20y1='147.642'%20y2='68.561'%20gradientTransform='matrix(1%200%200%20-1%201075%20158)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%233ccbf4'/%3e%3cstop%20offset='1'%20stop-color='%232892df'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20fill='url(%23e399c19f-b68f-429d-b176-18c2117ff73c)'%20d='M33.338%206.544h26.038l-27.03%2080.087a4.152%204.152%200%200%201-3.933%202.824H8.149a4.145%204.145%200%200%201-3.928-5.47L29.404%209.368a4.152%204.152%200%200%201%203.934-2.825z'/%3e%3cpath%20fill='%230078d4'%20d='M71.175%2060.261h-41.29a1.911%201.911%200%200%200-1.305%203.309l26.532%2024.764a4.171%204.171%200%200%200%202.846%201.121h23.38z'/%3e%3cpath%20fill='url(%23ac2a6fc2-ca48-4327-9a3c-d4dcc3256e15)'%20d='M33.338%206.544a4.118%204.118%200%200%200-3.943%202.879L4.252%2083.917a4.14%204.14%200%200%200%203.908%205.538h20.787a4.443%204.443%200%200%200%203.41-2.9l5.014-14.777%2017.91%2016.705a4.237%204.237%200%200%200%202.666.972H81.24L71.024%2060.261l-29.781.007L59.47%206.544z'/%3e%3cpath%20fill='url(%23a7fee970-a784-4bb1-af8d-63d18e5f7db9)'%20d='M66.595%209.364a4.145%204.145%200%200%200-3.928-2.82H33.648a4.146%204.146%200%200%201%203.928%202.82l25.184%2074.62a4.146%204.146%200%200%201-3.928%205.472h29.02a4.146%204.146%200%200%200%203.927-5.472z'/%3e%3c/svg%3e",bedrock:"data:image/svg+xml,%3csvg%20fill='currentColor'%20fill-rule='evenodd'%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eBedrock%3c/title%3e%3cpath%20d='M13.05%2015.513h3.08c.214%200%20.389.177.389.394v1.82a1.704%201.704%200%20011.296%201.661c0%20.943-.755%201.708-1.685%201.708-.931%200-1.686-.765-1.686-1.708%200-.807.554-1.484%201.297-1.662v-1.425h-2.69v4.663a.395.395%200%2001-.188.338l-2.69%201.641a.385.385%200%2001-.405-.002l-4.926-3.086a.395.395%200%2001-.185-.336V16.3L2.196%2014.87A.395.395%200%20012%2014.555L2%2014.528V9.406c0-.14.073-.27.192-.34l2.465-1.462V4.448c0-.129.062-.249.165-.322l.021-.014L9.77%201.058a.385.385%200%2001.407%200l2.69%201.675a.395.395%200%2001.185.336V7.6h3.856V5.683a1.704%201.704%200%2001-1.296-1.662c0-.943.755-1.708%201.685-1.708.931%200%201.685.765%201.685%201.708%200%20.807-.553%201.484-1.296%201.662v2.311a.391.391%200%2001-.389.394h-4.245v1.806h6.624a1.69%201.69%200%20011.64-1.313c.93%200%201.685.764%201.685%201.707%200%20.943-.754%201.708-1.685%201.708a1.69%201.69%200%2001-1.64-1.314H13.05v1.937h4.953l.915%201.18a1.66%201.66%200%2001.84-.227c.931%200%201.685.764%201.685%201.707%200%20.943-.754%201.708-1.685%201.708-.93%200-1.685-.765-1.685-1.708%200-.346.102-.668.276-.937l-.724-.935H13.05v1.806zM9.973%201.856L7.93%203.122V6.09h-.778V3.604L5.435%204.669v2.945l2.11%201.36L9.712%207.61V5.334h.778V7.83c0%20.136-.07.263-.184.335L7.963%209.638v2.081l1.422%201.009-.446.646-1.406-.998-1.53%201.005-.423-.66%201.605-1.055v-1.99L5.038%208.29l-2.26%201.34v1.676l1.972-1.189.398.677-2.37%201.429V14.3l2.166%201.258%202.27-1.368.397.677-2.176%201.311V19.3l1.876%201.175%202.365-1.426.398.678-2.017%201.216%201.918%201.201%202.298-1.403v-5.78l-4.758%202.893-.4-.675%205.158-3.136V3.289L9.972%201.856zM16.13%2018.47a.913.913%200%2000-.908.92c0%20.507.406.918.908.918a.913.913%200%2000.907-.919.913.913%200%2000-.907-.92zm3.63-3.81a.913.913%200%2000-.908.92c0%20.508.406.92.907.92a.913.913%200%2000.908-.92.913.913%200%2000-.908-.92zm1.555-4.99a.913.913%200%2000-.908.92c0%20.507.407.918.908.918a.913.913%200%2000.907-.919.913.913%200%2000-.907-.92zM17.296%203.1a.913.913%200%2000-.907.92c0%20.508.406.92.907.92a.913.913%200%2000.908-.92.913.913%200%2000-.908-.92z'%3e%3c/path%3e%3c/svg%3e",deepseek:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg:svg%20width='64'%20height='64'%20viewBox='0%200%2064%2064.000039'%20fill='none'%20version='1.1'%20id='svg7'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3csvg:path%20id='path7'%20d='m%2059.511568,14.791492%20c%20-0.5953,-0.29175%20-0.8517,0.26416%20-1.1998,0.54663%20-0.1191,0.09107%20-0.2198,0.20947%20-0.3206,0.31885%20-0.8701,0.9292%20-1.8867,1.53979%20-3.2148,1.4668%20-1.9417,-0.10938%20-3.5995,0.50122%20-5.065,1.98632%20-0.3114,-1.83129%20-1.3463,-2.9248%20-2.9217,-3.62622%20-0.8242,-0.3645%20-1.6577,-0.729%20-2.2348,-1.52172%20-0.4029,-0.5647%20-0.5129,-1.19336%20-0.7143,-1.812993%20-0.1283,-0.373535%20-0.2565,-0.756347%20-0.687,-0.820068%20-0.4671,-0.07275%20-0.6503,0.318848%20-0.8335,0.646973%20-0.7327,1.339358%20-1.0166,2.815428%20-0.9892,4.309568%200.0641,3.36206%201.4838,6.04057%204.3048,7.94487%200.3206,0.2187%200.403,0.4372%200.3023,0.7563%20-0.1924,0.656%20-0.4214,1.2937%20-0.6228,1.9497%20-0.1283,0.4192%20-0.3207,0.5103%20-0.7694,0.3279%20-1.5479,-0.6467%20-2.8852,-1.6035%20-4.0667,-2.7605%20-2.0058,-1.9407%20-3.8193,-4.08179%20-6.0815,-5.75831%20-0.5313,-0.39184%20-1.0625,-0.7561%20-1.6121,-1.10254%20-2.3081,-2.24121%200.3023,-4.08178%200.9068,-4.30029%200.6319,-0.22778%200.2198,-1.01147%20-1.8227,-1.0022%20-2.0425,0.009%20-3.9109,0.69239%20-6.2922,1.60352%20-0.348,0.13672%20-0.7145,0.23682%20-1.09,0.31885%20-2.1615,-0.40992%20-4.4055,-0.50122%20-6.7502,-0.23682%20-4.414689,0.49194%20-7.9408194,2.57837%20-10.5328594,6.14087%20-3.1141341,4.28222%20-3.8468001,9.14742%20-2.9492171,14.22242%200.9433571,5.3481%203.6727271,9.7761%207.8675575,13.2385%204.350619,3.5896%209.360619,5.3482%2015.075819,5.011%203.4713,-0.2004%207.3364,-0.665%2011.6961,-4.355%201.099,0.5467%202.2531,0.7652%204.1674,0.9292%201.4746,0.1367%202.8943,-0.0727%203.9933,-0.3005%201.7219,-0.3645%201.6029,-1.959%200.9801,-2.2505%20-5.0466,-2.3506%20-3.9385,-1.394%20-4.9459,-2.1685%202.5645,-3.0339%206.4297,-6.1865%207.9409,-16.4001%200.119,-0.8108%200.0183,-1.3211%200,-1.9771%20-0.0092,-0.4008%200.0824,-0.5556%200.5404,-0.6013%201.2639,-0.1457%202.4912,-0.4919%203.6178,-1.1115%203.2698,-1.7857%204.5886,-4.71953%204.9,-8.23638%200.0459,-0.53759%20-0.0091,-1.0935%20-0.577,-1.37573%20z%20m%20-28.4938,31.65181%20c%20-4.8909,-3.8447%20-7.263,-5.1113%20-8.2431,-5.0566%20-0.9159,0.0547%20-0.751,1.1025%20-0.5496,1.7859%200.2107,0.6741%200.4855,1.1389%200.8701,1.731%200.2656,0.3918%200.4489,0.9748%20-0.2655,1.4123%20-1.5754,0.9749%20-4.314,-0.3281%20-4.4423,-0.3918%20-3.1872,-1.877%20-5.852489,-4.3553%20-7.730179,-7.7444%20-1.8134704,-3.262%20-2.8667004,-6.7605%20-3.0407704,-10.4961%20-0.04577,-0.9019%200.21985,-1.221%201.11743,-1.3848%201.18152,-0.2187%202.3996604,-0.2644%203.5811804,-0.0913%204.991739,0.729%209.241439,2.9612%2012.804339,6.4963%202.0333,2.0135%203.572,4.419%205.1566,6.7696%201.6852,2.4963%203.4987,4.8745%205.8068,6.8242%200.8151,0.6833%201.4654,1.2026%202.0882,1.5854%20-1.8775,0.2095%20-5.01,0.2552%20-7.1532,-1.4397%20z%20m%202.3447,-15.0788%20c%200,-0.4009%200.3206,-0.7197%200.7237,-0.7197%200.0915,0%200.1739,0.018%200.2472,0.0454%200.1008,0.0366%200.1924,0.0913%200.2656,0.1731%200.1283,0.1277%200.2015,0.3098%200.2015,0.5012%200,0.4009%20-0.3205,0.7197%20-0.7235,0.7197%20-0.4031,0%20-0.7145,-0.3188%20-0.7145,-0.7197%20z%20m%207.2815,3.7356%20c%20-0.4671,0.1914%20-0.9342,0.3552%20-1.383,0.3735%20-0.6961,0.0364%20-1.4563,-0.2461%20-1.8684,-0.5923%20-0.6411,-0.5376%20-1.0991,-0.8381%20-1.2915,-1.7766%20-0.0824,-0.4009%20-0.0367,-1.0205%200.0367,-1.3757%200.1648,-0.7654%20-0.0184,-1.2573%20-0.5587,-1.7039%20-0.4397,-0.3645%20-0.9984,-0.4646%20-1.6121,-0.4646%20-0.229,0%20-0.4395,-0.1003%20-0.5953,-0.1823%20-0.2565,-0.1275%20-0.467,-0.4463%20-0.2656,-0.8382%200.0641,-0.1274%200.3756,-0.4372%200.4488,-0.4919%200.8335,-0.4739%201.7952,-0.3189%202.6836,0.0364%200.8244,0.3371%201.4472,0.9567%202.3447,1.8313%200.9159,1.0568%201.0807,1.3486%201.6028,2.1411%200.4123,0.6196%200.7878,1.2573%201.0442,1.9863%200.1557,0.4556%20-0.0458,0.8291%20-0.5862,1.0569%20z'%20fill-rule='nonzero'%20fill='%234d6bfe'%20/%3e%3cscript%20/%3e%3c/svg:svg%3e",google:hn,gemini:hn,anthropic:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20version='1.1'%20viewBox='0%200%20149.99999%20150'%20width='150'%20height='150'%20id='svg1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1'%3e%3cstyle%20id='style1'%3e%20.cls-1%20{%20fill:%20%230f0f0d;%20}%20.cls-1,%20.cls-2%20{%20stroke-width:%200px;%20}%20.cls-2%20{%20fill:%20%23d97757;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-2'%20d='m%2030.005,99.45%2029.14,-16.35%200.49,-1.42%20-0.49,-0.79%20h%20-1.42%20l%20-4.87,-0.3%20-16.65,-0.45%20-14.44,-0.6%20-13.99,-0.75%20-3.52,-0.75%20-3.3,-4.35%200.34,-2.17%202.96,-1.99%204.24,0.37%209.37,0.64%2014.06,0.97%2010.2,0.6%2015.11,1.57%20h%202.4%20l%200.34,-0.97%20-0.82,-0.6%20-0.64,-0.6%20-14.55,-9.86%20-15.75,-10.42%20-8.25,-6%20-4.46,-3.04%20-2.25,-2.85%20-0.97,-6.22%204.05,-4.46%205.44,0.37%201.39,0.37%205.51,4.24%2011.77,9.11%2015.37,11.32%202.25,1.87%200.9,-0.64%200.11,-0.45%20-1.01,-1.69%20-8.36,-15.11%20-8.92,-15.37%20-3.97,-6.37%20-1.05,-3.82%20c%20-0.37,-1.57%20-0.64,-2.89%20-0.64,-4.5%20l%204.61,-6.26%202.55,-0.82%206.15,0.82%202.59,2.25%203.82,8.74%206.19,13.76%209.6,18.71%202.81,5.55%201.5,5.14%200.56,1.57%20h%200.97%20v%20-0.9%20l%200.79,-10.54%201.46,-12.94%201.42,-16.65%200.49,-4.69%202.32,-5.62%204.61,-3.04%203.6,1.72%202.96,4.24%20-0.41,2.74%20-1.76,11.44%20-3.45,17.92%20-2.25,12%20h%201.31%20l%201.5,-1.5%206.07,-8.06%2010.2,-12.75%204.5,-5.06%205.25,-5.59%203.37,-2.66%20h%206.37%20l%204.69,6.97%20-2.1,7.2%20-6.56,8.32%20-5.44,7.05%20-7.8,10.5%20-4.87,8.4%200.45,0.67%201.16,-0.11%2017.62,-3.75%209.52,-1.72%2011.36,-1.95%205.14,2.4%200.56,2.44%20-2.02,4.99%20-12.15,3%20-14.25,2.85%20-21.22,5.02%20-0.26,0.19%200.3,0.37%209.56,0.9%204.09,0.22%20h%2010.01%20l%2018.64,1.39%204.87,3.22%202.92,3.94%20-0.49,3%20-7.5,3.82%20-10.12,-2.4%20-23.62,-5.62%20-8.1,-2.02%20h%20-1.12%20v%200.67%20l%206.75,6.6%2012.37,11.17%2015.49,14.4%200.79,3.56%20-1.99,2.81%20-2.1,-0.3%20-13.61,-10.24%20-5.25,-4.61%20-11.89,-10.01%20h%20-0.79%20v%201.05%20l%202.74,4.01%2014.47,21.75%200.75,6.67%20-1.05,2.17%20-3.75,1.31%20-4.12,-0.75%20-8.47,-11.89%20-8.74,-13.39%20-7.05,-12%20-0.86,0.49%20-4.16,44.81%20-1.95,2.29%20-4.5,1.72%20-3.75,-2.85%20-1.99,-4.61%201.99,-9.11%202.4,-11.89%201.95,-9.45%201.76,-11.74%201.05,-3.9%20-0.07,-0.26%20-0.86,0.11%20-8.85,12.15%20-13.46,18.19%20-10.65,11.4%20-2.55,1.01%20-4.42,-2.29%200.41,-4.09%202.47,-3.64%2014.74,-18.75%208.89,-11.62%205.74,-6.71%20-0.04,-0.97%20h%20-0.34%20l%20-39.15,25.42%20-6.97,0.9%20-3,-2.81%200.37,-4.61%201.42,-1.5%2011.77,-8.1%20-0.04,0.04%20z'%20shape-rendering='optimizeQuality'%20id='path1'%20/%3e%3c/svg%3e",cohere:"data:image/svg+xml,%3csvg%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eCohere%3c/title%3e%3cpath%20clip-rule='evenodd'%20d='M8.128%2014.099c.592%200%201.77-.033%203.398-.703%201.897-.781%205.672-2.2%208.395-3.656%201.905-1.018%202.74-2.366%202.74-4.18A4.56%204.56%200%200018.1%201H7.549A6.55%206.55%200%20001%207.55c0%203.617%202.745%206.549%207.128%206.549z'%20fill='%2339594D'%20fill-rule='evenodd'%3e%3c/path%3e%3cpath%20clip-rule='evenodd'%20d='M9.912%2018.61a4.387%204.387%200%20012.705-4.052l3.323-1.38c3.361-1.394%207.06%201.076%207.06%204.715a5.104%205.104%200%2001-5.105%205.104l-3.597-.001a4.386%204.386%200%2001-4.386-4.387z'%20fill='%23D18EE2'%20fill-rule='evenodd'%3e%3c/path%3e%3cpath%20d='M4.776%2014.962A3.775%203.775%200%20001%2018.738v.489a3.776%203.776%200%20007.551%200v-.49a3.775%203.775%200%2000-3.775-3.775z'%20fill='%23FF7759'%3e%3c/path%3e%3c/svg%3e",mistral:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20version='1.1'%20id='Layer_1'%20x='0px'%20y='0px'%20viewBox='0%200%20500%20500'%20style='enable-background:new%200%200%20500%20500;'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs119'%20/%3e%3cg%20id='g94'%3e%3c/g%3e%3cg%20id='g119'%3e%3crect%20x='352.273'%20y='45.455'%20width='81.818'%20height='81.818'%20id='rect94'%20/%3e%3crect%20x='393.182'%20y='45.455'%20style='fill:%23F7D046;'%20width='81.818'%20height='81.818'%20id='rect95'%20/%3e%3crect%20x='25'%20y='45.455'%20width='81.818'%20height='81.818'%20id='rect96'%20/%3e%3crect%20x='25'%20y='127.273'%20width='81.818'%20height='81.818'%20id='rect97'%20/%3e%3crect%20x='25'%20y='209.091'%20width='81.818'%20height='81.818'%20id='rect98'%20/%3e%3crect%20x='25'%20y='290.909'%20width='81.818'%20height='81.818'%20id='rect99'%20/%3e%3crect%20x='25'%20y='372.727'%20width='81.818'%20height='81.818'%20id='rect100'%20/%3e%3crect%20x='65.909'%20y='45.455'%20style='fill:%23F7D046;'%20width='81.818'%20height='81.818'%20id='rect101'%20/%3e%3crect%20x='393.182'%20y='127.273'%20style='fill:%23F2A73B;'%20width='81.818'%20height='81.818'%20id='rect102'%20/%3e%3crect%20x='65.909'%20y='127.273'%20style='fill:%23F2A73B;'%20width='81.818'%20height='81.818'%20id='rect103'%20/%3e%3crect%20x='270.455'%20y='127.273'%20width='81.818'%20height='81.818'%20id='rect104'%20/%3e%3crect%20x='311.364'%20y='127.273'%20style='fill:%23F2A73B;'%20width='81.818'%20height='81.818'%20id='rect105'%20/%3e%3crect%20x='147.727'%20y='127.273'%20style='fill:%23F2A73B;'%20width='81.818'%20height='81.818'%20id='rect106'%20/%3e%3crect%20x='229.545'%20y='209.091'%20style='fill:%23EE792F;'%20width='81.818'%20height='81.818'%20id='rect107'%20/%3e%3crect%20x='311.364'%20y='209.091'%20style='fill:%23EE792F;'%20width='81.818'%20height='81.818'%20id='rect108'%20/%3e%3crect%20x='147.727'%20y='209.091'%20style='fill:%23EE792F;'%20width='81.818'%20height='81.818'%20id='rect109'%20/%3e%3crect%20x='188.636'%20y='290.909'%20width='81.818'%20height='81.818'%20id='rect110'%20/%3e%3crect%20x='229.545'%20y='290.909'%20style='fill:%23EB5829;'%20width='81.818'%20height='81.818'%20id='rect111'%20/%3e%3crect%20x='393.182'%20y='209.091'%20style='fill:%23EE792F;'%20width='81.818'%20height='81.818'%20id='rect112'%20/%3e%3crect%20x='65.909'%20y='209.091'%20style='fill:%23EE792F;'%20width='81.818'%20height='81.818'%20id='rect113'%20/%3e%3crect%20x='352.273'%20y='290.909'%20width='81.818'%20height='81.818'%20id='rect114'%20/%3e%3crect%20x='393.182'%20y='290.909'%20style='fill:%23EB5829;'%20width='81.818'%20height='81.818'%20id='rect115'%20/%3e%3crect%20x='352.273'%20y='372.727'%20width='81.818'%20height='81.818'%20id='rect116'%20/%3e%3crect%20x='65.909'%20y='290.909'%20style='fill:%23EB5829;'%20width='81.818'%20height='81.818'%20id='rect117'%20/%3e%3crect%20x='393.182'%20y='372.727'%20style='fill:%23EA3326;'%20width='81.818'%20height='81.818'%20id='rect118'%20/%3e%3crect%20x='65.909'%20y='372.727'%20style='fill:%23EA3326;'%20width='81.818'%20height='81.818'%20id='rect119'%20/%3e%3c/g%3e%3c/svg%3e",groq:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='120'%20height='120'%20viewBox='0%200%2031.749999%2031.75'%20version='1.1'%20id='svg1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1'%20/%3e%3cg%20id='layer1'%20transform='translate(-1.0583336,-1.0583335)'%3e%3cg%20id='g1'%20transform='matrix(0.0839389,0,0,0.0839389,5.9375622,2.6051197)'%20style='fill:%23f55036;fill-opacity:1'%3e%3cpath%20d='M%20131.6,6.5%20C%2069.5,6%2018.7,55.8%2018.1,117.9%2017.5,180%2067.4,230.8%20129.5,231.4%20c%200.7,0%201.4,0%202.1,0%20h%2037%20v%20-42.1%20h%20-37%20C%2092.8,189.8%2061,158.7%2060.5,119.9%2060,81.1%2091.1,49.3%20129.9,48.8%20c%200.5,0%201.1,0%201.6,0%2038.7,0%2070.4,31.5%2070.4,70.3%20v%200%20103.5%200%20c%200,38.5%20-31.3,69.8%20-69.7,70.3%20-18.4,-0.2%20-35.9,-7.5%20-48.9,-20.6%20L%2053.5,302%20c%2020.7,20.8%2048.7,32.6%2078,32.9%20v%200%20h%201.5%20v%200%20C%20194.3,334%20243.6,284.3%20243.9,223%20V%20116.2%20C%20242.4,55.2%20192.5,6.6%20131.6,6.5%20Z'%20id='path2'%20style='fill:%23f55036;fill-opacity:1'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",together:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='74'%20height='74'%20viewBox='0%200%2019.579168%2019.579168'%20version='1.1'%20id='svg1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1'%20/%3e%3cg%20id='layer1'%3e%3cg%20id='g1'%20transform='translate(-0.147916,-0.147916)'%3e%3ccircle%20style='fill:%230f6eff;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1'%20cx='9.9375'%20cy='4.1166668'%20r='2'%20/%3e%3ccircle%20style='fill:%23d3d3d3;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1-5-7-6'%20cx='4.1166668'%20cy='9.9375'%20r='2'%20/%3e%3ccircle%20style='fill:%23d3d3d3;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1-5-7-6-2'%20cx='9.9375'%20cy='9.9375'%20r='2'%20/%3e%3ccircle%20style='fill:%23d3d3d3;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1-5-7-6-2-7'%20cx='15.758333'%20cy='9.9375'%20r='2'%20/%3e%3ccircle%20style='fill:%23d3d3d3;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1-5-7-6-9'%20cx='4.1166668'%20cy='15.758333'%20r='2'%20/%3e%3ccircle%20style='fill:%23d3d3d3;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1-5-7-6-2-3'%20cx='9.9920893'%20cy='15.758333'%20r='2'%20/%3e%3ccircle%20style='fill:%23d3d3d3;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1-5-7-6-2-7-1'%20cx='15.758333'%20cy='15.758333'%20r='2'%20/%3e%3ccircle%20style='fill:%23d3d3d3;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1-5-7-6-2-7-1-37'%20cx='15.758333'%20cy='4.1166668'%20r='2'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",nim:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg:svg%20version='1.1'%20x='0px'%20y='0px'%20width='196'%20height='196'%20viewBox='0%200%20196%20196'%20enable-background='new%200%200%20700%20550'%20xml:space='preserve'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3csvg:defs%20id='defs1'%20/%3e%3csvg:path%20id='Eye_Mark_1_'%20fill='%2374b71b'%20d='M%2073.456372,72.194042%20V%2060.631527%20c%201.12198,-0.07937%202.255948,-0.139319%203.411415,-0.176111%2031.622563,-0.993824%2052.369263,27.171848%2052.369263,27.171848%200,0%20-22.40735,31.122346%20-46.43236,31.122346%20-3.460197,0%20-6.55701,-0.55769%20-9.348318,-1.49488%20V%2082.193886%20c%2012.310363,1.487017%2014.78583,6.924941%2022.189081,19.262174%20L%20112.10639,87.577242%20c%200,0%20-12.0156,-15.759812%20-32.271598,-15.759812%20-2.204274,4.13e-4%20-4.310571,0.155853%20-6.37842,0.376612%20m%200,-38.194042%20v%2017.270393%20c%201.134795,-0.09013%202.271245,-0.161642%203.411415,-0.203395%2043.975923,-1.481642%2072.626093,36.065421%2072.626093,36.065421%200,0%20-32.90865,40.016331%20-67.191477,40.016331%20-3.141461,0%20-6.082834,-0.29021%20-8.846445,-0.77927%20v%2010.67535%20c%202.363435,0.30054%204.811617,0.47748%207.366457,0.47748%2031.904925,0%2054.977025,-16.29186%2077.319065,-35.57636%203.70121,2.96618%2018.86737,10.18133%2021.9861,13.34346%20-21.24446,17.78301%20-70.74883,32.11575%20-98.81404,32.11575%20-2.704906,0%20-5.306049,-0.16329%20-7.857582,-0.40844%20V%20162%20H%20194.71746%20V%2034%20Z%20m%200,83.25473%20v%209.11475%20c%20-29.508411,-5.26099%20-37.69837,-35.934786%20-37.69837,-35.934786%200,0%2014.167377,-15.697388%2037.69837,-18.241066%20v%2010.000258%20c%20-0.0182,0%20-0.03018,-0.0045%20-0.0463,-0.0045%20-12.347156,-1.482881%20-21.995608,10.054415%20-21.995608,10.054415%200,0%205.40568,19.421749%2022.04191,25.010979%20M%2021.046171,89.105598%20c%200,0%2017.48867,-25.805957%2052.409787,-28.474484%20v%20-9.360721%20c%20-38.678551,3.103842%20-72.173423,35.86244%20-72.173423,35.86244%200,0%2018.969486,54.843917%2072.173423,59.864297%20v%20-9.95189%20C%2034.414436,132.13317%2021.046171,89.105598%2021.046171,89.105598%20Z'%20style='stroke-width:0.413405'%20/%3e%3cscript%20/%3e%3c/svg:svg%3e",other:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2064%2064'%20xmlns='http://www.w3.org/2000/svg'%20stroke-width='3'%20stroke='%23000000'%20fill='none'%3e%3ccircle%20cx='34.52'%20cy='11.43'%20r='5.82'/%3e%3ccircle%20cx='53.63'%20cy='31.6'%20r='5.82'/%3e%3ccircle%20cx='34.52'%20cy='50.57'%20r='5.82'/%3e%3ccircle%20cx='15.16'%20cy='42.03'%20r='5.82'/%3e%3ccircle%20cx='15.16'%20cy='19.27'%20r='5.82'/%3e%3ccircle%20cx='34.51'%20cy='29.27'%20r='4.7'/%3e%3cline%20x1='20.17'%20y1='16.3'%20x2='28.9'%20y2='12.93'/%3e%3cline%20x1='38.6'%20y1='15.59'%20x2='49.48'%20y2='27.52'/%3e%3cline%20x1='50.07'%20y1='36.2'%20x2='38.67'%20y2='46.49'/%3e%3cline%20x1='18.36'%20y1='24.13'%20x2='30.91'%20y2='46.01'/%3e%3cline%20x1='20.31'%20y1='44.74'%20x2='28.7'%20y2='48.63'/%3e%3cline%20x1='17.34'%20y1='36.63'%20x2='31.37'%20y2='16.32'/%3e%3cline%20x1='20.52'%20y1='21.55'%20x2='30.34'%20y2='27.1'/%3e%3cline%20x1='39.22'%20y1='29.8'%20x2='47.81'%20y2='30.45'/%3e%3cline%20x1='34.51'%20y1='33.98'%20x2='34.52'%20y2='44.74'/%3e%3c/svg%3e"},gn={user_proxy:"data:image/webp;base64,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",rag_user_proxy:"data:image/webp;base64,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",captain:"data:image/webp;base64,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",assistant:"data:image/webp;base64,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",reasoning:"data:image/webp;base64,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",group_manager:"data:image/webp;base64,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"},yn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'/%3e%3c/svg%3e",vn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cpath%20fill='%23767676'%20d='M9.691,14.851c0,0,3.766,0.83,5.777-0.128c0.798-0.383-0.223-0.67-0.191-1.085%20s0.255-0.638,1.021-0.957c0.766-0.319,1.691-0.383,1.628,0.255c-0.064,0.638-0.064,0.989,0.734,0.862s4.628-1.628,5.266-2.234%20c0.638-0.606,2.33,3.862,2.33,3.862l-3.734,5.394l-8.649,2.138l-6.702-3.16L9.691,14.851z'/%3e%3cpath%20fill='%23767676'%20d='M31.638,17.404c0-3.607-1.495-6.861-3.893-9.19c-0.601,0.115-1.104,0.162-1.306,0.174%20c-0.407,0.024-0.862-0.407-0.814-0.694s-0.455-0.622-1.34-0.407c-0.886,0.215-0.942,0.576-0.942,0.576l-0.04,0.075%20c-0.053,0.099-0.032,0.096-0.032,0.096s0.546,0.367,0.535,0.665c-0.054,0.072-0.132,0.15-0.262,0.24%20c-0.648,0.443-1.721,0.607-2.285,0.665c-0.209,0.021-0.36,0.177-0.403,0.375c-0.051,0.075-0.087,0.162-0.09,0.26%20c-0.013,0.403,0.048,1.031,0.437,1.637c0.15,0.234,0.477,0.295,0.698,0.126c0.741-0.569,1.412-0.914,1.906-0.091%20c0.183,0.305,0.242,0.607,0.183,0.857c-0.196,0.352-0.709,0.534-1.602,0.308c-0.272-0.069-0.545,0.103-0.604,0.368%20c-0.047,0.066-0.083,0.141-0.091,0.228c-0.084,0.95,0.081,2.359,0.416,3.284c-1.208,0.236-3.985,0.631-5.188,1.265%20c-0.099,0.052-0.153,0.15-0.163,0.253c-0.1,0.123-0.105,0.311,0.017,0.427c0.26,0.249,0.483,0.608,0.419,0.947%20c-0.149,0.285-0.536,0.54-1.359,0.676c-1.287,0.212-1.485-0.246-1.307-0.752c0.076-0.151,0.172-0.3,0.283-0.431%20c0.043-0.051,0.064-0.11,0.07-0.169c0.001-0.001,0.001-0.001,0.002-0.002c0.164-0.194,0.041-0.494-0.21-0.528%20c-1.273-0.174-3.487-0.145-4.655,0.112c0,0-0.087-1.288,0.393-2.56c0.166-0.394,0.328-0.656,0.63-0.997%20c0.234-0.234,0.581,0.133,0.793,0.416c0.132,0.175,0.427,0.082,0.608-0.04c0.234-0.158,0.516-0.429,0.666-0.841%20c0.184-0.367,0.265-0.868,0.049-1.55c-0.066-0.207-0.729-0.525-0.939-0.47c-0.529,0.138-0.811,0.302-0.646-0.28%20c0.029-0.06,0.051-0.116,0.097-0.185c0.498-0.755,0.957-1.424,1.224-2.101c0.111-0.251,0.204-0.503,0.255-0.759%20c0.039-0.195-0.506-0.577-0.822-0.532c-0.153,0.045-0.135-0.054-0.12-0.123c0.033-0.059,0.076-0.124,0.132-0.196%20c0.47-0.596,0.913-0.62,1.122-0.451c0.111,0.089,0.27,0.085,0.379-0.006c0.431-0.36,0.651-0.709,0.751-0.995%20c0.234-0.475,0.142-0.823-0.015-0.815l-0.638-0.223c0,0-2.076,1.529-3.225,2.127C10.48,8.274,10.139,8.322,9.82,8.346%20C9.422,8.742,9.043,9.157,8.678,9.584c-0.711,0.921-1.299,1.942-1.743,3.036c-0.763,1.804-1.129,3.816-0.97,5.934%20c0.48,6.413,5.86,11.589,12.286,11.832c5.519,0.208,10.294-3.077,12.301-7.818C31.249,20.987,31.638,19.242,31.638,17.404z'/%3e%3cpath%20fill='%23bebebe'%20d='M44.895,20.915h-0.01c-0.031-0.306-0.079-0.606-0.122-0.908c-0.034-0.237-0.066-0.474-0.108-0.707%20c-0.066-0.366-0.14-0.729-0.224-1.089c-0.038-0.162-0.082-0.32-0.124-0.481c-0.206-0.792-0.45-1.569-0.744-2.322%20c-0.006-0.016-0.012-0.033-0.018-0.05c-0.163-0.416-0.341-0.824-0.529-1.227c-0.022-0.047-0.045-0.093-0.067-0.14%20c-0.589-1.234-1.293-2.403-2.101-3.491l-0.733,0.273c-0.39-0.526-0.906-1.126-1.46-1.724c0.099-0.39-0.14-0.931-0.648-1.334%20c-0.365-0.289-0.764-0.418-1.099-0.41c-0.822-0.756-1.564-1.348-1.963-1.509c-0.219,0.027-0.698,0.123-1.298,0.259%20c1.258,0.754,0.609,1.473,0.412,1.52c-0.232,0.055-1.053,0.112-1.695-1.211c-1.295,0.328-2.698,0.732-3.331,1.036%20c-0.827,0.397-1.851,0.597-2.545,0.692C27.441,9.672,28,11.519,28,13.5C28,19.299,23.299,24,17.5,24S7,19.299,7,13.5%20c0-1.3,0.247-2.54,0.68-3.69c-0.087,0.113-0.175,0.225-0.263,0.338c-0.228,0.293-0.455,0.587-0.667,0.892%20c-0.163,0.235-0.314,0.478-0.468,0.72c-0.188,0.295-0.372,0.592-0.545,0.897c-0.147,0.258-0.285,0.522-0.421,0.787%20C5.16,13.748,5.011,14.057,4.87,14.37c-0.125,0.276-0.246,0.555-0.359,0.837c-0.127,0.318-0.242,0.642-0.354,0.968%20c-0.099,0.288-0.2,0.576-0.287,0.87c-0.1,0.34-0.182,0.687-0.266,1.034c-0.07,0.29-0.148,0.578-0.205,0.872%20c-0.079,0.403-0.132,0.815-0.187,1.226c-0.033,0.246-0.081,0.488-0.106,0.737l0,0C3.038,21.601,3,22.296,3,23%20c0,11.598,9.402,21,21,21s21-9.402,21-21C45,22.296,44.962,21.601,44.895,20.915z'/%3e%3cpath%20fill='%23e1e1e1'%20d='M33.811,6.018c-0.056,0.012-0.106,0.023-0.164,0.036c1.258,0.754,0.609,1.473,0.412,1.52%20c-0.232,0.055-1.053,0.112-1.695-1.211c-1.295,0.328-2.698,0.732-3.331,1.036c-0.827,0.397-1.851,0.597-2.545,0.692%20C27.441,9.672,28,11.519,28,13.5C28,19.299,23.299,24,17.5,24S7,19.299,7,13.5c0-1.294,0.245-2.529,0.674-3.674%20c-3.017,3.808-4.637,8.773-4.04,14.13c0.984,8.827,8.123,15.959,16.953,16.924C32.186,42.149,42,33.098,42,21.755%20C42,15.245,38.758,9.501,33.811,6.018z'/%3e%3cpath%20fill='%23efefef'%20d='M30.713,6.812c-0.166,0.049-0.327,0.098-0.482,0.146c-0.015,0.005-0.03,0.009-0.045,0.014%20c-0.135,0.043-0.263,0.085-0.386,0.127c-0.026,0.009-0.053,0.018-0.079,0.027c-0.11,0.038-0.211,0.076-0.307,0.112%20c-0.026,0.01-0.055,0.02-0.079,0.03c-0.114,0.045-0.217,0.089-0.304,0.13c-0.827,0.397-1.851,0.597-2.545,0.692%20C27.441,9.672,28,11.519,28,13.5C28,19.299,23.299,24,17.5,24S7,19.299,7,13.5c0-1.289,0.243-2.518,0.668-3.658%20C7.604,9.92,7.544,9.993,7.492,10.056c-2.327,3.183-3.549,7.223-3.036,11.575c0.88,7.465,6.938,13.472,14.411,14.273%20C28.694,36.956,37,29.283,37,19.67C37,14.443,34.534,9.801,30.713,6.812z'/%3e%3cpath%20fill='%23f5f5f5'%20d='M27.107,7.991c-0.601,0.115-1.104,0.162-1.306,0.174c-0.407,0.024-0.862-0.407-0.814-0.694%20s-0.455-0.622-1.34-0.407c-0.886,0.215-1.029,0.838-1.029,0.838s1.197,0.192,0.287,0.814c-0.648,0.443-1.721,0.607-2.285,0.665%20c-0.24,0.025-0.413,0.223-0.421,0.464c-0.013,0.403,0.048,1.031,0.437,1.637c0.15,0.234,0.477,0.295,0.698,0.126%20c0.741-0.569,1.412-0.914,1.906-0.091c0.522,0.869,0.096,1.738-1.491,1.336c-0.292-0.074-0.596,0.125-0.622,0.425%20c-0.088,0.998,0.092,2.517,0.462,3.433c-1.143,0.233-4.067,0.634-5.306,1.287c-0.187,0.098-0.226,0.363-0.073,0.509%20c0.531,0.508,0.923,1.475-1.012,1.794c-1.813,0.299-1.481-0.73-0.952-1.355c0.164-0.194,0.041-0.494-0.21-0.528%20c-1.273-0.174-3.487-0.145-4.655,0.112c0,0-0.168-2.37,1.149-3.854c0.234-0.234,0.58,0.133,0.793,0.416%20c0.132,0.175,0.373,0.208,0.554,0.086c0.432-0.291,1.045-0.95,0.643-2.219c-0.066-0.207-0.294-0.301-0.504-0.246%20c-0.622,0.163-1.519,0.059-0.912-0.861c0.641-0.972,1.229-1.801,1.408-2.688c0.039-0.195-0.148-0.355-0.346-0.33%20c-0.465,0.058-0.874-0.079-0.392-0.692c0.47-0.597,0.913-0.62,1.122-0.451c0.111,0.089,0.27,0.085,0.379-0.007%20c1.004-0.84,0.903-1.65,0.662-1.638l-1.589,0.181c0,0-1.125,1.125-2.274,1.723c-0.232,0.1-0.573,0.149-0.892,0.173%20C8.784,8.519,8.405,8.933,8.039,9.36c-1.856,2.403-2.89,5.473-2.641,8.798c0.48,6.413,5.86,11.589,12.287,11.832%20C24.991,30.266,31,24.425,31,17.181C31,13.574,29.505,10.32,27.107,7.991z'/%3e%3cpath%20fill='%23404040'%20d='M32.814,34.471c0,0-0.335,0.646-0.144,0.934c0.622,0,1.436,0,1.436,0s0.311,1.293-0.191,2.705%20c0.311-0.239,0.551-0.574,0.551-0.574s0.359-1.915,0.263-2.992C34.178,34.566,32.814,34.471,32.814,34.471z'/%3e%3cpath%20fill='%23767676'%20d='M42.652,30.306c-0.455,0.383-1.077,1.34-1.077,1.34l1.34-0.886%20C42.915,30.761,43.106,29.923,42.652,30.306z'/%3e%3cpath%20fill='%23767676'%20d='M41.359,32.699c0,0,0.407-0.287,0.694-0.431c-0.168,0.933-0.886,1.316-0.886,1.316%20s0,0.144,0.024,0.742c1.317-0.957,1.46-2.992,1.46-2.992l-1.364,0.91L41.359,32.699z'/%3e%3cpath%20fill='%23404040'%20d='M35.579,28.748l-0.578,0.12c-0.117-0.603-0.519-2.628-0.781-3.488l0.581-0.401l-0.048-0.215%20l-2.035,0.79l0.036,0.156l0.771-0.093c0.027,0.102,0.06,0.226,0.097,0.372c-0.238,0.567-0.985,2.331-1.403,3.152%20c-0.176-0.866-0.441-2.115-0.633-2.743l0.581-0.401l-0.048-0.215l-2.035,0.79l0.036,0.156l0.771-0.093%20c0.171,0.647,0.596,2.294,0.793,3.469L31.119,30.4l0.064,0.202l1.852-0.677l-0.075-0.154l-0.595,0.103%20c-0.018-0.093-0.042-0.215-0.072-0.364c0.519-0.962,1.147-2.396,1.422-3.156c0.202,0.799,0.466,1.911,0.608,2.765l-0.564,0.319%20l0.071,0.2l1.828-0.738L35.579,28.748z'/%3e%3cpath%20fill='%23404040'%20d='M18.5,31.638l-0.638-0.447c0,0,0.048,0.941-0.782,1.867C17.638,32.755,18.5,31.638,18.5,31.638z'/%3e%3cpath%20fill='%23404040'%20d='M20.72,34.769l-1.124-0.012l-0.18-0.662l0.537-0.067c0.068-0.009,0.117-0.071,0.108-0.14%20s-0.063-0.127-0.14-0.108l-0.572,0.073l-0.158-0.578l0.613-0.06c0.069-0.006,0.119-0.067,0.112-0.136%20c-0.006-0.069-0.069-0.128-0.136-0.112l-0.656,0.064l-0.114-0.419l0.067-0.172l0.693-0.054c0.068-0.006,0.12-0.065,0.115-0.135%20c-0.007-0.068-0.074-0.122-0.135-0.115l-0.572,0.045l0.23-0.59l-0.223-0.239l-0.339,0.88l-1.017,0.425%20c-0.057,0.023-0.088,0.084-0.074,0.144l0.341,1.467c-0.001,0.013-0.008,0.025-0.005,0.039c0.002,0.007,0.013,0.006,0.016,0.012%20l0.189,0.811c0.014,0.058,0.065,0.097,0.122,0.097c0.008,0,0.017-0.001,0.025-0.003l1.058-0.22l1.213,0.016%20c0.001,0,0.001,0,0.002,0c0.068,0,0.124-0.055,0.125-0.123C20.844,34.826,20.788,34.77,20.72,34.769z%20M18.023,32.846l0.699-0.292%20l-0.047,0.122l0.124,0.448l-0.633,0.339L18.023,32.846z%20M18.318,34.112l-0.092-0.396l0.642-0.345l0.15,0.542L18.318,34.112z%20M18.374,34.355l0.71-0.202l0.179,0.647l-0.75,0.154L18.374,34.355z'/%3e%3cpath%20fill='%23404040'%20d='M16.694,34.131l-0.232-0.418l0.411-0.226l0.516,0.272c0.063,0.033,0.137,0.009,0.169-0.052%20c0.032-0.062,0.009-0.137-0.052-0.169l-0.575-0.304c-0.037-0.02-0.08-0.021-0.119,0.001l-0.497,0.273%20c-0.035-0.016-0.074-0.021-0.109-0.001c-0.036,0.02-0.052,0.055-0.057,0.093l-0.288,0.158l-0.088-0.013l1.201-1.651%20c0.041-0.056,0.028-0.134-0.027-0.174c-0.054-0.041-0.133-0.029-0.174,0.027l-0.69,0.947l-0.588-0.259l0.78-1.186%20c0.038-0.058,0.021-0.135-0.036-0.173c-0.056-0.038-0.135-0.022-0.173,0.036l-0.861,1.309c-0.021,0.03-0.025,0.068-0.016,0.104%20c0.011,0.035,0.036,0.064,0.069,0.079l0.674,0.297l-0.484,0.665c-0.026,0.035-0.031,0.081-0.015,0.122%20c0.018,0.04,0.054,0.068,0.098,0.075l0.335,0.048c0.006,0.001,0.012,0.001,0.018,0.001c0.021,0,0.042-0.005,0.061-0.016l0.3-0.165%20l0.223,0.4l0.172,1.001c0.011,0.061,0.063,0.104,0.123,0.104c0.007,0,0.014-0.001,0.021-0.002c0.067-0.012,0.113-0.076,0.102-0.145%20l-0.176-1.021C16.706,34.156,16.701,34.143,16.694,34.131z'/%3e%3cpath%20fill='%23404040'%20d='M17.121,34.201c-0.058-0.04-0.135-0.029-0.175,0.028c-0.04,0.056-0.027,0.134,0.028,0.175%20l0.75,0.543c0.022,0.016,0.048,0.023,0.073,0.023c0.039,0,0.077-0.018,0.102-0.052c0.04-0.056,0.027-0.134-0.028-0.175%20L17.121,34.201z'/%3e%3cpath%20fill='%23404040'%20d='M16.006,34.402c-0.003-0.001-0.007-0.001-0.011-0.001c-0.064,0-0.119,0.049-0.124,0.114%20l-0.064,0.719c-0.007,0.068,0.044,0.129,0.113,0.135c0.003,0.001,0.007,0.001,0.011,0.001c0.064,0,0.119-0.049,0.124-0.114%20l0.064-0.719C16.126,34.469,16.075,34.408,16.006,34.402z'/%3e%3cpath%20fill='%23404040'%20d='M22.869,41.015c0,0,0.001,0.013,0.002,0.021c-0.069-0.162-0.224-0.358-0.529-0.592%20c-0.89-0.686-2.033-1.064-3.306-1.095l-0.038-0.001c-0.013,0-0.026-0.001-0.039-0.001c-0.342,0-0.625,0.153-0.668,0.365%20c-0.021,0.106,0,0.306,0.387,0.452c0.367,0.14,0.637,0.149,0.807,0.032c0.156-0.107,0.161-0.274,0.161-0.293%20c0-0.068-0.043-0.129-0.125-0.123c-0.066,0-0.122,0.054-0.125,0.12c0,0.006-0.004,0.059-0.056,0.092%20c-0.044,0.029-0.192,0.084-0.573-0.063c-0.179-0.067-0.236-0.139-0.23-0.168c0.012-0.061,0.186-0.16,0.453-0.164l0.04,0.001%20c1.202,0.028,2.324,0.398,3.16,1.042c0.372,0.286,0.542,0.539,0.455,0.676c-0.151,0.241-1.028,0.282-1.822-0.12%20c-0.042-0.021-0.091-0.017-0.13,0.01c-0.038,0.027-0.057,0.073-0.05,0.12c0.015,0.1-0.042,0.2-0.155,0.273%20c-0.242,0.158-0.761,0.194-1.428-0.223c-0.086-0.053-0.129-0.122-0.122-0.194c0.008-0.073,0.065-0.138,0.15-0.169%20c0.186-0.063,0.439,0.035,0.681,0.271c0.049,0.05,0.128,0.048,0.177-0.001c0.048-0.05,0.047-0.129-0.002-0.177%20c-0.451-0.442-0.808-0.378-0.94-0.328c-0.176,0.063-0.296,0.208-0.313,0.378c-0.015,0.147,0.063,0.282,0.19,0.383%20c-0.004-0.001-0.008-0.002-0.012-0.003c0.007,0.005,0.013,0.007,0.02,0.012c0.016,0.012,0.022,0.03,0.04,0.04%20c0.124,0.078,0.243,0.138,0.358,0.19c1.174,0.607,1.965,0.203,1.592-0.281c0.122,0.052,0.247,0.094,0.371,0.13%20C22.626,42.182,23.356,41.686,22.869,41.015z'/%3e%3cpath%20fill='%23404040'%20d='M17.607,24.522l-0.282,0.603l-1.038,0.205l-0.023-0.313c0.606-0.367,1.02-0.98,0.99-1.664%20c-0.045-1.044-1.006-1.754-2.169-1.704s-2.088,1.03-2.043,2.074c0.036,0.842,0.652,1.42,1.497,1.588l0.077,0.295l-1.048,0.143%20l-0.463-0.479l-0.112,0.128l0.399,0.941L15,26.111l-0.167-0.935c-0.678-0.098-1.191-0.648-1.226-1.465%20c-0.04-0.929,0.602-1.794,1.419-1.829c0.817-0.035,1.498,0.604,1.538,1.533c0.026,0.59-0.234,1.131-0.636,1.457l0.018,0.119h-0.001%20l0.145,0.939l1.594-0.304l0.072-1.02L17.607,24.522z'/%3e%3cpath%20fill='%23404040'%20d='M7.943,32.859c-0.174-0.253-0.333-0.581-0.471-0.923c0.002-0.012,0.012-0.019,0.013-0.032%20c0.005-0.053-0.029-0.093-0.075-0.115c-0.056-0.149-0.099-0.295-0.143-0.444c0.029-0.001,0.058-0.008,0.082-0.028%20c0.051-0.046,0.055-0.125,0.009-0.177c-0.047-0.052-0.113-0.11-0.19-0.166c-0.032-0.149-0.055-0.292-0.068-0.425%20c0.092,0.017,0.183,0.038,0.278,0.049c0.005,0.001,0.01,0.001,0.015,0.001c0.063,0,0.116-0.047,0.124-0.11%20c0.009-0.068-0.04-0.131-0.109-0.139c-0.12-0.014-0.236-0.039-0.353-0.063c-0.15-0.731-0.87-1.334-1.424-1.734%20c-0.304-0.219-0.476-0.162-0.566-0.077c-0.189,0.175-0.134,0.622,0.001,0.987c-0.044-0.028-0.074-0.048-0.076-0.049%20c-0.057-0.041-0.135-0.026-0.174,0.031c-0.039,0.057-0.025,0.135,0.031,0.174c0.016,0.011,0.169,0.114,0.408,0.247%20c0.292,0.594,0.75,2.561,0.754,2.583c0.017,0.066,0.078,0.108,0.15,0.094c0.067-0.016,0.109-0.083,0.094-0.15%20c-0.018-0.075-0.36-1.548-0.654-2.346c0.338,0.164,0.765,0.337,1.239,0.452c0.007,0.097,0.033,0.211,0.051,0.318%20c-0.18-0.079-0.37-0.116-0.511-0.039C6.262,30.842,6.144,31,6.25,31.386c0.015,0.056,0.065,0.092,0.12,0.092%20c0.011,0,0.021-0.001,0.033-0.005c0.066-0.018,0.105-0.087,0.087-0.153c-0.046-0.171-0.043-0.294,0.008-0.322%20c0.081-0.039,0.271,0.027,0.444,0.133c0.063,0.263,0.153,0.533,0.256,0.8c-0.004,0.001-0.003,0.009-0.008,0.01%20c-0.143,0.021-0.446-0.131-0.549-0.326c-0.031-0.062-0.107-0.084-0.168-0.053c-0.062,0.031-0.085,0.107-0.053,0.168%20c0.133,0.255,0.476,0.464,0.736,0.464c0.028,0,0.056-0.003,0.082-0.008c0.022-0.004,0.034-0.022,0.054-0.03%20c0.134,0.314,0.282,0.613,0.444,0.848c0.024,0.035,0.063,0.054,0.103,0.054c0.024,0,0.05-0.007,0.071-0.022%20C7.969,32.994,7.982,32.916,7.943,32.859z%20M5.426,29.642c-0.21-0.343-0.295-0.887-0.19-0.983c0.018-0.013,0.09-0.019,0.25,0.098%20c0.731,0.527,1.143,1.007,1.285,1.462c-0.531-0.145-1.002-0.361-1.325-0.535C5.439,29.672,5.432,29.652,5.426,29.642z'/%3e%3cpath%20fill='%23404040'%20d='M6.555,21.737v-0.299l-0.41-0.131c-0.018-0.175-0.116-0.903-0.549-1.052%20c-0.422-0.145-0.632,0.106-0.611-0.625c-0.058,0-0.16-0.015-0.16-0.015c-0.077,0.363-0.095,0.757,0.187,0.961%20c0.247,0.179,0.783-0.103,0.883,0.651l-1.181-0.376L4.569,20.66l-0.016,0.479l0.601,0.18c-0.077,0.436-0.183,1.278,0.06,1.652%20c0.144,0.112,0.179,0.159,0.371-0.108c0.215-0.299,0.245-0.191,0.261-0.032c0.016,0.16-0.016,0.878-0.463,0.782%20s-0.638-0.415-0.734-2.186c-0.048,1.612-0.016,2.505,0.702,2.697c0.718,0.192,0.83-0.846,0.638-1.771%20c-0.192-0.926-0.456,0.164-0.584,0.211c-0.107,0.04-0.106-0.69-0.075-1.192L6.555,21.737z'/%3e%3cpath%20fill='%23404040'%20d='M7.186,15.228c-0.072-0.153,0.342-0.514,0.342-0.514l0.009-0.82l-0.559,0.559%20c0,0-0.442,0.009-0.676,0.036c0.37-0.387,0.342-0.91-0.081-0.505c-0.424,0.406-0.55,0.946-0.55,0.946l1.162-0.099l0.568-0.604%20v0.261c0,0-0.18,0.207-0.351,0.397c-0.189,0.73,0.37,0.694,0.37,0.694l0.487-0.46l0.045-0.306L7.52,15.291%20C7.519,15.291,7.258,15.381,7.186,15.228z%20M5.96,14.507c0,0,0.171-0.351,0.315-0.378s0.162,0.117-0.099,0.36%20C6.095,14.498,5.96,14.507,5.96,14.507z'/%3e%3cpath%20fill='%23404040'%20d='M8.42,12.948l-0.73,1.874c0,0,0.892-0.577,1.09-1.28C8.979,12.84,8.42,12.948,8.42,12.948z%20M8.555,13.588C8.429,13.957,8.051,14.3,8.051,14.3l0.414-1.009C8.465,13.291,8.682,13.219,8.555,13.588z'/%3e%3cpath%20fill='%23404040'%20d='M11.34,7.185c-0.053-0.045-0.132-0.039-0.176,0.014c-0.041,0.047-0.648,0.76-1.148,1.411%20C9.939,8.626,9.795,8.656,9.643,8.691c0.11-0.15,0.245-0.296,0.308-0.359C10,8.283,10,8.204,9.952,8.155%20c-0.049-0.049-0.128-0.049-0.177,0C9.758,8.171,9.384,8.547,9.269,8.838C9.251,8.882,9.26,8.933,9.292,8.968%20C9.315,8.995,9.35,9.009,9.385,9.009c0.011,0,0.022-0.001,0.033-0.004c0.106-0.029,0.244-0.061,0.371-0.089%20C9.588,9.19,9.427,9.433,9.375,9.57C9.358,9.616,9.369,9.667,9.403,9.702c0.034,0.034,0.087,0.045,0.132,0.03%20C9.6,9.708,9.678,9.691,9.751,9.681l-0.195,0.34c-0.034,0.06-0.014,0.136,0.046,0.17c0.02,0.011,0.041,0.017,0.063,0.017%20c0.043,0,0.085-0.022,0.108-0.063l0.315-0.55c0.022-0.039,0.022-0.087-0.001-0.126c-0.023-0.039-0.068-0.07-0.111-0.061%20c-0.008,0-0.113,0.004-0.242,0.022c0.107-0.169,0.271-0.392,0.453-0.63c0.007-0.008,0.012-0.013,0.017-0.022%20c0.402-0.524,0.897-1.12,1.151-1.417C11.398,7.309,11.393,7.23,11.34,7.185z'/%3e%3cpath%20fill='%23404040'%20d='M30.723,16.252l-1.087,0.294l0.066,0.132l0.163-0.008c0.176,0.036,0.292,0.099,0.287,0.219%20l-0.219,2.669l-1.087-1.187l0.273-1.242c0.031-0.156,0.128-0.255,0.269-0.316l0.175-0.075l-0.072-0.156l-1.153,0.294l0.078,0.144%20l0.239-0.015c0.149,0.082,0.232,0.184,0.194,0.321l-0.17,0.862l-0.701-0.765c-0.081-0.095-0.061-0.177,0.016-0.251l0.235-0.115%20l-0.084-0.144l-1.305,0.323l0.108,0.144l0.304-0.016c0.052,0.021,0.104,0.051,0.155,0.101l1.157,1.307l-0.245,1.242l-1.88-2.242%20c-0.022-0.033-0.017-0.071-0.002-0.112l0.355-0.197L26.68,17.31l-1.503,0.406l0.072,0.108l0.283,0.004%20c0.156,0.021,0.291,0.071,0.389,0.176l2.316,2.761l0.09-0.03l0.393-1.786l1.199,1.354l0.096-0.054l0.402-3.418%20c0.013-0.175,0.124-0.293,0.283-0.384l0.083-0.042L30.723,16.252z'/%3e%3cpath%20fill='%23404040'%20d='M40.64,13.838c-0.455-0.539-0.73,0.012-0.634,0.718s1.065,1.58,1.065,1.58%20c-0.215,1.496-1.879,0.132-2.442-0.862c0.491,1.604,2.082,2.729,2.561,1.843C41.669,16.231,41.094,14.376,40.64,13.838z%20M40.4,14.747c-0.203-0.443,0.12-0.467,0.299-0.156s0.239,0.407,0.335,0.814C41.035,15.406,40.604,15.19,40.4,14.747z'/%3e%3cpath%20fill='%23404040'%20d='M37.6,8.895c-0.275-0.18-0.73-0.778-0.73-0.778l-0.44,0.377c-0.324-0.3-0.672-0.574-0.864-0.677%20c-0.215-0.096-0.778,0.12-0.73,0.12c0,0-0.694,0.227-0.371,1.089c0.323,0.862,1.017,1.484,1.017,1.484s0.706,0.694,1.221-0.335%20c0.467-0.251,0.658-0.491,0.395-0.934C37,9.076,36.811,8.862,36.595,8.649c0.048-0.054,0.113-0.127,0.18-0.21%20C37.085,8.955,37.384,9.063,37.6,8.895z%20M35.972,10.283c-0.347-0.299-1.041-1.424-1.245-1.699c-0.203-0.275,0.024-0.443,0.024-0.443%20s1.484,1.723,1.735,2.13C36.427,10.367,36.319,10.582,35.972,10.283z%20M36.81,9.457c0.168,0.287,0.156,0.395-0.072,0.503%20c-0.239-0.515-1.699-1.987-1.699-1.987s0.144-0.156,0.407,0.048C35.709,8.225,36.642,9.17,36.81,9.457z'/%3e%3cpath%20fill='%23404040'%20d='M25.911,9.389c-0.054,0.153-0.369,0.234-0.369,0.234l-0.394,0.112l-0.165-0.274l0.081-0.171%20l-0.523-0.045l-0.189,0.189l0.279,0.045l0.137,0.364l-0.746,0.212c-0.209-0.124-0.499,0.001-0.499,0.001s-0.018,0.108,0.054,0.099%20s0.216,0.126,0.216,0.126s0.144,0.261,0.297,0.595c0.153,0.333,0.523,0.189,0.523,0.189s-0.251-0.539-0.438-0.857l1.727-0.522%20c0.261,1.289-0.27,1.874-0.667,2.577c1.541-1.081,1.198-2.46,1.198-2.46s0.009-0.099,0.054-0.189%20C26.407,9.524,26.19,9.461,25.911,9.389z'/%3e%3cpath%20fill='%23404040'%20d='M28.056,11.461l-0.351-0.703l0.054-0.216l-0.138,0.008c0.124-0.178,0.23-0.377,0.282-0.62%20c-0.126-0.108-0.541-0.117-0.541-0.117l0.09,0.117c0,0-0.081,0.856-0.793,1.433c0.201-0.108,0.495-0.291,0.755-0.558l0.381,0.693%20c0,0-0.036-0.009-0.054,0.144c0.144,0.153,0.351,0.135,0.351,0.135L28.056,11.461z'/%3e%3cg%3e%3cpath%20fill='%23404040'%20d='M42.592,23.709c0.01,0.001,0.021,0.001,0.03,0.001c0.269,0,0.501-0.338,0.546-0.805l0,0%20c0.047-0.485-0.131-0.872-0.413-0.899c-0.009-0.001-0.02,0.007-0.03,0.008l-0.017-0.109l-0.18-0.09l0.048,0.239%20c-0.08,0.039-0.157,0.1-0.22,0.198c-0.094,0.147-0.156,0.346-0.176,0.559C42.132,23.295,42.31,23.682,42.592,23.709z%20M42.566,22.386c0.052-0.082,0.112-0.131,0.158-0.131c0.002,0,0.005,0,0.007,0c0.1,0.01,0.223,0.259,0.188,0.626%20c-0.035,0.36-0.197,0.579-0.298,0.579c-0.002,0-0.004,0-0.007,0c-0.1-0.01-0.223-0.258-0.188-0.626%20C42.444,22.663,42.495,22.499,42.566,22.386z'/%3e%3cpath%20fill='%23404040'%20d='M43.672,24.429c0,0-0.036-2.289-0.216-3.109c-0.18-0.009-0.424-0.045-0.424-0.045v0.189l0.27,0.225%20c0,0,0.099,0.825,0.168,1.772c-0.191,0.2-0.778,0.811-0.988,0.976c-0.252,0.198-0.667,0.144-0.667,0.144%20c0.144,0.261,0.442,0.288,0.442,0.288s0.153-0.18,0.252-0.234c0.069-0.042,0.147-0.106,0.227-0.176%20c0.007,0.233,0.043,1.359,0.043,1.545c0.081-0.234,0.18-0.55,0.162-0.865c-0.013-0.226-0.017-0.638-0.018-0.856%20c0.23-0.228,0.449-0.482,0.561-0.617c0.05,0.754,0.076,1.552,0.016,2.058C43.609,25.249,43.672,24.429,43.672,24.429z'/%3e%3c/g%3e%3cpath%20fill='%23404040'%20d='M10.085,37.953c0,0-0.443-0.263-0.586-0.527c-0.144-0.263,0.203-0.359,0.61,0.084%20s0.73,0.766,0.395,0.766c0.108,0.084,0.191,0.191,0.191,0.191s0.515,0.096,0.778,0.371c0.263,0.275,0.79,0.778,0.79,0.778%20s0.18,0.275-0.275,0.132c0.072,0.096,0.144,0.191,0.144,0.191s0.91,0.227,0.251-0.467c-0.658-0.694-1.185-0.934-1.532-1.065%20c0,0,0.096-0.335-0.156-0.586c-0.251-0.251-0.574-0.586-1.173-0.826c-0.598-0.239-0.215,0.323-0.108,0.467%20c0.108,0.144,0.658,0.563,0.658,0.563L10.085,37.953z'/%3e%3cpath%20fill='%23767676'%20d='M31.364,41.83c-0.11,0-0.228-0.03-0.275-0.13c-0.084-0.178,0.133-0.35,0.332-0.48%20c0.597-0.391,1.106-0.464,1.3-0.332c0.051,0.033,0.079,0.087,0.077,0.146c0,0.005,0,0.01-0.001,0.015l0.221-0.082l0.447-0.55%20c0.043-0.054,0.121-0.063,0.176-0.018c0.054,0.043,0.062,0.122,0.018,0.176l-0.469,0.576c-0.014,0.017-0.032,0.03-0.053,0.038%20l-0.847,0.315c-0.063,0.021-0.129-0.006-0.157-0.064c-0.027-0.059-0.005-0.129,0.052-0.161c0.115-0.065,0.229-0.145,0.301-0.203%20c-0.13-0.006-0.354,0.041-0.642,0.187c0.112,0.016,0.139,0.064,0.152,0.09c0.016,0.029,0.043,0.106-0.037,0.192%20c-0.125,0.137-0.227,0.2-0.414,0.26C31.5,41.818,31.434,41.83,31.364,41.83z%20M31.361,41.58c0.021,0.002,0.074-0.003,0.108-0.014%20c0.05-0.017,0.091-0.031,0.125-0.049c-0.033-0.008-0.063-0.029-0.08-0.06C31.437,41.512,31.39,41.552,31.361,41.58z'/%3e%3cpath%20fill='%23767676'%20d='M33.651,40.954c-0.025,0-0.051-0.008-0.073-0.023c-0.056-0.04-0.068-0.118-0.028-0.175%20c0.085-0.118,0.276-0.397,0.402-0.618c-0.204,0.055-0.438,0.146-0.514,0.27c-0.024,0.041-0.028,0.08-0.011,0.128%20c0.022,0.065-0.012,0.137-0.076,0.16c-0.066,0.024-0.137-0.012-0.16-0.076c-0.042-0.119-0.03-0.237,0.033-0.342%20c0.204-0.334,0.903-0.434,0.934-0.438c0.035-0.007,0.086,0.011,0.113,0.045c0.027,0.033,0.036,0.079,0.021,0.12%20c-0.096,0.275-0.521,0.872-0.54,0.897C33.729,40.936,33.69,40.954,33.651,40.954z'/%3e%3cg%3e%3cpath%20fill='%23bebebe'%20d='M3.875,26.167c0.139,0.09,0.395,0.255,0.606,0.104c0.233-0.167,0.163-0.498-0.005-1.172%20c-0.052-0.208-0.031-0.317,0.003-0.348c0.063-0.058,0.291-0.041,0.496,0.035c0.132,0.051,0.5,0.308,0.614,0.579%20c0.051,0.119,0.03,0.192,0.011,0.236c-0.26,0.595-0.117,1.41,0.333,1.898c0.46,0.499,1.972,0.875,3.159,0.777%20c0.029-0.003,0.071-0.006,0.103-0.009c-0.024,0.457-0.059,0.894-0.103,1.266c-0.116,0.974,0.383,2.159,1.091,2.59%20c0.351,0.214,0.713,0.216,1.021,0.009c0.421-0.286,0.764-0.386,1.008-0.305c0.252,0.084,0.462,0.369,0.626,0.849%20c0.23,0.675,0.112,0.896,0.051,0.96c-0.094,0.097-0.307,0.107-0.572,0.028l-0.146-0.045c-0.521-0.164-1.307-0.409-1.754-0.028%20c-0.244,0.206-0.335,0.548-0.271,1.017c0.054,0.392,0.248,0.839,0.507,1.297c-0.966-0.297-1.612-0.818-1.649-1.005%20c-0.117-0.585-0.517-0.913-1.314-1.387c-0.347-0.207-0.609-0.22-0.777-0.041c-0.143,0.15-0.144,0.378-0.086,0.608%20c-0.468-0.396-1.033-0.972-1.402-1.381l-0.028,0.025c0.283,0.54,0.593,1.063,0.92,1.574c0.382,0.338,0.767,0.629,1.036,0.701%20c0.1,0.026,0.207-0.011,0.268-0.096c0.061-0.084,0.063-0.198,0.005-0.284c-0.211-0.315-0.312-0.601-0.333-0.747%20c0.034,0.014,0.081,0.036,0.141,0.071c0.765,0.454,1.006,0.69,1.079,1.055c0.097,0.484,1.134,1.249,2.521,1.519%20c0.591,0.867,1.348,1.714,1.903,2.263c-0.2,0.048-0.341,0.152-0.407,0.311c-0.098,0.229-0.057,0.61,0.691,1.117%20c0.943,0.638,1.642,0.882,2.077,0.737c0.093-0.031,0.174-0.08,0.24-0.145c0.123,0.086,0.254,0.18,0.391,0.277%20c0.69,0.492,1.54,1.099,2.258,1.402c0.193,0.475,1.196,0.886,2.356,1.212C21.67,43.879,22.82,44,24,44%20c0.141,0,0.278-0.018,0.419-0.021c-3.9-0.583-5.683-1.371-5.766-1.654c0.013-0.113-0.053-0.221-0.159-0.261%20c-0.684-0.259-1.565-0.889-2.274-1.395c-0.22-0.157-0.426-0.304-0.61-0.43c-0.065-0.044-0.146-0.057-0.221-0.029%20c-0.074,0.024-0.133,0.083-0.157,0.157c-0.021,0.066-0.053,0.089-0.094,0.103c-0.196,0.071-0.738-0.069-1.635-0.678%20c-0.42-0.284-0.511-0.475-0.519-0.499c0.021-0.021,0.178-0.085,0.551-0.006c0.111,0.02,0.225-0.032,0.275-0.135%20c0.05-0.103,0.024-0.227-0.063-0.301c-0.458-0.391-1.328-1.297-2.035-2.249c0.205,0.013,0.413,0.02,0.627,0.007%20c1.916-0.12,3.958,0.082,4.203,0.176c0.091,0.035,0.15,0.085,0.176,0.148c0.037,0.095,0.012,0.244-0.072,0.421%20c-0.131,0.274-0.104,0.584,0.075,0.849c0.289,0.429,0.92,0.665,1.753,0.665c0.091,0,0.184-0.003,0.279-0.008%20c0.761-0.046,2.063-0.213,2.231-0.818c0.038-0.137,0.046-0.405-0.333-0.667c-0.283-0.195-0.443-0.389-0.43-0.518%20c0.014-0.127,0.211-0.279,0.526-0.409c0.737-0.302,2.497-0.82,4.258-1.076c0.516,0.929,1.364,1.495,1.902,1.845%20c0.151,0.099,0.323,0.251,0.284,0.42c-0.061,0.258-0.55,0.582-1.182,0.654c-0.164,0.019-0.341,0.032-0.523,0.046%20c-0.985,0.077-2.336,0.184-2.259,1.297c0.028,0.407,0.227,0.723,0.572,0.91c0.582,0.316,1.538,0.212,2.383-0.254%20c1.143-0.632,1.491-0.473,1.842,0.123c0.393,0.667,0.118,1.221-0.081,1.42c-0.057,0.057-0.083,0.138-0.07,0.217%20c0.014,0.079,0.063,0.147,0.136,0.184c0.054,0.028,0.557,0.255,1.517-0.11c0.324-0.122,0.449-0.105,0.465-0.114%20c0.001,0.031-0.015,0.134-0.119,0.298c-0.206,0.329-1.041,0.607-1.643,0.315c-0.063-0.029-0.134-0.032-0.199-0.008%20c-0.064,0.025-0.115,0.076-0.142,0.141c-0.14,0.35-0.512,0.748-0.756,0.985c0.264-0.04,0.531-0.071,0.792-0.121%20c0.118-0.144,0.232-0.299,0.321-0.456c0.78,0.238,1.734-0.088,2.051-0.589c0.226-0.358,0.258-0.669,0.09-0.874%20c-0.271-0.333-0.848-0.117-1.037-0.044c-0.349,0.132-0.614,0.169-0.799,0.171c0.198-0.396,0.301-0.998-0.093-1.668%20c-0.626-1.063-1.458-0.892-2.516-0.307c-0.692,0.381-1.475,0.484-1.902,0.253c-0.193-0.105-0.296-0.271-0.313-0.507%20c-0.039-0.574,0.722-0.679,1.8-0.763c0.188-0.015,0.371-0.029,0.541-0.049c0.698-0.079,1.476-0.461,1.611-1.035%20c0.048-0.205,0.047-0.601-0.498-0.955c-0.602-0.391-1.231-0.848-1.645-1.492c0.353-0.04,0.702-0.071,1.038-0.082%20c2.5-0.08,4.501-0.497,5.49-1.142c0.332-0.217,0.548-0.411,0.521-0.66c-0.026-0.255-0.278-0.353-0.502-0.438%20c-0.15-0.059-0.339-0.131-0.399-0.227c-0.033-0.054-0.033-0.146,0.001-0.259c0.114-0.381,0.606-0.942,1.23-1.222%20c0.753-0.337,1.953-0.518,2.279-0.245c0.032,0.026,0.105,0.088,0.057,0.293c-0.155,0.649-0.2,1.104,0.055,1.362%20c0.236,0.239,0.618,0.189,0.962,0.113c0.506-0.116,2.103-1.028,3.694-2.278c0.071,0.36,0.076,0.767-0.036,1.251%20c-0.266,1.145-0.611,1.553-0.854,1.694c-0.193,0.111-0.364,0.085-0.522,0.038c-0.19-0.059-0.444-0.008-0.714,0.139%20c-0.473,0.259-0.848,0.735-1.002,1.276c-0.146,0.514-0.016,0.98,0.333,1.189c0.134,0.078,0.414,0.184,0.839,0.029%20c-1.165,1.85-2.506,3.654-4.693,5.388c-0.334,0.265-0.638,0.501-0.919,0.716c0.746-0.326,1.463-0.702,2.161-1.109%20c2.065-1.853,3.309-3.769,4.489-5.729c0.065-0.107,0.04-0.247-0.059-0.325c-0.1-0.078-0.238-0.071-0.33,0.018%20c-0.618,0.604-1.048,0.694-1.231,0.583c-0.146-0.087-0.19-0.338-0.109-0.623c0.176-0.614,0.627-0.901,0.762-0.975%20c0.192-0.105,0.306-0.104,0.331-0.099c0.219,0.065,0.552,0.127,0.916-0.084c0.484-0.282,0.841-0.94,1.09-2.014%20c0.159-0.683,0.117-1.235-0.019-1.711c0.774-0.64,1.524-1.351,2.121-2.08c-0.003,0.459,0.098,0.736,0.304,0.828%20c0.315,0.14,0.616-0.18,0.846-0.477c0.908-1.178,0.659-2.127,0.501-2.494c0.147-0.195,0.44-0.591,0.738-1.024%20c0.03-0.327,0.035-0.661,0.05-0.992c-0.48,0.79-1.269,1.823-1.279,1.836c-0.063,0.083-0.067,0.197-0.013,0.286%20c0.021,0.035,0.529,0.887-0.394,2.083c-0.106,0.138-0.184,0.217-0.234,0.261c-0.035-0.217-0.005-0.703,0.08-1.164%20c0.021-0.116-0.067-0.193-0.178-0.238c-0.108-0.045-0.262,0.033-0.327,0.132c-0.587,0.884-1.469,1.764-2.397,2.544%20c-0.145-0.318-0.322-0.604-0.493-0.875c-0.291-0.461-0.542-0.859-0.575-1.33c-0.032-0.472,0.079-0.819,0.333-1.035%20c0.26-0.22,0.619-0.26,0.86-0.204c0.254,0.059,0.489-0.001,0.672-0.169c0.309-0.283,0.434-0.85,0.335-1.516%20c-0.095-0.636-0.359-1.383-0.819-1.572c-0.206-0.085-0.431-0.049-0.631,0.1c-0.173,0.13-0.31,0.35-0.455,0.581%20c-0.18,0.289-0.384,0.615-0.59,0.627c-0.004,0-0.009,0-0.013,0c-0.153,0-0.368-0.163-0.607-0.462%20c-0.387-0.483-0.676-1.249-0.912-2.061c1.691-0.964,2.641-1.893,3.2-2.444c0.115-0.114,0.215-0.212,0.303-0.293%20c0.116-0.106,0.333-0.276,0.491-0.213c0.154,0.062,0.328,0.366,0.367,0.908c0.046,0.646,0.232,1.05,0.555,1.202%20c0.269,0.125,0.577,0.062,0.925-0.186c0.278-0.199,0.446-0.482,0.485-0.819c0.058-0.502-0.182-0.988-0.347-1.177%20c-0.137-0.155-0.543-0.703-0.066-1.232c0.24-0.266,0.597-0.381,0.898-0.43c-0.048-0.16-0.091-0.322-0.142-0.481%20c-0.373,0.069-0.81,0.225-1.127,0.577c-0.599,0.665-0.342,1.437,0.061,1.896c0.099,0.112,0.265,0.458,0.227,0.79%20c-0.023,0.198-0.114,0.352-0.279,0.47c-0.181,0.129-0.335,0.179-0.421,0.141c-0.106-0.05-0.233-0.283-0.27-0.785%20c-0.05-0.698-0.299-1.185-0.681-1.337c-0.215-0.085-0.566-0.1-1.014,0.309c-0.092,0.084-0.196,0.187-0.316,0.306%20c-0.529,0.522-1.417,1.395-2.985,2.306c-0.101-0.383-0.192-0.765-0.277-1.123c-0.231-0.98-0.415-1.754-0.678-2.12%20c-0.198-0.275-0.423-0.414-0.668-0.414h-0.001c-0.435,0-0.753,0.444-0.963,0.738c-0.04,0.055-0.075,0.105-0.107,0.145%20c-0.099,0.123-0.434,0.334-0.778,0.286c-0.352-0.047-0.645-0.339-0.871-0.867c-0.241-0.563-0.274-1.004-0.096-1.274%20c0.214-0.325,0.663-0.335,0.927-0.311c0.197,0.016,0.418,0.036,0.576-0.134c0.159-0.173,0.18-0.451,0.078-1.063%20c-0.077-0.459-0.438-1.003-0.904-1.575c0.979-0.376,1.978-0.842,2.675-1.366c0.289-0.186,0.582-0.229,0.825-0.119%20c0.215,0.096,0.366,0.298,0.405,0.54c0.063,0.392,0.351,0.657,0.788,0.728c0.533,0.088,1.28-0.143,1.531-0.624%20c0.154-0.295,0.087-0.626-0.186-0.909c-0.349-0.361-0.344-0.495-0.347-0.495c0.032-0.04,0.194-0.074,0.256-0.087%20c0.042-0.009,0.079-0.017,0.107-0.025l0.141-0.038c0.531-0.143,1.047-0.293,1.381-0.443c-0.051-0.07-0.096-0.146-0.148-0.215%20l-0.733,0.273c-0.052-0.07-0.122-0.15-0.178-0.223c-0.186,0.054-0.353,0.099-0.453,0.126l-0.222,0.057%20c-0.186,0.04-0.532,0.112-0.628,0.423c-0.082,0.267,0.065,0.583,0.463,0.995c0.178,0.185,0.123,0.29,0.103,0.329%20c-0.126,0.239-0.633,0.421-1.009,0.362c-0.332-0.054-0.364-0.25-0.374-0.314c-0.066-0.409-0.326-0.751-0.695-0.916%20c-0.4-0.18-0.861-0.124-1.314,0.165c-0.707,0.531-1.738,1.001-2.729,1.373c-0.226-0.259-0.465-0.521-0.702-0.781%20c-0.53-0.58-1.03-1.127-1.242-1.503c-0.068-0.122-0.173-0.345-0.098-0.466c0.099-0.158,0.515-0.241,1.047-0.215%20c0.409,0.026,0.601-0.144,0.697-0.287c0.175-0.261,0.149-0.65-0.075-1.123c-0.226-0.477-0.552-0.797-0.895-0.88%20c-0.235-0.056-0.463-0.003-0.664,0.15c-0.407,0.314-0.666,0.407-1.127,0.142c-0.291-0.169-0.509-0.592-0.644-0.934%20c-0.128,0.05-0.246,0.099-0.342,0.145c-0.04,0.019-0.083,0.034-0.123,0.052c0.155,0.39,0.432,0.922,0.86,1.17%20c0.765,0.443,1.27,0.14,1.682-0.178c0.08-0.062,0.158-0.083,0.242-0.061c0.189,0.045,0.404,0.278,0.561,0.607%20c0.163,0.345,0.161,0.555,0.11,0.631c-0.045,0.066-0.182,0.067-0.255,0.066c-0.782-0.042-1.287,0.11-1.498,0.45%20c-0.161,0.259-0.132,0.587,0.087,0.975c0.239,0.426,0.759,0.994,1.309,1.596c0.183,0.2,0.376,0.411,0.565,0.626%20c-1.03,0.358-1.946,0.596-2.31,0.666c-0.978,0.187-1.245,0.076-1.318-0.008c-0.06-0.069-0.021-0.221,0.007-0.306%20c0.161-0.485,0.098-0.897-0.181-1.162c-0.292-0.277-0.933-0.492-2.318,0.052c-0.918,0.361-1.407,0.808-1.454,1.329%20c-0.037,0.422,0.24,0.751,0.489,0.904c0.102,0.063,0.245,0.12,0.397,0.178c0.137,0.052,0.423,0.162,0.458,0.22%20c0,0.001-0.021,0.116-0.386,0.363c-0.904,0.611-3.541,0.748-4.492,0.779c0.039,0.126,0.079,0.251,0.123,0.362%20c-0.149,0.03-0.33,0.064-0.531,0.1c0.194,0.784,0.468,1.681,0.816,2.297c0.125,0.22,0.247,0.519,0.124,0.695%20c-0.163,0.235-0.766,0.318-1.471,0.204c-0.56-0.093-1.099,0.07-1.475,0.445c-0.389,0.387-0.558,0.948-0.464,1.541%20c0.121,0.758,0.534,1.619,1.186,1.834c0.294,0.097,0.758,0.1,1.295-0.426c0.344-0.336,0.739-0.444,1.146-0.307%20c0.56,0.188,1.038,0.812,1.138,1.481c0.056,0.38,0.029,0.95-0.003,1.558c-2.179,0.104-5.007,0.982-5.63,1.294%20c-0.448,0.224-0.69,0.498-0.721,0.815c-0.019,0.2,0.045,0.505,0.457,0.818c0.079,0.062,0.207,0.187,0.167,0.343%20c-0.056,0.222-0.427,0.509-1.3,0.648c-1.143,0.184-1.543,0.034-1.68-0.121c-0.106-0.122-0.113-0.339-0.021-0.645%20c0.125-0.413,0.1-0.769-0.077-1.055c-0.277-0.452-0.838-0.598-1.235-0.668c-0.438-0.075-1.908,0.021-3.591,0.16%20c0.037-1.121,0.01-2.296-0.136-2.879c-0.16-0.64-0.476-0.885-0.713-0.979c-0.303-0.12-0.661-0.065-1.006,0.159%20c-0.076,0.05-0.184,0.101-0.257,0.057c-0.139-0.077-0.27-0.433-0.251-1.052C7.376,22.309,7.634,22.059,7.713,22%20c0.074-0.057,0.125-0.058,0.134-0.056l0.085,0.036c0.306,0.134,0.941,0.409,1.369,0.095c0.267-0.195,0.373-0.563,0.318-1.093%20c-0.08-0.766,0.007-1.671,0.11-2.369c0.21-0.052,0.421-0.106,0.641-0.175c0.08-0.025,0.143-0.05,0.219-0.075%20c-0.456,0.037-0.878,0.09-1.21,0.163c0,0-0.024-0.427,0.039-1.02c-0.03,0.139-0.079,0.377-0.131,0.69%20c-0.639,0.13-1.259,0.186-1.951,0.167c-0.166-0.004-0.381-0.036-0.462-0.16c-0.13-0.2,0.047-0.632,0.145-0.87%20c0.116-0.291,0.145-0.734-0.069-1.021c-0.109-0.146-0.327-0.314-0.728-0.278c-0.973,0.089-1.035,0.911-1.121,2.05%20c-0.021,0.271-0.127,0.324-0.162,0.342C4.664,18.568,4,18.3,3.609,18.059c-0.041,0.169-0.093,0.333-0.13,0.503%20c0.256,0.143,0.79,0.405,1.266,0.405c0.149,0,0.293-0.026,0.42-0.09c0.18-0.091,0.4-0.295,0.435-0.751%20c0.105-1.388,0.229-1.549,0.668-1.589c0.211-0.016,0.264,0.055,0.281,0.078c0.086,0.116,0.073,0.371-0.014,0.587%20C6.421,17.48,6.183,18.06,6.456,18.48c0.159,0.245,0.451,0.375,0.867,0.387c0.67,0.02,1.274-0.031,1.886-0.143%20c-0.094,0.698-0.164,1.558-0.086,2.313c0.035,0.332-0.006,0.558-0.115,0.638c-0.198,0.146-0.69-0.069-0.874-0.15l-0.109-0.046%20c-0.174-0.064-0.382-0.031-0.57,0.096c-0.212,0.142-0.57,0.518-0.598,1.439c-0.023,0.784,0.151,1.303,0.505,1.502%20c0.134,0.075,0.411,0.163,0.774-0.072c0.119-0.077,0.35-0.191,0.552-0.114c0.183,0.072,0.325,0.292,0.411,0.635%20c0.129,0.518,0.158,1.669,0.119,2.8C9.145,27.771,9.073,27.777,9,27.783c-1.123,0.1-2.412-0.311-2.699-0.623%20c-0.318-0.345-0.424-0.941-0.241-1.358c0.085-0.196,0.082-0.414-0.009-0.631c-0.182-0.431-0.675-0.768-0.899-0.853%20c-0.156-0.058-0.686-0.227-1.005,0.06c-0.198,0.177-0.25,0.46-0.154,0.842c0.026,0.107,0.081,0.327,0.113,0.5%20c-0.232-0.159-0.642-0.517-1.016-0.945c0.023,0.272,0.053,0.542,0.086,0.811C3.454,25.853,3.713,26.063,3.875,26.167z%20M37.837,24.135c0.365,0.456,0.733,0.676,1.039,0.648c0.465-0.026,0.741-0.47,0.986-0.861c0.113-0.183,0.231-0.372,0.331-0.446%20c0.082-0.061,0.12-0.045,0.141-0.038c0.178,0.073,0.418,0.535,0.515,1.184c0.082,0.553-0.031,0.938-0.179,1.073%20c-0.061,0.057-0.13,0.072-0.219,0.051c-0.337-0.079-0.881-0.048-1.299,0.309c-0.263,0.224-0.563,0.656-0.508,1.452%20c0.041,0.596,0.337,1.065,0.649,1.562c0.187,0.297,0.374,0.601,0.512,0.94c-1.588,1.268-3.206,2.202-3.649,2.303%20c-0.406,0.093-0.487,0.032-0.495,0.023c-0.033-0.034-0.093-0.188,0.076-0.895c0.101-0.42-0.066-0.663-0.224-0.794%20c-0.599-0.497-2.122-0.132-2.804,0.173c-0.698,0.313-1.331,0.958-1.505,1.534c-0.098,0.326-0.023,0.545,0.056,0.671%20c0.148,0.234,0.423,0.34,0.643,0.426c0.034,0.013,0.077,0.029,0.116,0.046c-0.046,0.039-0.117,0.094-0.229,0.167%20c-0.915,0.597-2.822,0.983-5.232,1.061c-0.409,0.013-0.838,0.056-1.269,0.11c-0.12-0.29-0.199-0.612-0.22-0.976%20c-0.026-0.448,0.114-0.833,0.418-1.145c0.512-0.523,1.392-0.747,1.837-0.721c0.456,0.018,0.919-0.021,1.239-0.377%20c0.304-0.339,0.397-0.896,0.285-1.702c-0.093-0.668-0.341-1.07-0.737-1.195c-0.694-0.218-1.489,0.533-1.8,0.867%20c-0.055,0.06-0.555,0.58-1.143,0.584c-0.002,0-0.005,0-0.007,0c-0.303,0-0.591-0.141-0.856-0.419%20c-0.558-0.584-0.541-1.934-0.482-3.128c0.011,0,0.022,0,0.034,0c2.147,0.022,4.552-0.612,5.336-1.089%20c0.554-0.337,0.82-0.682,0.817-1.052c-0.003-0.336-0.235-0.642-0.693-0.91c-0.299-0.175-0.294-0.34-0.292-0.395%20c0.01-0.357,0.546-0.87,1.334-1.273c0.799-0.409,1.729-0.516,2.075-0.234c0.046,0.037,0.184,0.149,0.09,0.487%20c-0.122,0.443-0.078,0.782,0.133,1.008c0.321,0.343,0.864,0.241,0.954,0.222c1.308-0.436,2.364-0.911,3.255-1.386%20C37.113,22.827,37.418,23.612,37.837,24.135z%20M22.374,22.619c-0.588-0.197-1.174-0.047-1.655,0.423%20c-0.288,0.283-0.554,0.387-0.788,0.309c-0.43-0.142-0.752-0.831-0.849-1.438c-0.068-0.432,0.049-0.835,0.322-1.107%20c0.266-0.265,0.635-0.372,1.042-0.307c0.351,0.058,1.536,0.2,1.961-0.411c0.219-0.313,0.185-0.726-0.099-1.227%20c-0.299-0.528-0.545-1.304-0.727-2.016c1.066-0.037,3.666-0.194,4.653-0.862c0.302-0.204,0.644-0.482,0.604-0.828%20c-0.041-0.355-0.432-0.504-0.777-0.636c-0.119-0.045-0.233-0.087-0.313-0.136c-0.103-0.063-0.271-0.226-0.253-0.434%20c0.027-0.303,0.442-0.634,1.14-0.907c1.28-0.505,1.693-0.246,1.79-0.155c0.175,0.166,0.107,0.473,0.051,0.641%20c-0.138,0.412-0.026,0.659,0.092,0.793c0.338,0.386,1.095,0.302,1.788,0.17c0.396-0.075,1.428-0.345,2.565-0.751%20c0.461,0.552,0.843,1.09,0.907,1.472c0.084,0.5,0.054,0.624,0.074,0.624h0.001c-0.026,0.009-0.122,0-0.192-0.006%20c-0.383-0.032-1.047,0.019-1.387,0.534c-0.279,0.424-0.262,1.011,0.054,1.747c0.373,0.873,0.893,1.115,1.263,1.166%20c0.569,0.081,1.059-0.248,1.236-0.47c0.036-0.045,0.077-0.103,0.123-0.166c0.132-0.185,0.379-0.529,0.558-0.529%20c0.099,0,0.207,0.129,0.262,0.206c0.206,0.286,0.396,1.09,0.598,1.943c0.094,0.398,0.197,0.824,0.311,1.251%20c-0.88,0.476-1.933,0.955-3.245,1.393c-0.085,0.017-0.351,0.038-0.46-0.082c-0.081-0.087-0.087-0.276-0.016-0.532%20c0.157-0.568-0.093-0.875-0.256-1.009c-0.578-0.471-1.754-0.267-2.62,0.176c-0.476,0.244-1.583,0.898-1.605,1.705%20c-0.007,0.235,0.081,0.572,0.539,0.84c0.287,0.168,0.445,0.339,0.446,0.482c0.002,0.17-0.209,0.396-0.577,0.62%20c-0.697,0.425-2.932,1.018-4.92,1.018c-0.055-0.001-0.109-0.001-0.164-0.001c0.033-0.62,0.058-1.202-0.004-1.622%20C23.719,23.642,23.113,22.868,22.374,22.619z%20M9.589,29.593c0.045-0.377,0.082-0.857,0.107-1.366%20c1.194-0.099,3.105-0.243,3.526-0.172c0.474,0.084,0.768,0.227,0.896,0.438c0.099,0.159,0.106,0.378,0.024,0.648%20c-0.146,0.48-0.104,0.857,0.122,1.117c0.221,0.252,0.598,0.376,1.162,0.376c0.278,0,0.602-0.029,0.973-0.089%20c1.314-0.21,1.634-0.729,1.707-1.021c0.078-0.313-0.052-0.635-0.35-0.862c-0.179-0.136-0.271-0.27-0.262-0.374%20c0.012-0.128,0.175-0.279,0.446-0.415c0.575-0.288,3.308-1.128,5.381-1.239c-0.065,1.328-0.073,2.735,0.621,3.462%20c0.367,0.384,0.759,0.563,1.229,0.573c0.78-0.006,1.391-0.621,1.505-0.744c0.489-0.525,1.009-0.816,1.283-0.73%20c0.244,0.077,0.348,0.471,0.392,0.787c0.09,0.644,0.036,1.08-0.161,1.299c-0.174,0.194-0.471,0.227-0.851,0.212%20c-0.523-0.003-1.561,0.203-2.211,0.871c-0.406,0.416-0.595,0.929-0.561,1.523c0.022,0.377,0.108,0.706,0.222,1.012%20c-1.761,0.271-3.494,0.785-4.231,1.088c-0.518,0.213-0.799,0.487-0.834,0.818c-0.036,0.334,0.181,0.664,0.644,0.983%20c0.107,0.074,0.13,0.122,0.134,0.122c-0.043,0.111-0.547,0.378-1.778,0.451c-1.16,0.072-1.507-0.316-1.588-0.437%20c-0.078-0.116-0.092-0.242-0.039-0.354c0.149-0.313,0.178-0.589,0.085-0.821c-0.077-0.195-0.236-0.344-0.46-0.43%20c-0.363-0.14-2.527-0.33-4.414-0.207c-0.345,0.021-0.667-0.007-0.976-0.055c-0.358-0.549-0.632-1.086-0.691-1.518%20c-0.027-0.197-0.032-0.457,0.098-0.566c0.24-0.201,0.918,0.011,1.282,0.123l0.151,0.047c0.464,0.14,0.845,0.08,1.076-0.16%20c0.276-0.287,0.297-0.78,0.062-1.469c-0.219-0.644-0.527-1.023-0.94-1.161c-0.412-0.137-0.885-0.018-1.447,0.365%20c-0.051,0.035-0.207,0.143-0.479-0.021C9.956,31.4,9.485,30.464,9.589,29.593z'/%3e%3cpath%20fill='%23bebebe'%20d='M21.213,15.091l-0.017,0.003c0.06,0.437,0.148,0.862,0.262,1.234%20C21.301,15.638,21.215,15.103,21.213,15.091z'/%3e%3c/g%3e%3cpath%20fill='%23767676'%20d='M25.116,43.687c-0.133,0-0.256-0.007-0.365-0.021c-0.306-0.042-0.464-0.135-0.481-0.286%20c-0.051-0.421,1.125-0.575,1.26-0.591c0.326-0.04,0.639-0.044,0.883-0.011c0.306,0.042,0.464,0.135,0.481,0.286%20c0.019,0.15-0.112,0.278-0.4,0.391c-0.228,0.09-0.532,0.161-0.86,0.2C25.453,43.676,25.278,43.687,25.116,43.687z%20M24.528,43.348%20c0.095,0.063,0.488,0.128,1.075,0.059c0.585-0.07,0.953-0.229,1.031-0.313c-0.095-0.063-0.488-0.128-1.076-0.058%20C24.974,43.107,24.605,43.265,24.528,43.348z%20M26.648,43.077L26.648,43.077L26.648,43.077L26.648,43.077z'/%3e%3c/svg%3e",bn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cpath%20fill='%23FF3D00'%20d='M43.2,33.9c-0.4,2.1-2.1,3.7-4.2,4c-3.3,0.5-8.8,1.1-15,1.1c-6.1,0-11.6-0.6-15-1.1c-2.1-0.3-3.8-1.9-4.2-4C4.4,31.6,4,28.2,4,24c0-4.2,0.4-7.6,0.8-9.9c0.4-2.1,2.1-3.7,4.2-4C12.3,9.6,17.8,9,24,9c6.2,0,11.6,0.6,15,1.1c2.1,0.3,3.8,1.9,4.2,4c0.4,2.3,0.9,5.7,0.9,9.9C44,28.2,43.6,31.6,43.2,33.9z'/%3e%3cpath%20fill='%23FFF'%20d='M20%2031L20%2017%2032%2024z'/%3e%3c/svg%3e",xn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20fill='none'%20version='1.1'%20viewBox='0%200%2042%2042'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20transform='translate(-.20472%20.0012327)'%3e%3cpath%20d='m16.44%200.964%204.921%207.79c0.79%201.252-0.108%202.883-1.588%202.883h-2.013v11.663h-2.91v-23.212c0.61%200%201.22%200.292%201.59%200.876z'%20fill='%238fbcfa'/%3e%3cpath%20d='m8.342%208.755%204.921-7.791a1.864%201.864%200%200%201%201.59-0.876v23.212a4.87%204.87%200%200%200-0.252-6e-3c-0.99%200-1.907%200.311-2.658%200.842v-12.499h-2.013c-1.48%200-2.38-1.631-1.589-2.882z'%20fill='%23468bff'/%3e%3cpath%20d='m30.278%2031h-12.247a4.596%204.596%200%200%200%201.219-2.91h22.577c0%200.61-0.292%201.22-0.875%201.59l-7.792%204.92c-1.251%200.791-2.883-0.108-2.883-1.588v-2.012z'%20fill='%23fdbb11'/%3e%3cpath%20d='m33.16%2021.581%207.79%204.921c0.585%200.369%200.876%200.979%200.876%201.589h-22.576a4.619%204.619%200%200%200-0.858-2.91h11.887v-2.011c0-1.48%201.631-2.38%202.882-1.589z'%20fill='%23f6d785'/%3e%3cpath%20d='m8.24%2034.25-7.107%207.108a1.864%201.864%200%200%200%201.742%200.504l8.989-2.03c1.443-0.325%201.961-2.114%200.915-3.16l-1.423-1.423%205.356-5.356a2.805%202.805%200%200%200%200-3.966l-0.074-0.075z'%20fill='%23ff9a9d'/%3e%3cpath%20d='m7.243%2031.135%205.355-5.356a2.805%202.805%200%200%201%203.967%200l0.074%200.074-15.505%2015.505a1.864%201.864%200%200%201-0.504-1.742l2.029-8.989c0.325-1.444%202.115-1.961%203.161-0.915z'%20fill='%23fe363b'/%3e%3c/g%3e%3c/svg%3e",wn=o.createContext(void 0),Cn=()=>{const e=o.useContext(wn);if(!e)throw new Error("useWaldiezTheme must be used within a WaldiezThemeProvider context");return e},jn=()=>{if("undefined"==typeof window)return!1;if("localStorage"in window){if("dark"===localStorage.getItem("waldiez-theme"))return!0;if("light"===localStorage.getItem("waldiez-theme"))return!1}if(document.body.classList.contains("waldiez-dark"))return!0;if(document.body.classList.contains("waldiez-light"))return!1;return window.matchMedia("(prefers-color-scheme: dark)").matches},kn=e=>{An(e),Sn(e)},An=e=>{e?(document.body.classList.remove("waldiez-light"),document.body.classList.add("waldiez-dark")):(document.body.classList.remove("waldiez-dark"),document.body.classList.add("waldiez-light"))},Sn=e=>{"undefined"!=typeof window&&"localStorage"in window&&localStorage.setItem("waldiez-theme",e?"dark":"light")},On=({children:e,initialDark:t})=>{const[n,r]=o.useState(()=>"boolean"==typeof t?t:jn());"boolean"==typeof t&&kn(t);return a.jsx(wn.Provider,{value:{isDark:n,toggleTheme:()=>{r(e=>(kn(!e),!e))},setTheme:e=>{kn(e),r(e)}},children:e})},Tn={width:130},En={width:490},Mn={width:180},Nn=(e,t)=>{if(!e||"object"!=typeof e)throw new Error("Invalid agent data");const n=e,r=((e,t)=>{let n=`wa-${Y()}`;return n=t&&"string"==typeof t?t:Be(e),n})(n,t),a=(e=>{let t="user_proxy",n=e;if(!("agentType"in e)||"string"!=typeof e.agentType){if(!("data"in e)||"object"!=typeof e.data||!("agentType"in e.data)||"string"!=typeof e.data.agentType)return t;n=e.data}return Qe.includes(n.agentType)&&(t=n.agentType),t})(n),{name:o,description:i,tags:s,requirements:l,createdAt:c,updatedAt:u}=Ze(n,a),d=n.data||n,p=Ln(d,a),f=_n(a);return((e,t,n,r,a,o,i,s,l,c)=>"user_proxy"===e?new ve({id:t,agentType:e,name:n,description:r,tags:a,requirements:o,createdAt:i,updatedAt:s,data:l,rest:c}):"assistant"===e?new ie({id:t,agentType:e,name:n,description:r,tags:a,requirements:o,createdAt:i,updatedAt:s,data:l,rest:c}):"rag_user_proxy"===e?new pe({id:t,agentType:e,name:n,description:r,tags:a,requirements:o,createdAt:i,updatedAt:s,data:l,rest:c}):"reasoning"===e?new me({id:t,agentType:e,name:n,description:r,tags:a,requirements:o,createdAt:i,updatedAt:s,data:l,rest:c}):"captain"===e?new le({id:t,agentType:e,name:n,description:r,tags:a,requirements:o,createdAt:i,updatedAt:s,data:l,rest:c}):"group_manager"===e?new ue({id:t,agentType:e,name:n,description:r,tags:a,requirements:o,createdAt:i,updatedAt:s,data:l,rest:c}):new ee({id:t,agentType:e,name:n,description:r,tags:a,requirements:o,createdAt:i,updatedAt:s,data:l,rest:c}))(a,r,o,i,s,l,c,u,p,$e(n,f))},Pn=(e,t)=>{const n=t?zn(e):{...e},r={...n.data},a=n.data.label;delete n.data;const o=r.agentType,i={systemMessage:r.systemMessage,humanInputMode:r.humanInputMode,codeExecutionConfig:r.codeExecutionConfig,agentDefaultAutoReply:r.agentDefaultAutoReply,maxConsecutiveAutoReply:r.maxConsecutiveAutoReply,termination:r.termination,modelIds:r.modelIds,tools:r.tools,parentId:r.parentId,nestedChats:r.nestedChats,handoffs:r.handoffs,contextVariables:r.contextVariables,updateAgentStateBeforeReply:r.updateAgentStateBeforeReply,afterWork:r.afterWork};Bn(o,i,r),Dn(i);for(const s of["description","name","tags","requirements","createdAt","updatedAt","agentType","parentId"])delete n[s];return{type:"agent",agentType:o,name:a,description:r.description,tags:r.tags,requirements:r.requirements,createdAt:r.createdAt,updatedAt:r.updatedAt,data:i,...n}},In=(e,t,n)=>{const r=Ge(e,t),a={...e.data,agentType:e.agentType,label:e.name,description:e.description,tags:e.tags,requirements:e.requirements,createdAt:e.createdAt,updatedAt:e.updatedAt};delete a.name;const o={id:e.id,type:"agent",data:a,style:{width:"group_manager"===e.agentType?En.width:"user_proxy"!==e.agentType?Mn.width:Tn.width},...e.rest,parentId:null!==e.data.parentId?e.data.parentId:void 0,position:r};return!0===n?zn(o):o},Dn=e=>{e.nestedChats&&0!==e.nestedChats.length||(e.nestedChats=[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}])},Rn=(e,t)=>{const n=(e=>"systemMessage"in e&&"string"==typeof e.systemMessage?e.systemMessage:null)(e),r=((e,t)=>{let n="NEVER";return["user_proxy","rag_user_proxy"].includes(t)&&(n="ALWAYS"),"humanInputMode"in e&&"string"==typeof e.humanInputMode&&["ALWAYS","NEVER","TERMINATE"].includes(e.humanInputMode)&&(n=e.humanInputMode),n})(e,t),a=(e=>!(!("codeExecutionConfig"in e)||"object"!=typeof e.codeExecutionConfig||!e.codeExecutionConfig)&&e.codeExecutionConfig)(e),o=(e=>"agentDefaultAutoReply"in e&&"string"==typeof e.agentDefaultAutoReply?e.agentDefaultAutoReply:null)(e),i=(e=>"maxConsecutiveAutoReply"in e&&"number"==typeof e.maxConsecutiveAutoReply?e.maxConsecutiveAutoReply:null)(e),s=(e=>{if("termination"in e&&"object"==typeof e.termination&&e.termination){const t=e.termination;return{type:ln(t),keywords:cn(t),criterion:un(t),methodContent:dn(t)}}return{type:"none",keywords:[],criterion:null,methodContent:null}})(e),l=(e=>{const t=[];if("modelIds"in e&&Array.isArray(e.modelIds))for(const n of e.modelIds)"string"==typeof n&&t.push(n);return t})(e),c=(e=>{let t=[];return"tools"in e&&Array.isArray(e.tools)&&(t=e.tools.filter(e=>"object"==typeof e&&e&&"id"in e&&"executorId"in e&&"string"==typeof e.id&&"string"==typeof e.executorId)),t})(e),u=(e=>{if("parentId"in e&&"string"==typeof e.parentId)return e.parentId})(e),d=(e=>{const t=[],n={conditionType:"string_llm",prompt:""};if("nestedChats"in e&&Array.isArray(e.nestedChats))for(const r of e.nestedChats){let e=[];"triggeredBy"in r&&Array.isArray(r.triggeredBy)&&(e=r.triggeredBy.filter(e=>"string"==typeof e));const n=et(r),a=Xe(r,""),o=Ke(r);t.push({triggeredBy:e,messages:n,condition:a,available:o})}return 0===t.length&&t.push({triggeredBy:[],messages:[],condition:n,available:{type:"none",value:""}}),t})(e),p=(e=>"contextVariables"in e&&"object"==typeof e.contextVariables?e.contextVariables:{})(e),f=(e=>{if("updateAgentStateBeforeReply"in e&&"object"==typeof e.updateAgentStateBeforeReply&&e.updateAgentStateBeforeReply)if("type"in e.updateAgentStateBeforeReply&&"content"in e.updateAgentStateBeforeReply){if("string"==typeof e.updateAgentStateBeforeReply.type&&"string"==typeof e.updateAgentStateBeforeReply.content){if("string"===e.updateAgentStateBeforeReply.type)return[{type:"string",content:e.updateAgentStateBeforeReply.content}];if("callable"===e.updateAgentStateBeforeReply.type)return[{type:"callable",content:e.updateAgentStateBeforeReply.content}]}}else if(Array.isArray(e.updateAgentStateBeforeReply))return e.updateAgentStateBeforeReply.filter(e=>"object"==typeof e&&e&&"type"in e&&"string"==typeof e.type&&"content"in e&&"string"==typeof e.content);return[]})(e),h=Ye(e),m=(e=>"handoffs"in e&&Array.isArray(e.handoffs)?e.handoffs.filter(e=>"string"==typeof e):[])(e);return new T({systemMessage:n,humanInputMode:r,codeExecutionConfig:a,agentDefaultAutoReply:o,maxConsecutiveAutoReply:i,termination:s,modelIds:l,tools:c,parentId:u,nestedChats:d,contextVariables:p,updateAgentStateBeforeReply:f,afterWork:h,handoffs:m})},_n=e=>{const t=["id","name","description","tags","requirements","createdAt","updatedAt","data"];return"rag_user_proxy"===e&&t.push("retrieveConfig"),"assistant"===e&&t.push("isMultimodal"),"reasoning"===e&&t.push("verbose","reasonConfig"),"captain"===e&&t.push("agentLib","toolLib","maxRound","maxTurns"),"group_manager"===e&&t.push("initialAgentId","maxRound","adminName","speakers","enableClearHistory","sendIntroductions","groupName"),t},Ln=(e,t)=>{const n=Rn(e,t);return"rag_user_proxy"===t?new he({...n,retrieveConfig:St(e)}):"assistant"===t?new se({...n,isMultimodal:Je(e)}):"reasoning"===t?new ye({...n,verbose:gt(e),reasonConfig:yt(e)}):"captain"===t?new ce({...n,agentLib:Re(e),toolLib:_e(e),maxRound:Le(e),maxTurns:ze(e)}):"group_manager"===t?new de({...n,initialAgentId:st(e),maxRound:nt(e),adminName:rt(e),speakers:tt(e),enableClearHistory:at(e),sendIntroductions:ot(e),groupName:it(e)}):n},zn=e=>{const t={...e};return t.data.modelIds=[],t.data.tools=[],t.data.nestedChats=[],t.data.handoffs=[],t.data.codeExecutionConfig&&(t.data.codeExecutionConfig.functions=[]),"rag_user_proxy"===e.data.agentType&&(t.data.retrieveConfig={...t.data.retrieveConfig,model:null,docsPath:[]}),"group_manager"===e.data.agentType&&(t.data.speakers={...t.data.speakers,allowRepeat:[],allowedOrDisallowedTransitions:{},order:[]},t.data.initialAgentId=void 0),t},Bn=(e,t,n)=>{"rag_user_proxy"===e&&Fn(t,n),"reasoning"===e&&Un(t,n),"captain"===e&&qn(t,n),"assistant"===e&&(t.isMultimodal=Je(n)),"group_manager"===e&&Hn(t,n)},Fn=(e,t)=>{e.retrieveConfig=St(t)},Un=(e,t)=>{e.verbose=gt(t),e.reasonConfig=yt(t)},qn=(e,t)=>{e.agentLib=Re(t),e.toolLib=_e(t),e.maxRound=Le(t),e.maxTurns=ze(t)},Hn=(e,t)=>{e.maxRound=nt(t),e.adminName=rt(t),e.speakers=tt(t),e.enableClearHistory=at(t),e.sendIntroductions=ot(t),e.initialAgentId=st(t),e.groupName=it(t)},Wn=["string","method","rag_message_generator","none"],Vn=e=>Gn(e),$n=e=>({type:e.type,content:e.content,context:e.context,useCarryover:e.useCarryover}),Gn=e=>{const t={type:"none",useCarryover:!1,content:null,context:{}};return"message"in e&&e.message&&(t.type=Kn(e.message),t.content=Xn(e.message),t.context=Yn(e.message),t.useCarryover=Qn(e.message)),t},Kn=e=>{let t="none";return"type"in e&&e.type&&"string"==typeof e.type&&Wn.includes(e.type)&&(t=e.type),t},Xn=e=>{let t=null;return"content"in e&&e.content&&"string"==typeof e.content&&(t=e.content),t},Yn=e=>{let t={};return"context"in e&&e.context&&"object"==typeof e.context&&(t=Object.keys(e.context).reduce((t,n)=>(t[n.toString()]=e.context[n],t),{})),t},Qn=e=>{let t=!1;return"useCarryover"in e&&"boolean"==typeof e.useCarryover&&(t=e.useCarryover),"useCarryover"in e&&"boolean"==typeof e.useCarryover&&(t=e.useCarryover),t},Zn=e=>"summary"in e?er(e):{method:null,prompt:"",args:{}},Jn=e=>({method:e.method,prompt:e.prompt,args:e.args}),er=e=>{const t={method:null,prompt:"",args:{}};return"summary"in e&&e.summary&&(t.method=tr(e),t.prompt=nr(e),t.args=rr(e)),t},tr=e=>{let t=null;return"method"in e.summary&&e.summary.method&&("reflectionWithLlm"===e.summary.method||"reflectionWithLlm"===e.summary.method?t="reflectionWithLlm":"lastMsg"!==e.summary.method&&"lastMsg"!==e.summary.method||(t="lastMsg")),t},nr=e=>{let t="";return"prompt"in e.summary&&"string"==typeof e.summary.prompt&&(t=e.summary.prompt),t},rr=e=>{let t={};return"args"in e.summary&&e.summary.args&&"object"==typeof e.summary.args&&(t=Object.keys(e.summary.args).reduce((t,n)=>(t[n.toString()]=e.summary.args[n],t),{})),t},ar=e=>{let t=!0;return"clearHistory"in e&&"boolean"==typeof e.clearHistory&&(t=e.clearHistory),t},or=e=>{let t="Chat";return"label"in e&&e.label&&"string"==typeof e.label&&(t=e.label),t},ir=e=>{let t="Chat Description";return"description"in e&&e.description&&"string"==typeof e.description&&(t=e.description),t},sr=(e,t)=>{let n=t;return"position"in e&&"number"==typeof e.position&&(n=Math.floor(e.position)),n},lr=e=>{let t=null;return"maxTurns"in e&&"number"==typeof e.maxTurns&&(t=Math.floor(e.maxTurns)),t},cr=e=>{const t={message:null,reply:null};return"nestedChat"in e&&e.nestedChat&&("message"in e.nestedChat&&e.nestedChat.message&&(t.message=Vn({message:e.nestedChat.message})),"reply"in e.nestedChat&&e.nestedChat.reply&&(t.reply=Vn({message:e.nestedChat.reply}))),t},ur=e=>{const t=[];return"prerequisites"in e&&Array.isArray(e.prerequisites)&&e.prerequisites.forEach(e=>{"string"==typeof e&&t.push(e)}),t},dr=e=>{let t=-1;if("order"in e&&"number"==typeof e.order){const n=Math.floor(e.order);t=n>=0?n:-1}return t},pr=(e,t,n,r,a,o)=>{const i=r.data.agentType;let s=((e,t)=>{let n="chat";"type"in t&&"string"==typeof t.type&&t.type&&Ce.includes(t.type)?n=t.type:"data"in t&&"object"==typeof t.data&&null!==t.data&&"type"in t.data&&"string"==typeof t.data.type&&t.data.type&&Ce.includes(t.data.type)&&(n=t.data.type);let r=e?.type??n;return Ce.includes(r)||(r="chat"),r})(e,n);"type"in o&&"string"==typeof o.type&&Ce.includes(o.type)&&(e.type=o.type,s=e.type),delete o.type,delete o.source,delete o.target;const l=pn[i];e.type=s,"hidden"!==e.type&&(e.animated=hr(s)),fr(e,s,l);const c=r.data.label,u=a.data.label;c&&u&&(t.name=`${c} => ${u}`),e.data={...t,label:t.name,order:"nested"===s?-1:t.order},delete e.data.name,t.order="nested"===s?-1:t.order,mr(e,o),gr(e,o);return{...e,...o}},fr=(e,t,n)=>{"hidden"!==e.type&&(e.markerEnd="nested"!==t?{type:i.MarkerType.ArrowClosed,color:n,width:10,height:10}:void 0,e.style={stroke:n,strokeWidth:1})},hr=(e,t,n)=>"nested"===e,mr=(e,t)=>{let n=null;if("sourceHandle"in t&&"string"==typeof t.sourceHandle&&(t.sourceHandle.includes("-source")||t.sourceHandle.includes("-target"))){const r=t.sourceHandle.includes("-source"),a=["top","left","right","bottom"].find(e=>t.sourceHandle.includes(e));a&&(n=`agent-handle-${a}-${r?"source":"target"}-${r?e.source:e.target}`)}t.sourceHandle=n,e.sourceHandle=n},gr=(e,t)=>{let n=null;if("targetHandle"in t&&"string"==typeof t.targetHandle&&(t.targetHandle.includes("-source")||t.targetHandle.includes("-target"))){const r=t.targetHandle.includes("source"),a=["top","left","right","bottom"].find(e=>t.targetHandle.includes(e));a&&(n=`agent-handle-${a}-${r?"source":"target"}-${r?e.source:e.target}`)}t.targetHandle=n,e.targetHandle=n},yr=e=>{if(!e||"object"!=typeof e)throw new Error("Invalid edge data");const t="id"in e&&"string"==typeof e.id&&"data"in e&&"object"==typeof e.data&&null!==e.data,n=(e=>{if("source"in e&&"string"==typeof e.source)return e.source;if("data"in e&&"object"==typeof e.data&&null!==e.data&&"source"in e.data&&"string"==typeof e.data.source)return e.data.source;throw new Error("Source not found in chat data")})(e);e.source=n;const r=(e=>{if("target"in e&&"string"==typeof e.target)return e.target;if("data"in e&&"object"==typeof e.data&&null!==e.data&&"target"in e.data&&"string"==typeof e.data.target)return e.data.target;throw new Error("Target not found in chat data")})(e);if(e.target=r,!t)throw new Error((e=>{const t=[];return"id"in e&&"string"==typeof e.id||t.push("id must be a string"),"data"in e&&"object"==typeof e.data&&null!==e.data||t.push("data must be an object"),"source"in e&&"string"==typeof e.source||t.push("source must be a string"),"target"in e&&"string"==typeof e.target||t.push("target must be a string"),t.length>0?`Invalid edge data: ${t.join(", ")}`:"Invalid edge data ?"})(e))},vr=e=>{let t=!1;return"silent"in e&&"boolean"==typeof e.silent&&(t=e.silent),t},br=(e,t,n)=>{yr(e),(e=>{"type"in e&&"string"==typeof e.type&&Ce.includes(e.type)?e.type=e.type:"data"in e&&"object"==typeof e.data&&null!==e.data&&"type"in e.data&&"string"==typeof e.data.type&&Ce.includes(e.data.type)?e.type=e.data.type:e.type="chat"})(e);const r=t.find(t=>t.id===e.id);if(!r)throw new Error(`Edge not found: ${e.id}`);const a=n.find(t=>t.id===e.source);if(!a||"agent"!==a.type)throw new Error(`Source node not found: ${e.source}`);if(r.source!==e.source)throw new Error(`Source node does not match edge source: ${e.source}`);const o=n.find(t=>t.id===e.target);if(!o||"agent"!==o.type)throw new Error(`Target node not found: ${e.target}`);if(r.target!==e.target)throw new Error(`Target node does not match edge target: ${e.target}`);return{edge:r,sourceNode:a,targetNode:o}},xr=e=>{let t="user_proxy";return"sourceType"in e&&"string"==typeof e.sourceType&&(t=e.sourceType),be.includes(t)?t:"assistant"},wr=e=>{let t="assistant";return"targetType"in e&&"string"==typeof e.targetType&&(t=e.targetType),be.includes(t)?t:"user_proxy"},Cr=(e,t,n,r)=>{if(!e||"object"!=typeof e)throw new Error("Invalid edge data");const a=e;let o=null;try{o=br(a,t,n)}catch(h){throw new Error(h.message)}const{edge:i,sourceNode:s,targetNode:l}=o,c=a.id,u=Ar(i),d=Sr(a.data,r),p=(e=>{const t={...e};return delete t.id,delete t.data,delete t.type,delete t.source,delete t.target,t})({...a,...i}),f=pr(i,d,a,s,l,p);Object.entries(f).forEach(([e,t])=>{"data"!==e&&"source"!==e&&"target"!==e&&"id"!==e&&"type"!==e&&(p[e]=t)});return{chat:new we({id:c,data:d,type:u,source:s.id,target:l.id,rest:p}),edge:f}},jr=(e,t)=>{const n=e.data,r=e.type||Ar(e),a={...n},o={sourceType:xr(a),targetType:wr(a),name:or(a),order:dr(a),description:ir(a),position:sr(a,t),clearHistory:ar(a),maxTurns:lr(a),message:$n(a.message),summary:Jn(a.summary),nestedChat:cr(a),prerequisites:ur(a),condition:Xe(a),available:Ke(a),afterWork:Ye(a),silent:vr(a),realSource:a.realSource,realTarget:a.realTarget},i={...e};"hidden"===i.type&&(i.hidden=!0),delete i.data,delete i.type,delete i.source,delete i.target,delete i.id;const s=new we({id:e.id,data:o,type:r,source:e.source,target:e.target,rest:i}),l={...s,...s.rest};return delete l.rest,l},kr=e=>{const t={label:e.data.name,sourceType:e.data.sourceType,targetType:e.data.targetType,description:e.data.description,position:e.data.position,order:e.data.order,clearHistory:e.data.clearHistory,message:e.data.message,nestedChat:e.data.nestedChat,prerequisites:e.data.prerequisites,summary:e.data.summary,maxTurns:e.data.maxTurns,condition:e.data.condition,available:e.data.available,afterWork:e.data.afterWork,realSource:e.data.realSource,realTarget:e.data.realTarget,silent:e.data.silent},n=e.rest?.style||{};return n.strokeWidth=1,{id:e.id,source:e.source,target:e.target,type:e.type,data:t,hidden:!0===e.rest?.hidden||"hidden"===e.type,...e.rest,style:n}},Ar=e=>"data"in e&&"object"==typeof e.data&&"type"in e.data&&"string"==typeof e.data.type&&Ce.includes(e.data.type.toLocaleLowerCase())?e.data.type:"type"in e&&"string"==typeof e.type&&Ce.includes(e.type.toLocaleLowerCase())?e.type:"chat",Sr=(e,t)=>{if(!e||"object"!=typeof e)throw new Error("Invalid chat data");const n=Fe(e,"New connection"),r=Ue(e,"New connection"),a=xr(e),o=wr(e),i=ar(e),s=lr(e),l=sr(e,t),c=dr(e),u=Vn(e),d=Zn(e),p=cr(e),f=ur(e),h=(e=>{let t=null;return"realSource"in e&&"string"==typeof e.realSource&&(t=e.realSource),t})(e),m=(e=>{let t=null;return"realTarget"in e&&"string"==typeof e.realTarget&&(t=e.realTarget),t})(e),g=Xe(e),y=Ke(e),v=Ye(e),b=vr(e);return new xe({sourceType:a,targetType:o,name:n,description:r,clearHistory:i,maxTurns:s,position:l,order:c,message:u,summary:d,nestedChat:p,prerequisites:f,condition:g,available:y,realSource:h,realTarget:m,afterWork:v,silent:b})},Or=(e,t,n,r)=>{const a=Pn(e,r),o=t.find(t=>t.id===e.id);return o&&Object.keys(o).forEach(e=>{["id","type","parentId","data"].includes(e)||delete a[e]}),a.agentType=e.data.agentType,Tr(a,t,n),a},Tr=(e,t,n)=>{const r=t.filter(e=>"agent"===e.type),a=e.data.parentId,o=((e,t,n,r)=>{const a=r.filter(t=>t.source===e);return n?a.filter(e=>{const r=t.find(t=>t.id===e.source),a=t.find(t=>t.id===e.target);return r&&a&&r.data.parentId===n&&a.data.parentId!==n}):a.filter(e=>"nested"===e.type)})(e.id,r,a,n),i=e.data.nestedChats||[];0===o.length||i.length>0&&i[0].messages.length>0?e.data.nestedChats=i:e.data.nestedChats=[{triggeredBy:[e.id],messages:o.map(e=>({id:e.id,isReply:!1})),condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}]},Er=e=>{if(!e||"object"!=typeof e)return new Me({id:"wm-"+Y(),name:"Model",description:"A new model",tags:[],requirements:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),data:new Ee});const t=e,n=Be(t),{name:r,description:a,tags:o,requirements:i,createdAt:s,updatedAt:l}=Dr(t),c=t.data||t,u=Rr(c),d=$e(t,["id","type","name","description","tags","requirements","createdAt","updatedAt","data"]);return new Me({id:n,name:r,description:a,tags:o,requirements:i,createdAt:s,updatedAt:l,data:u,rest:d})},Mr=(e,t)=>{const n=e.data.apiKey?t?"REPLACE_ME":e.data.apiKey:null,r=$e(e,["id","type","parentId","data"]),{defaultHeaders:a,extras:o,aws:i}=t?Pr(e):e.data;return{id:e.id,type:"model",name:e.data.label,description:e.data.description,tags:e.data.tags,requirements:e.data.requirements,createdAt:e.data.createdAt,updatedAt:e.data.updatedAt,data:{apiKey:n,apiType:e.data.apiType,apiVersion:e.data.apiVersion,baseUrl:e.data.baseUrl,temperature:e.data.temperature,topP:e.data.topP,maxTokens:e.data.maxTokens,aws:i,extras:o,defaultHeaders:a,price:e.data.price},...r}},Nr=(e,t)=>{const n=Ge(e,t),r={...e.data,label:e.name,description:e.description,tags:e.tags,requirements:e.requirements,createdAt:e.createdAt,updatedAt:e.updatedAt};r.label=e.name,e.rest&&"position"in e.rest&&delete e.rest.position;const a=r;return{id:e.id,type:"model",data:a,position:n,...e.rest}},Pr=e=>{const t={...e.data.defaultHeaders},n={...e.data.extras},r={...e.data.aws||{region:null,accessKey:null,secretKey:null,sessionToken:null,profileName:null}};for(const a in t)"string"==typeof t[a]&&(t[a]="REPLACE_ME");for(const a in n)"string"==typeof n[a]&&(n[a]="REPLACE_ME");for(const a in r)"string"==typeof r[a]&&(r[a]="REPLACE_ME");return{defaultHeaders:t,extras:n,aws:r}},Ir=e=>{let t=null;return"region"in e&&"string"==typeof e.region&&(t=e.region),t},Dr=e=>{const t=((e,t)=>{let n=e??"Model";return"name"in t&&"string"==typeof t.name&&(n=t.name),n})(Fe(e,null),e);return{name:t,description:Ue(e,"A new model"),tags:qe(e),requirements:He(e),createdAt:We(e),updatedAt:Ve(e)}},Rr=e=>{const t=(e=>{let t=null;return"baseUrl"in e&&"string"==typeof e.baseUrl&&(t=e.baseUrl),t})(e),n=(e=>{let t=null;return"apiKey"in e&&"string"==typeof e.apiKey&&(t=e.apiKey),t})(e),r=(e=>{let t="openai";return"apiType"in e&&"string"==typeof e.apiType&&["openai","azure","bedrock","deepseek","google","anthropic","cohere","mistral","groq","together","nim","other"].includes(e.apiType)&&(t=e.apiType),t})(e),a=(e=>{let t=null;return"apiVersion"in e&&"string"==typeof e.apiVersion&&(t=e.apiVersion),t})(e),o=(e=>{let t=null;return"temperature"in e&&"number"==typeof e.temperature&&(t=e.temperature),t})(e),i=(e=>{let t=null;return"topP"in e&&"number"==typeof e.topP&&(t=e.topP),t})(e),s=(e=>{let t=null;return"maxTokens"in e&&"number"==typeof e.maxTokens&&(t=e.maxTokens),t})(e),l=(e=>{const t={region:null,accessKey:null,secretKey:null,sessionToken:null,profileName:null};return"aws"in e&&"object"==typeof e.aws&&e.aws&&(t.region=Ir(e.aws),t.accessKey=(e=>{let t=null;return"accessKey"in e&&"string"==typeof e.accessKey&&(t=e.accessKey),t})(e.aws),t.secretKey=(e=>{let t=null;return"secretKey"in e&&"string"==typeof e.secretKey&&(t=e.secretKey),t})(e.aws),t.sessionToken=(e=>{let t=null;return"sessionToken"in e&&"string"==typeof e.sessionToken&&(t=e.sessionToken),t})(e.aws),t.profileName=Ir(e.aws)),t})(e),c=(e=>{let t={};return"extras"in e&&"object"==typeof e.extras&&(t=e.extras),t})(e),u=(e=>{let t={};return"defaultHeaders"in e&&"object"==typeof e.defaultHeaders&&(t=e.defaultHeaders),t})(e),d=(e=>{const t={promptPricePer1k:null,completionTokenPricePer1k:null};return"price"in e&&"object"==typeof e.price&&e.price&&("promptPricePer1k"in e.price&&"number"==typeof e.price.promptPricePer1k&&(t.promptPricePer1k=e.price.promptPricePer1k),"completionTokenPricePer1k"in e.price&&"number"==typeof e.price.completionTokenPricePer1k&&(t.completionTokenPricePer1k=e.price.completionTokenPricePer1k)),t})(e);return new Ee({baseUrl:t,apiKey:n,apiType:r,apiVersion:a,temperature:o,topP:i,maxTokens:s,aws:l,extras:c,defaultHeaders:u,price:d})},_r=e=>{if(!e||"object"!=typeof e)return new De({id:"wt-"+Y(),name:"new_tool",description:"A new tool",tags:[],requirements:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),data:new Ne});const t=e,n=Be(t),{name:r,description:a,tags:o,requirements:i,createdAt:s,updatedAt:l}=Ur(t),c=$e(t,["id","type","name","description","tags","requirements","createdAt","updatedAt","data"]),u=qr(t.data||t,r),d=Br(t.data||t),p=Fr(t.data||t),f=Hr(t.data||t),h=new Ne({toolType:u,content:d,secrets:p,kwargs:f});return new De({id:n,name:r,description:a,tags:o,requirements:i,createdAt:s,updatedAt:l,data:h,rest:c})},Lr=(e,t)=>{const n={...e.data.secrets};if(t)for(const i in n)"string"==typeof n[i]&&(n[i]="REPLACE_ME");const r=$e(e,["id","type","parentId","data"]),a=e.data.label,o="waldiez_shared"===a?"shared":e.data.toolType;return{id:e.id,type:"tool",name:a,description:e.data.description,tags:e.data.tags,requirements:e.data.requirements,createdAt:e.data.createdAt,updatedAt:e.data.updatedAt,data:{content:e.data.content,toolType:o,secrets:n,kwargs:e.data.kwargs},...r}},zr=(e,t)=>{const n=Ge(e,t),r=e.rest?.label||e.name,a={...e.data,label:r,name:e.name,description:e.description,tags:e.tags,requirements:e.requirements,createdAt:e.createdAt,updatedAt:e.updatedAt};e.rest&&"position"in e.rest&&delete e.rest.position;const o=a;return{id:e.id,type:"tool",data:o,position:n,...e.rest}},Br=e=>{let t=Pe;return"content"in e&&"string"==typeof e.content&&(t=e.content),t},Fr=e=>{let t={};return"secrets"in e&&"object"==typeof e.secrets&&null!==e.secrets&&(t=Object.entries(e.secrets).reduce((e,[t,n])=>(e[t]=n.toString(),e),{})),t},Ur=e=>({name:Fe(e,"new_tool"),description:Ue(e,"A new tool"),tags:qe(e),requirements:He(e),createdAt:We(e),updatedAt:Ve(e)}),qr=(e,t)=>{let n="shared";return"toolType"in e&&"string"==typeof e.toolType&&["shared","custom","langchain","crewai","predefined"].includes(e.toolType)&&(n=e.toolType),"waldiez_shared"===t&&(n="shared"),n},Hr=e=>{let t={};return"kwargs"in e&&"object"==typeof e.kwargs&&null!==e.kwargs&&(t=Object.entries(e.kwargs).reduce((e,[t,n])=>(e[t]=n,e),{})),t},Wr=(e,t)=>{let n=t;return"storageId"in e&&"string"==typeof e.storageId&&(n=e.storageId),n},Vr=(e,t,n,r,a,o)=>{let i=`${e}_agents`;if(!(i in t&&Array.isArray(t[i])||(i=i.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([0-9])([A-Z])/g,"$1 $2").replace(/_/g," ").replace(/-/g," ").trim().toLowerCase().split(" ").map(e=>J(e)).join("").replace(/^[A-Z]/,e=>e.toLowerCase()),i in t&&Array.isArray(t[i]))))return[];const s=t[i],l=[],c=n.map(e=>e.id);return n.forEach(e=>{if("agent"===e.type){const t=s.find(t=>Be(t)===e.id);if(t){const n={...e};delete n.id,delete n.data,delete n.type,delete n.parentId;const r=Nn({...t,...n});l.push(r)}}}),$r(e,l,r,a,o,c)},$r=(e,t,n,r,a,o)=>{const i=t.map(e=>Gr(e,n)).map(e=>Kr(e,r)).map(e=>Xr(e,o,a));return"rag_user_proxy"===e?Yr(i,n):i},Gr=(e,t)=>(e.data.modelIds&&(e.data.modelIds=e.data.modelIds.filter(e=>t.includes(e))),e),Kr=(e,t)=>{const n=t.filter(t=>e.data.tools.some(e=>e.id===t));return e.data.tools=e.data.tools.filter(e=>n.includes(e.id)),e},Xr=(e,t,n)=>(e.data.nestedChats=e.data.nestedChats.filter(e=>e.triggeredBy.some(e=>n.includes(e)||t.includes(e))),e.data.nestedChats.forEach(e=>{e.messages=e.messages.filter(e=>n.includes(e.id)||t.includes(e.id))}),e),Yr=(e,t)=>e.map(e=>{if("data"in e&&"object"==typeof e.data&&"retrieveConfig"in e.data&&"object"==typeof e.data.retrieveConfig&&e.data.retrieveConfig&&"model"in e.data.retrieveConfig&&"string"==typeof e.data.retrieveConfig.model){const n=e.data.retrieveConfig.model;t.includes(n)||(e.data.retrieveConfig.model=null)}return e}),Qr=["model","tool","agent"],Zr=["user_proxy","assistant","rag_user_proxy"],Jr=e=>{if(!("type"in e)||"string"!=typeof e.type||!Qr.includes(e.type))return null;let t=ea(e);t&&"object"==typeof t||(t={x:20,y:20}),"x"in t&&"number"==typeof t.x||(t.x=20),"y"in t&&"number"==typeof t.y||(t.y=20);const n=ta(e,e.type);return n?{type:e.type,position:t,data:n}:null},ea=e=>{if(!("position"in e)||"object"!=typeof e.position)return null;const t=e.position;return"x"in t&&"number"==typeof t.x&&"y"in t&&"number"==typeof t.y?t:null},ta=(e,t)=>{const n={};if("agent"===t){const t=e.data||{};if(!("agentType"in t)||"string"!=typeof t.agentType||!Zr.includes(t.agentType))return n;n.agentType=t.agentType}return n},na=(e,t)=>{if("data"in t&&"object"==typeof t.data&&t.data){const n=t.data;"label"in n&&"string"==typeof n.label&&(e.data.label=n.label)}},ra=(e,t)=>{["models","tools"].forEach(n=>{if(!(n in e)||!Array.isArray(e[n]))return;const r=e[n];t.forEach(e=>{const t=r.find(t=>Be(t)===e.id);t&&na(e,t)})}),aa(e,t)},aa=(e,t)=>{if(!("agents"in e)||"object"!=typeof e.agents)return;const n=e.agents;t.forEach(e=>{"agent"===e.type&&Zr.forEach(t=>{const r=`${t}s`;r in n&&Array.isArray(n[r])&&n[r].forEach(n=>{if(e.id===n.id&&(e.data.agentType=t,na(e,n)),"data"in n&&"object"==typeof n.data&&n.data){const t=n.data;"parentId"in t&&"string"==typeof t.parentId&&(e.data.parentId=t.parentId)}})})})},oa={importFlow:(e,t)=>{const n=da(e);if(!n.type||"flow"!==n.type)return Oe;const{id:r,storageId:a,name:o,description:i,tags:s,requirements:l,createdAt:c,updatedAt:u,rest:d}=(e=>{const t=Be(e),n=Fe(e,"Waldiez Flow"),r=Ue(e,"A waldiez flow"),a=qe(e),o=He(e),i=We(e),s=Ve(e),l=$e(e,["id","storageId","name","description","tags","requirements","createdAt","updatedAt","data"]);return{id:t,storageId:Wr(e,t),name:n,description:r,tags:a,requirements:o,createdAt:i,updatedAt:s,rest:l}})(n),p=n.data||n,f=t||r,h=ia(p);let m=a;return a===r&&"string"==typeof t&&(m=t),new Ae({id:f,storageId:m,name:o,description:i,tags:s,requirements:l,data:h,createdAt:c,updatedAt:u,rest:d})},toReactFlow(e){const t=ca(e),n=la(e);return{flowId:e.id,isAsync:e.data.isAsync??!1,cacheSeed:e.data.cacheSeed,storageId:e.storageId,name:e.name,description:e.description,tags:e.tags,requirements:e.requirements,createdAt:e.createdAt,updatedAt:e.updatedAt,edges:t,nodes:n,viewport:e.data.viewport||{zoom:1,position:{x:0,y:0}},...e.rest}},exportFlow:(e,t,n=!1)=>({id:e.flowId,type:"flow",version:"0.5.2",storageId:e.storageId,name:e.name,description:e.description,tags:e.tags,requirements:e.requirements,createdAt:e.createdAt||(new Date).toISOString(),updatedAt:e.updatedAt||(new Date).toISOString(),data:sa(e,t,n)})},ia=e=>{const t=(e=>{let t=!1;return"isAsync"in e&&"boolean"==typeof e.isAsync&&(t=e.isAsync),t})(e),n=(e=>{let t=null;if("cacheSeed"in e)if("number"==typeof e.cacheSeed)t=parseInt(`${e.cacheSeed}`,10);else if(null===e.cacheSeed)t=null;else if("string"==typeof e.cacheSeed)try{const n=parseInt(e.cacheSeed,10);isNaN(n)||(t=n)}catch(n){}return t})(e),r=(e=>{let t={zoom:1,x:0,y:0};return"viewport"in e&&"object"==typeof e.viewport&&e.viewport&&"zoom"in e.viewport&&"x"in e.viewport&&"y"in e.viewport&&"number"==typeof e.viewport.zoom&&"number"==typeof e.viewport.x&&"number"==typeof e.viewport.y&&(t=e.viewport),t})(e),a=(e=>{const t=[];return"nodes"in e&&Array.isArray(e.nodes)?(e.nodes.forEach(e=>{const n=Jr(e);if(!n)return;const{type:r,position:a,data:o}=n;let i;"parentId"in e&&"string"==typeof e.parentId&&(i=e.parentId);const s=Be(e),l=$e(e,["id","type","parentId","data"]);delete l.position,t.push({id:s,type:r,position:{x:a.x,y:a.y},parentId:i,data:o,...l})}),ra(e,t),t):t})(e);let o=(e=>{if(!("edges"in e)||!Array.isArray(e.edges))return[];const t=[];return e.edges.forEach(e=>{if(!("id"in e)||"string"!=typeof e.id)return;if(!("type"in e)||"string"!=typeof e.type||!Ce.includes(e.type))return;if(!("source"in e)||"string"!=typeof e.source)return;if(!("target"in e)||"string"!=typeof e.target)return;const n=$e(e,["id","type","source","target","data","hidden"]);t.push({id:e.id,type:e.type,source:e.source,target:e.target,hidden:"hidden"===e.type,data:{},...n})}),t})(e);const i=((e,t,n)=>{if(!("chats"in e)||!Array.isArray(e.chats))return{chats:[],edges:n};const r=[],a=[];return e.chats.forEach((e,o)=>{try{const{chat:i,edge:s}=Cr(e,n,t,o);r.push(i),a.push(s)}catch(i){}}),{chats:r,edges:a}})(e,a,o);o=i.edges;const s=i.chats,l=((e,t)=>{const n=[];if(!("models"in e)||!Array.isArray(e.models))return n;const r=e.models;return t.forEach(e=>{if("model"===e.type){const t=r.find(t=>Be(t)===e.id);if(t){const r={...e};delete r.id,delete r.data,delete r.type,delete r.parentId;const a=Er({...t,...r});n.push(a)}}}),n})(e,a),c=((e,t)=>{const n=[];if(!("tools"in e)||!Array.isArray(e.tools))return n;const r=e.tools;return t.forEach(e=>{if("tool"===e.type){const t=r.find(t=>Be(t)===e.id);if(t){const r={...e};delete r.id,delete r.data,delete r.type,delete r.parentId;const a=_r({...t,...r});n.push(a)}}}),n})(e,a),u=((e,t,n,r,a)=>{if(!("agents"in e)||"object"!=typeof e.agents)return{userProxyAgents:[],assistantAgents:[],ragUserProxyAgents:[],reasoningAgents:[],captainAgents:[],groupManagerAgents:[]};const o=e.agents;return{userProxyAgents:Vr("user_proxy",o,t,n,r,a),assistantAgents:Vr("assistant",o,t,n,r,a),ragUserProxyAgents:Vr("rag_user_proxy",o,t,n,r,a),reasoningAgents:Vr("reasoning",o,t,n,r,a),captainAgents:Vr("captain",o,t,n,r,a),groupManagerAgents:Vr("group_manager",o,t,n,r,a)}})(e,a,l.map(e=>e.id),c.map(e=>e.id),o.map(e=>e.id));return new Te({nodes:a,edges:o,agents:u,models:l,tools:c,chats:s,isAsync:t,cacheSeed:n,viewport:r})},sa=(e,t,n)=>{const r=e.nodes||[],a=e.edges||[],o=r.filter(e=>"model"===e.type),i=r.filter(e=>"tool"===e.type),{userAgentNodes:s,assistantAgentNodes:l,ragUserNodes:c,reasoningAgentNodes:u,captainAgentNodes:d,groupManagerAgentNodes:p}=(e=>{const t=e.filter(e=>"agent"===e.type),n=t.filter(e=>"data"in e&&"object"==typeof e.data&&e.data&&"agentType"in e.data&&"user_proxy"===e.data.agentType),r=t.filter(e=>"data"in e&&"object"==typeof e.data&&e.data&&"agentType"in e.data&&"assistant"===e.data.agentType),a=t.filter(e=>"data"in e&&"object"==typeof e.data&&e.data&&"agentType"in e.data&&"rag_user_proxy"===e.data.agentType),o=t.filter(e=>"data"in e&&"object"==typeof e.data&&e.data&&"agentType"in e.data&&"reasoning"===e.data.agentType),i=t.filter(e=>"data"in e&&"object"==typeof e.data&&e.data&&"agentType"in e.data&&"captain"===e.data.agentType),s=t.filter(e=>"data"in e&&"object"==typeof e.data&&e.data&&"agentType"in e.data&&"group_manager"===e.data.agentType);return{agentNodes:t,userAgentNodes:n,assistantAgentNodes:r,ragUserNodes:a,reasoningAgentNodes:o,captainAgentNodes:i,groupManagerAgentNodes:s}})(r);return new Te({nodes:r.map(e=>{const t={...e};return delete t.data,delete t.agentType,t}),edges:a.map(e=>{const t={...e};return delete t.data,t}),agents:{groupManagerAgents:p.map(e=>Or(e,r,a,n)),userProxyAgents:s.map(e=>Or(e,r,a,n)),assistantAgents:l.map(e=>Or(e,r,a,n)),ragUserProxyAgents:c.map(e=>Or(e,r,a,n)),reasoningAgents:u.map(e=>Or(e,r,a,n)),captainAgents:d.map(e=>Or(e,r,a,n))},models:o.map(e=>((e,t,n)=>{const r=Mr(e,n),a=t.find(t=>t.id===e.id);return a&&Object.keys(a).forEach(e=>{["id","type","data"].includes(e)||delete r[e]}),r})(e,r,t)),tools:i.map(e=>((e,t,n)=>{const r=Lr(e,n),a=t.find(t=>t.id===e.id);return a&&Object.keys(a).forEach(e=>{["id","type","data"].includes(e)||delete r[e]}),r})(e,r,t)),chats:a.map((e,t)=>((e,t,n)=>{const r=jr(e,n),a=t.find(t=>t.id===e.id);return a&&Object.keys(a).forEach(e=>{["id","data","type","source","target"].includes(e)||delete r[e]}),r})(e,a,t)),isAsync:e.isAsync,cacheSeed:e.cacheSeed,viewport:e.viewport,silent:e.silent||!1})},la=e=>{const t=[];return e.data.models.forEach(e=>{t.push(Nr(e))}),e.data.tools.forEach(e=>{t.push(zr(e))}),e.data.agents.groupManagerAgents.forEach(e=>{t.push(In(e))}),e.data.agents.userProxyAgents.forEach(e=>{t.push(In(e))}),e.data.agents.assistantAgents.forEach(e=>{t.push(In(e))}),e.data.agents.ragUserProxyAgents.forEach(e=>{t.push(In(e))}),e.data.agents.reasoningAgents.forEach(e=>{t.push(In(e))}),e.data.agents.captainAgents.forEach(e=>{t.push(In(e))}),t},ca=e=>{const t=[];return e.data.chats.forEach(n=>{const r=kr(n),{sourceHandle:a,targetHandle:o}=ua(e,n);r.sourceHandle=a,r.targetHandle=o,t.push(r)}),t},ua=(e,t)=>{let n,r;if(t.rest?.sourceHandle&&"string"==typeof t.rest.sourceHandle&&(n=t.rest.sourceHandle),t.rest?.targetHandle&&"string"==typeof t.rest.targetHandle&&(r=t.rest.targetHandle),!n||!r){const a=e.data.edges.find(e=>e.id===t.id);a&&(n=a.sourceHandle||n,r=a.targetHandle||r)}return n||(n=`agent-handle-right-source-${t.source}`),r||(r=`agent-handle-left-target-${t.target}`),{sourceHandle:n,targetHandle:r}},da=e=>{let t={};if("string"==typeof e)try{t=JSON.parse(e)}catch(n){return{}}else"object"==typeof e&&(t=e);return t};void 0===Promise.withResolvers&&("undefined"!=typeof window?window.Promise.withResolvers=function(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}:global.Promise.withResolvers=function(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}});const pa=[{animate:{rotate:[0,-10,10,0]},transition:{repeat:1/0,duration:2.2}},{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2.5,delay:.3}},{animate:{rotate:[0,6,-6,0]},transition:{repeat:1/0,duration:2.8,delay:.6}},{animate:{y:[0,8,0]},transition:{repeat:1/0,duration:2,delay:.9}},{animate:{rotate:[0,-8,8,0]},transition:{repeat:1/0,duration:3,delay:1.2}},{animate:{x:[0,7,-7,0]},transition:{repeat:1/0,duration:2.6,delay:1.5}}],fa=[{src:gn.assistant,alt:"Assistant Waldiez"},{src:gn.rag_user_proxy,alt:"RAG Waldiez"},{src:gn.group_manager,alt:"Manager Waldiez"},{src:gn.reasoning,alt:"Reasoning Waldiez"},{src:gn.captain,alt:"Captain Waldiez"},{src:gn.user_proxy,alt:"User Waldiez"}],ha=({error:e})=>a.jsxs("div",{className:"waldiez-error-container","data-testid":"error-boundary",children:[a.jsx("div",{className:"waldiez-bots-row",children:fa.map((e,t)=>a.jsx(u.motion.img,{src:e.src,alt:e.alt,className:"waldiez-bot-img",animate:pa[t].animate,transition:pa[t].transition,style:{zIndex:10+t}},e.alt))}),a.jsx(u.motion.div,{className:"waldiez-error-sign",initial:{opacity:0,scale:.9},animate:{opacity:[0,1,.7,1],scale:[.9,1.1,1]},transition:{repeat:1/0,repeatType:"reverse",duration:1.2,delay:.5},children:a.jsx("span",{children:"🚨 ERROR"})}),a.jsxs(u.motion.div,{className:"waldiez-error-message",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.3},children:[a.jsx("div",{className:"waldiez-error-title",children:"Oops, something went wrong!"}),a.jsx("div",{className:"waldiez-error-desc",children:"The Waldiez team is on the case. Please wait while we investigate..."}),a.jsx("div",{className:"waldiez-refresh-btn-container",children:a.jsx("button",{onClick:()=>window.location.reload(),className:"waldiez-refresh-btn",onMouseDown:e=>e.currentTarget.style.transform="scale(0.97)",onMouseUp:e=>e.currentTarget.style.transform="scale(1)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:"Refresh Page"})}),e&&a.jsxs("div",{className:"waldiez-error-details",children:[a.jsx("strong",{children:"Error:"})," ",e.message,e.stack&&a.jsx("pre",{children:e.stack})]})]})]});let ma=null;const ga=e=>{if(!e.flowId){const t=document.querySelectorAll("[data-flow-id]");1===t.length&&(e.flowId=t[0].getAttribute("data-flow-id")||void 0)}ma&&ma(e)},ya=o.createContext(void 0),va=({flowId:e,message:t,level:n="info",details:r,withCloseButton:i,onClose:s})=>{const[l,c]=o.useState(null);if(o.useLayoutEffect(()=>{let t=e?document.getElementById(`rf-root-${e}`):null;t||(t=document.body);const n=t?.querySelector("dialog[open] .modal-content");c(n instanceof HTMLElement?n:t)},[e]),!l)return null;const u=r&&!("string"==typeof r&&r.length<=50);return d.createPortal(a.jsxs("div",{className:`snackbar show ${n} ${r?"with-details":""}`,role:"alert","aria-live":"error"===n?"assertive":"polite",id:`${e}-snackbar`,"data-testid":"snackbar",children:[a.jsx("div",{className:"message","data-testid":"snackbar-message",children:t}),r&&(u?a.jsxs("details",{children:[a.jsx("summary",{children:"Details"}),a.jsx("div",{className:"details-content","data-testid":"snackbar-details",children:(e=>{if(e instanceof Error)return e.message;if("string"==typeof e)return e;if("object"==typeof e&&null!==e){if("detail"in e&&"string"==typeof e.detail)return e.detail;if("message"in e&&"string"==typeof e.message)return e.message;if("statusText"in e&&"string"==typeof e.statusText)return`Error: ${e.statusText}`;try{return JSON.stringify(e,null,2)}catch{return String(e)}}return"An unexpected error occurred."})(r)})]}):a.jsx("span",{className:"details-content","data-testid":"snackbar-details",children:r})),i&&a.jsx("button",{className:"close","aria-label":"Close notification",type:"button",onClick:s,"data-testid":"snackbar-close",children:"×"})]}),l)},ba=({children:e})=>{const[t,n]=o.useState({}),[r,i]=o.useState({}),s=o.useRef({}),l=o.useCallback(e=>{n(t=>{const n=Math.random().toString(36).slice(2),r=e.flowId||"default";return{...t,[r]:[...t[r]??[],{...e,id:n}]}})},[]);o.useEffect(()=>(ma=l,()=>{ma=null}),[l]),o.useEffect(()=>{Object.keys(t).forEach(e=>{!r[e]&&t[e]&&t[e].length>0&&(i(n=>({...n,[e]:t[e][0]})),n(t=>({...t,[e]:t[e].slice(1)})))})},[t,r]);const c=o.useCallback(e=>{i(t=>({...t,[e]:null}))},[]);return o.useEffect(()=>(Object.entries(r).forEach(([e,t])=>{if(!t)return;const{duration:n,withCloseButton:r}=t;r&&void 0===n||(s.current[e]&&clearTimeout(s.current[e]),s.current[e]=window.setTimeout(()=>{c(e)},n??3e3))}),()=>{Object.values(s.current).forEach(clearTimeout),s.current={}}),[r,c]),a.jsxs(ya.Provider,{value:{enqueueSnackbar:l},children:[e,Object.entries(r).map(([e,t])=>t?a.jsx(va,{...t,onClose:()=>c(e)},t.id):null)]})},xa=o.createContext(null);function wa(e){const t=o.useContext(xa);if(!t)throw new Error("Missing WaldiezContext.Provider in the tree");return f.useStoreWithEqualityFn(t,e,p.shallow)}const Ca=(e,t,n,r)=>{let a,o;return t.target!==e||r.targetsOnly||(o=n.find(e=>e.id===t.source)),t.source!==e||r.sourcesOnly||(a=n.find(e=>e.id===t.target)),{sourceNode:o,targetNode:a}},ja=(e,t,n,r={x:200,y:140})=>{const a=Z(t);if(!a)return{x:0,y:0};const o=a.querySelector(".react-flow-wrapper");return o?((e,t,n,r)=>{const a=e?.getZoom()??1,o=t.getBoundingClientRect().width/a,i=Math.floor(o/(1.1*r.x)),s=n%i*r.x;let l=Math.floor(n/i)*r.y;return 0===l?l+=10:l-=5,{x:s,y:l}})(n,o,e,r):{x:0,y:0}},ka=e=>{if(e){const t=e.getZoom();e.setViewport({zoom:t,x:20,y:40})}},Aa=(e,t,n,r)=>{let a=0;const o=[];return e.forEach(e=>{if(e.type===n){const n=ja(a,t,r);o.push({...e,position:n}),a++}else o.push(e)}),o};function Sa(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Oa(...e){return t=>{let n=!1;const r=e.map(e=>{const r=Sa(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():Sa(e[t],null)}}}}function Ta(...e){return O.useCallback(Oa(...e),e)}function Ea(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>O.createContext(e));return function(n){const r=n?.[e]||t;return O.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){const o=O.createContext(r),i=n.length;n=[...n,r];const s=t=>{const{scope:n,children:r,...s}=t,l=n?.[e]?.[i]||o,c=O.useMemo(()=>s,Object.values(s));return a.jsx(l.Provider,{value:c,children:r})};return s.displayName=t+"Provider",[s,function(n,a){const s=a?.[e]?.[i]||o,l=O.useContext(s);if(l)return l;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},Ma(r,...t)]}function Ma(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]}),{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}function Na(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}var Pa=globalThis?.document?O.useLayoutEffect:()=>{},Ia=O[" useInsertionEffect ".trim().toString()]||Pa;function Da({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,o,i]=function({defaultProp:e,onChange:t}){const[n,r]=O.useState(e),a=O.useRef(n),o=O.useRef(t);return Ia(()=>{o.current=t},[t]),O.useEffect(()=>{a.current!==n&&(o.current?.(n),a.current=n)},[n,a]),[n,r,o]}({defaultProp:t,onChange:n}),s=void 0!==e,l=s?e:a;{const t=O.useRef(void 0!==e);O.useEffect(()=>{const e=t.current;if(e!==s){}t.current=s},[s,r])}const c=O.useCallback(t=>{if(s){const n=function(e){return"function"==typeof e}(t)?t(e):t;n!==e&&i.current?.(n)}else o(t)},[s,e,o,i]);return[l,c]}function Ra(e){const t=O.useRef({value:e,previous:e});return O.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function _a(e){const[t,n]=O.useState(void 0);return Pa(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let a,o;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,o=t.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}var La=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=O.useState(),r=O.useRef(null),a=O.useRef(e),o=O.useRef("none"),i=e?"mounted":"unmounted",[s,l]=function(e,t){return O.useReducer((e,n)=>t[e][n]??e,e)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const e=za(r.current);o.current="mounted"===s?e:"none"},[s]),Pa(()=>{const t=r.current,n=a.current;if(n!==e){const r=o.current,i=za(t);if(e)l("MOUNT");else if("none"===i||"none"===t?.display)l("UNMOUNT");else{l(n&&r!==i?"ANIMATION_OUT":"UNMOUNT")}a.current=e}},[e,l]),Pa(()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,i=o=>{const i=za(r.current).includes(o.animationName);if(o.target===t&&i&&(l("ANIMATION_END"),!a.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)})}},s=e=>{e.target===t&&(o.current=za(r.current))};return t.addEventListener("animationstart",s),t.addEventListener("animationcancel",i),t.addEventListener("animationend",i),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",s),t.removeEventListener("animationcancel",i),t.removeEventListener("animationend",i)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:O.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),a="function"==typeof n?n({present:r.isPresent}):O.Children.only(n),o=Ta(r.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(a));return"function"==typeof n||r.isPresent?O.cloneElement(a,{ref:o}):null};function za(e){return e?.animationName||"none"}function Ba(e){const t=Fa(e),n=O.forwardRef((e,n)=>{const{children:r,...o}=e,i=O.Children.toArray(r),s=i.find(qa);if(s){const e=s.props.children,r=i.map(t=>t===s?O.Children.count(e)>1?O.Children.only(null):O.isValidElement(e)?e.props.children:null:t);return a.jsx(t,{...o,ref:n,children:O.isValidElement(e)?O.cloneElement(e,void 0,r):null})}return a.jsx(t,{...o,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}function Fa(e){const t=O.forwardRef((e,t)=>{const{children:n,...r}=e;if(O.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),a=function(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...e)=>{const t=o(...e);return a(...e),t}:a&&(n[r]=a):"style"===r?n[r]={...a,...o}:"className"===r&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==O.Fragment&&(a.ref=t?Oa(t,e):e),O.cloneElement(n,a)}return O.Children.count(n)>1?O.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}La.displayName="Presence";var Ua=Symbol("radix.slottable");function qa(e){return O.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Ua}var Ha=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=Ba(`Primitive.${t}`),r=O.forwardRef((e,r)=>{const{asChild:o,...i}=e,s=o?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),a.jsx(s,{...i,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Wa="Checkbox",[Va,$a]=Ea(Wa),[Ga,Ka]=Va(Wa);function Xa(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:o,disabled:i,form:s,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:p}=e,[f,h]=Da({prop:n,defaultProp:o??!1,onChange:c,caller:Wa}),[m,g]=O.useState(null),[y,v]=O.useState(null),b=O.useRef(!1),x=!m||(!!s||!!m.closest("form")),w={checked:f,disabled:i,setChecked:h,control:m,setControl:g,name:l,form:s,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:!ao(o)&&o,isFormControl:x,bubbleInput:y,setBubbleInput:v};return a.jsx(Ga,{scope:t,...w,children:ro(p)?p(w):r})}var Ya="CheckboxTrigger",Qa=O.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},o)=>{const{control:i,value:s,disabled:l,checked:c,required:u,setControl:d,setChecked:p,hasConsumerStoppedPropagationRef:f,isFormControl:h,bubbleInput:m}=Ka(Ya,e),g=Ta(o,d),y=O.useRef(c);return O.useEffect(()=>{const e=i?.form;if(e){const t=()=>p(y.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[i,p]),a.jsx(Ha.button,{type:"button",role:"checkbox","aria-checked":ao(c)?"mixed":c,"aria-required":u,"data-state":oo(c),"data-disabled":l?"":void 0,disabled:l,value:s,...r,ref:g,onKeyDown:Na(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:Na(n,e=>{p(e=>!!ao(e)||!e),m&&h&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})})});Qa.displayName=Ya;var Za=O.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:i,required:s,disabled:l,value:c,onCheckedChange:u,form:d,...p}=e;return a.jsx(Xa,{__scopeCheckbox:n,checked:o,defaultChecked:i,disabled:l,required:s,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:e})=>a.jsxs(a.Fragment,{children:[a.jsx(Qa,{...p,ref:t,__scopeCheckbox:n}),e&&a.jsx(no,{__scopeCheckbox:n})]})})});Za.displayName=Wa;var Ja="CheckboxIndicator",eo=O.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,i=Ka(Ja,n);return a.jsx(La,{present:r||ao(i.checked)||!0===i.checked,children:a.jsx(Ha.span,{"data-state":oo(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});eo.displayName=Ja;var to="CheckboxBubbleInput",no=O.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:o,checked:i,defaultChecked:s,required:l,disabled:c,name:u,value:d,form:p,bubbleInput:f,setBubbleInput:h}=Ka(to,e),m=Ta(n,h),g=Ra(i),y=_a(r);O.useEffect(()=>{const e=f;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set,r=!o.current;if(g!==i&&n){const t=new Event("click",{bubbles:r});e.indeterminate=ao(i),n.call(e,!ao(i)&&i),e.dispatchEvent(t)}},[f,g,i,o]);const v=O.useRef(!ao(i)&&i);return a.jsx(Ha.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??v.current,required:l,disabled:c,name:u,value:d,form:p,...t,tabIndex:-1,ref:m,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function ro(e){return"function"==typeof e}function ao(e){return"indeterminate"===e}function oo(e){return ao(e)?"indeterminate":e?"checked":"unchecked"}no.displayName=to;const io=o.memo(({id:e,label:t,isChecked:n,onCheckedChange:r})=>{const o="string"==typeof t?t:"Label for checkbox";return a.jsxs("div",{className:"flex","data-testid":`checkbox-input-container-${e}`,children:[a.jsx(Za,{className:"checkbox-root",id:`checkbox-input-${e}`,checked:n,onCheckedChange:r,"data-testid":e,"aria-label":o,children:a.jsx(eo,{className:"checkbox-indicator",children:"✓"})}),a.jsx("label",{className:"clickable no-padding padding-10",style:{width:"max-content"},htmlFor:`checkbox-input-${e}`,children:t})]})}),so=o.memo(e=>{const{id:t,label:n,info:r,checked:o,onChange:i}=e,s="function"==typeof n?n():n,l="function"==typeof r?r():r;return a.jsx("div",{className:"info-checkbox-container",children:a.jsxs("div",{className:"info-checkbox-wrapper",children:[a.jsx(io,{id:t,label:s,isChecked:o,onCheckedChange:i}),a.jsxs("div",{className:"info-label margin-left--10",children:[a.jsx(y.FaInfoCircle,{className:"info-checkbox-icon"}),a.jsx("div",{className:"info-description",children:l})]})]})})});so.displayName="InfoCheckbox";const lo=o.forwardRef((e,t)=>a.jsx(v,{ref:t,...e,className:"select "+(e.className?` ${e.className}`:""),classNamePrefix:"w-select",menuPortalTarget:document.body,styles:{menuPortal:e=>({...e,zIndex:10001}),menu:e=>({...e,zIndex:10001,width:"max-content",minWidth:"100%"}),...e.styles}})),co=["GroupChatTarget","NestedChatTarget","StayTarget"],uo=[...co,"AgentTarget","RandomAgentTarget","GroupManagerTarget"],po={AgentTarget:"Pass the floor to another agent",RevertToUserTarget:"Revert to the user agent",RandomAgentTarget:"Choose a random agent",AskUserTarget:"Ask the user",TerminateTarget:"Terminate the flow",GroupChatTarget:"Group Chat",NestedChatTarget:"Trigger a nested chat",GroupManagerTarget:"Return to the group chat manager",StayTarget:"Do Nothing"},fo=o.memo(({target:e,agents:t,onChange:n,isForGroupChat:r=!0})=>{const[i,s]=o.useState(!!e),[l,c]=o.useState(e?.targetType),[u,d]=o.useState("AgentTarget"===e?.targetType?e.value[0]:void 0),[p,f]=o.useState("RandomAgentTarget"===e?.targetType?e.value:[]),h=o.useMemo(()=>r?uo:co,[r]),m=o.useMemo(()=>je.filter(e=>!h.includes(e)).map(e=>({value:e,label:po[e]})),[h]),g=o.useMemo(()=>t.map(e=>({value:e.id,label:e.data.label})),[t]),y=o.useMemo(()=>l?{label:po[l],value:l}:null,[l]),v=o.useMemo(()=>({label:g.find(e=>e.value===u)?.label,value:u}),[g,u]),b=o.useCallback(e=>{s(e),e||(c(void 0),n(null))},[n]),x=o.useCallback(e=>{if(!e?.value)return;const t=e.value;switch(c(t),t){case"AgentTarget":u&&n({targetType:t,value:[u]});break;case"TerminateTarget":case"RevertToUserTarget":case"AskUserTarget":case"GroupManagerTarget":n({targetType:t,value:[]});break;case"RandomAgentTarget":p.length>0&&n({targetType:t,value:p})}},[n,u,p]),w=o.useCallback(e=>{e?.value&&"AgentTarget"===l&&(d(e.value),n({targetType:"AgentTarget",value:[e.value]}))},[n,l]),C=o.useCallback(e=>{if(!e||"RandomAgentTarget"!==l)return;const t=e.map(e=>e.value);f(t),n({targetType:"RandomAgentTarget",value:t})},[n,l]),j=r?"the chat ends":"the Agent has no more work to do";return a.jsxs("div",{className:"waldiez-after-work",children:[a.jsx(so,{label:`Include an action to perform after ${j}?`,info:"Check this to handle conversation continuation when no further options are available. If no agent is selected and no tool calls have output, we will use this property to determine the next action.",checked:i,id:"afterWork",onChange:b}),i&&a.jsxs("div",{className:"flex flex-column margin-bottom-10",children:[a.jsxs("div",{className:"full-width margin-bottom-10",children:[a.jsx("label",{htmlFor:"afterWorkTargetType",children:"Action to perform after work:"}),a.jsx("div",{className:"margin-top-10"}),a.jsx(lo,{inputId:"afterWorkTargetType",options:m,value:y,onChange:x,isMulti:!1})]}),"AgentTarget"===l&&a.jsxs("div",{className:"full-width margin-bottom-10",children:[a.jsx("label",{htmlFor:"afterWorkTargetId",children:"Agent to pass the floor to:"}),a.jsx("div",{className:"margin-top-10"}),a.jsx(lo,{inputId:"afterWorkTargetId",options:g,value:v,onChange:w,isClearable:!0,isSearchable:!0,isMulti:!1})]}),"RandomAgentTarget"===l&&a.jsxs("div",{className:"full-width",children:[a.jsx("label",{htmlFor:"afterWorkTargetIds",children:"Agents to choose from:"}),a.jsx("div",{className:"margin-top-10"}),a.jsx(lo,{inputId:"afterWorkTargetIds",options:g,value:p.map(e=>({label:g.find(t=>t.value===e)?.label,value:e})),onChange:C,isClearable:!0,isSearchable:!0,isMulti:!0})]})]})]})});fo.displayName="AfterWork";const ho=({isOpen:e,imageUrl:t,onClose:n})=>{const[r,i]=o.useState(!1);if(o.useEffect(()=>{i(!1)},[t]),o.useEffect(()=>{const t=t=>{"Escape"===t.key&&e&&n()};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[e,n]),!e||!t)return null;return a.jsxs("div",{className:"image-modal "+(e?"open":""),onClick:n,"data-testid":"modal-overlay",children:[r?a.jsxs("div",{className:"modal-error-message",children:[a.jsx("p",{children:"The image could not be displayed in full size."}),a.jsx("p",{children:"It may still be available in the chat or might have been removed."})]}):a.jsx("img",{src:t,alt:"Fullscreen preview",className:"modal-image",onClick:e=>{e.stopPropagation()},onError:()=>{i(!0)}}),a.jsx("button",{type:"button",title:"Close preview",className:"modal-close",onClick:n,"data-testid":"modal-close",children:a.jsx(b.FaX,{size:12})})]})},mo=(e=3,t=1e3)=>{const n=o.useRef(new Map);return{registerImage:o.useCallback((r,a)=>{r.onload=()=>{r.classList.remove("loading","failed"),r.style.opacity="1",n.current.delete(a)},r.onerror=()=>{const o=n.current.get(a)||0;o<e?(n.current.set(a,o+1),setTimeout(()=>{const e=`${a}${a.includes("?")?"&":"?"}retry=${o+1}`;r.src=e},t)):(r.classList.remove("loading"),r.classList.add("failed"),r.style.opacity="0.8")}},[e,t]),resetRetries:o.useCallback(()=>{n.current.clear()},[])}},go=({src:e,alt:t="Chat image",className:n,onClick:r})=>{const i=o.useRef(null),{registerImage:s}=mo();return o.useEffect(()=>{i.current&&s(i.current,e)},[e,s]),a.jsx("img",{ref:i,src:e,alt:t,className:`loading ${n}`,loading:"lazy",onClick:r})},yo=e=>{if(t=e,o.isValidElement(t)&&"object"==typeof t.props&&null!==t.props&&e.props.className)return(e=>{const t=/language-(\w+)/.exec(e);return t&&"md"!==t[1]?t[1]:null})(e.props.className);var t;if(Array.isArray(e))for(const n of e){const e=yo(n);if(e)return e}return null},vo=({content:e,isDarkMode:t=!1,onImageClick:n})=>{const r=o.useMemo(()=>{return e.length>5&&(t=e,[/\*\*(.*?)\*\*/,/__(.*?)__/,/\[(.*?)\]\((.*?)\)/,/```([\s\S]*?)```/,/#+\s+.*/,/>\s+.*/,/\d+\.\s+.*/,/[\*\-\+]\s+.*/,/\|(.*?)\|/,/!\[(.*?)\]\((.*?)\)/].some(e=>e.test(t)));var t},[e]),i=o.useMemo(()=>(e=>{let t=e;return t=t.replace(/```md\n([\s\S]*?)```/g,(e,t)=>t),t=t.replace(/```([a-z]*)\n([\s\S]*?)```/g,(e,t,n)=>t&&"md"!==t?`\`\`\`${t}\n${n}\`\`\``:`\`\`\`\n${n}\`\`\``),t})(e),[e]);if(!r)return a.jsx("span",{children:e});const s=t?"markdown-dark":"markdown-light";return a.jsx("div",{className:`markdown-renderer ${s}`,children:a.jsx(C,{remarkPlugins:[w],rehypePlugins:[x],components:{a:({children:e,...t})=>a.jsx("a",{...t,target:"_blank",rel:"noopener noreferrer",className:"markdown-link",children:e}),img:({src:e,alt:t,...r})=>a.jsx("img",{src:e,alt:t||"Image",className:"chat-image markdown-image",onClick:()=>e&&n&&n(e),...r}),h1:({children:e,...t})=>a.jsx("h1",{className:"markdown-h1",...t,children:e}),h2:({children:e,...t})=>a.jsx("h2",{className:"markdown-h2",...t,children:e}),h3:({children:e,...t})=>a.jsx("h3",{className:"markdown-h3",...t,children:e}),h4:({children:e,...t})=>a.jsx("h4",{className:"markdown-h4",...t,children:e}),h5:({children:e,...t})=>a.jsx("h5",{className:"markdown-h5",...t,children:e}),h6:({children:e,...t})=>a.jsx("h6",{className:"markdown-h6",...t,children:e}),ul:({children:e,...t})=>a.jsx("ul",{className:"markdown-ul",...t,children:e}),ol:({children:e,...t})=>a.jsx("ol",{className:"markdown-ol",...t,children:e}),li:({children:e,...t})=>a.jsx("li",{className:"markdown-li",...t,children:e}),blockquote:({children:e,...t})=>a.jsx("blockquote",{className:"markdown-blockquote",...t,children:e}),table:({children:e,...t})=>a.jsx("table",{className:"markdown-table",...t,children:e}),thead:({children:e,...t})=>a.jsx("thead",{className:"markdown-thead",...t,children:e}),tbody:({children:e,...t})=>a.jsx("tbody",{className:"markdown-tbody",...t,children:e}),tr:({children:e,...t})=>a.jsx("tr",{className:"markdown-tr",...t,children:e}),th:({children:e,...t})=>a.jsx("th",{className:"markdown-th",...t,children:e}),td:({children:e,...t})=>a.jsx("td",{className:"markdown-td",...t,children:e}),code:({children:e,className:t,...n})=>!t?a.jsx("code",{className:"markdown-inline-code",...n,children:e}):a.jsx("code",{className:`markdown-code ${t||""}`,...n,children:e}),pre:({children:e,...t})=>{const n=yo(e);return n?a.jsxs("div",{className:"markdown-code-block-wrapper",children:[a.jsx("div",{className:"markdown-code-block-header",children:a.jsx("span",{className:"markdown-code-language",children:n})}),a.jsx("pre",{className:"markdown-pre",...t,children:e})]}):a.jsx("pre",{className:"markdown-pre",...t,children:e})},p:({children:e,...t})=>a.jsx("p",{className:"markdown-p",...t,children:e}),hr:e=>a.jsx("hr",{className:"markdown-hr",...e})},children:i})})};vo.displayName="Markdown";const bo=(e,t,n)=>{const r=e.map((e,r)=>e&&e.type?"text"===e.type&&e.text.trim().length>0?a.jsx(vo,{content:e.text,isDarkMode:t,onImageClick:n},`text-${r}`):"image_url"===e.type&&e.image_url?.url?a.jsx(go,{src:e.image_url.url,className:"chat-image",onClick:()=>n(e.image_url.url)},`img-${r}`):"image"===e.type&&e.image?.url?a.jsx(go,{src:e.image.url,className:"chat-image",onClick:()=>n(e.image.url)},`img-${r}`):null:null).filter(Boolean);return 0===r.length?null:a.jsx("div",{className:"structured-content",children:r})},xo=(e,t,n)=>{const r=/\[Image:\s*(.+?)\]/g,o=[];let i,s=0;for(;i=r.exec(e);){const[l,c]=i,u=e.slice(s,i.index);u&&o.push(a.jsx(vo,{content:u,isDarkMode:t,onImageClick:n},`text-${s}`)),o.push(a.jsx(go,{src:c,className:"chat-image",onClick:()=>n(c)},`img-${i.index}`)),s=r.lastIndex}const l=e.slice(s);return l&&o.push(a.jsx("span",{children:l},"text-end")),a.jsx("div",{className:"content-with-images",children:o})},wo=({messages:e,isDarkMode:t,userParticipants:n})=>{const[r,i]=o.useState(null),s=o.useRef(null),{resetRetries:l}=mo(),c=o.useRef(0),u=o.useCallback(e=>i(e),[]),d=o.useCallback(()=>i(null),[]);o.useEffect(()=>{l()},[e.length,l]);const p=o.useCallback(e=>{const{id:n,timestamp:r,type:a,content:o,sender:i,recipient:s}=e;try{const e=((e,t,n)=>{if("string"==typeof e)try{const r=JSON.parse(e);return Array.isArray(r)?bo(r,t,n):xo(e,t,n)}catch{return xo(e,t,n)}else{if("content"in e&&e.content)return Array.isArray(e.content)?bo(e.content,t,n):xo(String(e.content),t,n);if(Array.isArray(e))return bo(e,t,n)}return xo(String(e.content),t,n)})(o,t,u);return{id:n,timestamp:r,type:a,sender:i,recipient:s,node:e}}catch(l){return{id:n,timestamp:r,type:a,sender:i,recipient:s,node:null}}},[u,t]),f=o.useCallback(e=>["system","termination"].includes(e.type)?"system-message":e.sender&&n.includes(e.sender)?"user-message":"error"===e.type?"error-message":"input_request"===e.type?"request-message":"assistant-message",[n]),h=o.useCallback((e,t)=>`msg-${t}-${e.id}-${e.timestamp}`,[]);return o.useEffect(()=>{const t=e.length>c.current;if(c.current=e.length,!t)return;const n=()=>{const e=s.current;if(e)e.scrollTop=e.scrollHeight;else{document.querySelectorAll(".chat-container").forEach(e=>{e.scrollTop=e.scrollHeight})}};setTimeout(n,10),setTimeout(n,100),setTimeout(n,300)},[e.length]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"chat-container",ref:s,children:e.map((e,t)=>{const n=p(e);if(!n.node)return null;const r=f(n),o="user-message"===r||"assistant-message"===r;return a.jsxs("div",{className:`message-bubble ${f(n)}`,"data-testid":"rf-chat-message",children:[a.jsx("div",{className:`message-header ${o&&r}`,children:"assistant-message"===r?a.jsxs(a.Fragment,{children:[o&&a.jsx("div",{className:"avatar-container",children:a.jsx("div",{className:"avatar assistant-avatar",children:a.jsx("img",{src:"data:image/webp;base64,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",alt:"Assistant Avatar",className:"avatar-image"})})}),n.sender&&a.jsx("span",{className:"message-sender",children:n.sender}),a.jsx("span",{className:"message-timestamp",children:new Date(e.timestamp).toLocaleTimeString()})]}):"user-message"===r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"message-timestamp",children:new Date(e.timestamp).toLocaleTimeString()}),n.sender&&a.jsx("span",{className:"message-sender",children:n.sender}),o&&a.jsx("div",{className:"avatar-container",children:a.jsx("div",{className:"avatar user-avatar",children:a.jsx(b.FaRegUser,{size:24})})})]}):a.jsxs(a.Fragment,{children:[n.sender&&a.jsx("span",{className:"message-sender",children:n.sender}),a.jsx("span",{className:"message-timestamp",children:new Date(e.timestamp).toLocaleTimeString()})]})}),a.jsx("div",{className:"message-content",children:n.node})]},h(e,t))})}),a.jsx(ho,{isOpen:Boolean(r),imageUrl:r,onClose:d})]})};wo.displayName="ChatUI";const Co=o.memo(e=>{const{title:t,children:n,dataTestId:r,fullWidth:i=!1,expanded:s=!1,className:l="",contentClassName:c=""}=e,[u,d]=o.useState(s);o.useEffect(()=>{d(s)},[s]);const p=o.useCallback(()=>{d(e=>!e)},[]),f=`collapsible ${i?"full-width":""} ${l}`.trim(),h=`collapsible-header ${l}`.trim();return a.jsxs("div",{className:f,"data-testid":r,children:[a.jsxs("div",{className:h,onClick:p,children:[a.jsx("span",{children:t}),a.jsx("span",{className:"margin-left-5","aria-hidden":"true",children:u?"▲":"▼"})]}),u&&a.jsx("div",{className:`collapsible-content ${c||""}`,children:n})]})});Co.displayName="Collapsible";const jo=e=>{const{htmlFor:t,label:n,info:r}=e,o="function"==typeof n?n():n,i="function"==typeof r?r():r;return a.jsxs("div",{className:"info-label",children:[a.jsx("label",{htmlFor:t,children:o}),a.jsx(y.FaInfoCircle,{className:"info-icon"}),a.jsx("div",{className:"info-description",children:i})]})};jo.displayName="InfoLabel";const ko=e=>{const{viewLabel:t,viewLabelInfo:n,items:r,itemsType:i,areValuesSecret:s=!1}=e,{visible:l,newEntry:c,onAddEntry:u,onDeleteEntry:d,onSaveEntry:p,onKeyChange:f,onValueChange:h,onVisibilityChange:m,onNewEntryKeyChange:g,onNewEntryValueChange:v,isDirty:b}=(e=>{const{items:t,onUpdate:n,onDelete:r,onAdd:a,allowEmptyValues:i=!0}=e,[s,l]=o.useState({}),[c,u]=o.useState(Object.entries(t)),[d,p]=o.useState({key:"",value:""});o.useEffect(()=>{u(Object.entries(t))},[t]);const f=o.useCallback((e,t)=>{const n=t.target.value;u(t=>t.map(([t,r],a)=>a===e?[n,r]:[t,r]))},[]),h=o.useCallback((e,t)=>{const n=t.target.value;u(t=>t.map(([t,r],a)=>a===e?[t,n]:[t,r]))},[]),m=o.useCallback(e=>{l(t=>({...t,[e]:!t[e]}))},[]),g=o.useCallback(()=>{d.key&&(i||d.value)&&(a(d.key,d.value),u(e=>[...e,[d.key,d.value]]),p({key:"",value:""}))},[d,i,a]),y=o.useCallback(e=>{const t=e.target.value;p(e=>({...e,key:t}))},[]),v=o.useCallback(e=>{const t=e.target.value;p(e=>({...e,value:t}))},[]),b=o.useCallback(e=>{r(e),u(t=>t.filter(([t])=>t!==e))},[r]),x=o.useCallback(()=>{const e=c.reduce((e,[t,n])=>(e[t]=n,e),{});n(e)},[c,n]),w=o.useCallback(e=>{if(e>=c.length)return!0;const[n,r]=c[e];return!(n in t)||t[n]!==r},[c,t]);return{stateItems:c,newEntry:d,visible:s,onKeyChange:f,onValueChange:h,onVisibilityChange:m,onAddEntry:g,onNewEntryKeyChange:y,onNewEntryValueChange:v,onDeleteEntry:b,onSaveEntry:x,isDirty:w}})(e);return a.jsxs("div",{className:"dict-entries-view",children:[n?a.jsx(jo,{htmlFor:`dict-entry-${i}`,label:t,info:n}):a.jsx("label",{className:"margin-bottom-5",children:t}),a.jsx("div",{className:"dict-entries-list",children:Object.entries(r).map(([e,t],n)=>a.jsxs("div",{className:"dict-entry",children:[a.jsx("input",{type:"text",defaultValue:e,onChange:f.bind(null,n),"data-testid":`key-input-${i}-${n}`,placeholder:"Key"},`${e}-${t}-${n}`),a.jsx("input",{type:s?l[e]?"text":"password":"text",defaultValue:String(t),onChange:h.bind(null,n),"data-testid":`value-input-${i}-${n}`,id:`dict-value-input-${i}-${n}`,placeholder:"Value"},`${t}-${n}-${e}`),s&&a.jsx("button",{type:"button",className:"toggle-visibility-btn",onClick:m.bind(null,e),title:"Toggle visibility",id:`visibility-${i}-${n}`,"data-testid":`visibility-${i}-${n}`,children:l[e]?a.jsx(y.FaEyeSlash,{}):a.jsx(y.FaEye,{})}),a.jsx("button",{type:"button",onClick:d.bind(null,e),title:"Delete",className:"trash-button",id:`delete-dict-item-${i}-${n}`,"data-testid":`delete-dict-item-${i}-${n}`,children:a.jsx(y.FaTrash,{})}),b(n)&&a.jsx("button",{onClick:p,title:"Save",id:`save-dict-item-${i}-${n}`,"data-testid":`save-dict-item-${i}-${n}`,type:"button",className:"save-button",children:a.jsx(y.FaSave,{})})]},e))}),a.jsxs("div",{className:"add-dict-entry-view",children:[a.jsx("input",{type:"text",placeholder:"Key","data-testid":`new-dict-${i}-key`,id:`new-dict-${i}-key`,value:c.key,onChange:g}),a.jsx("input",{placeholder:"Value","data-testid":`new-dict-${i}-value`,id:`new-dict-${i}-value`,type:s?l._NEW?"text":"password":"text",value:c.value,onChange:v}),s&&a.jsx("button",{type:"button",className:"toggle-visibility-btn",onClick:m.bind(null,"_NEW"),title:"Toggle visibility",id:`visibility-${i}-new`,"data-testid":`visibility-${i}-new`,children:l._NEW?a.jsx(y.FaEyeSlash,{}):a.jsx(y.FaEye,{})}),a.jsx("button",{onClick:u,title:"Add",className:"plus-button",id:`add-new-dict-${i}-item`,"data-testid":`add-new-dict-${i}-item`,disabled:""===c.key,type:"button",children:a.jsx(y.FaPlus,{})})]})]})};ko.displayName="Dict";const Ao=e=>{const{flowId:t,multiple:n=!1}=e,{onFileDragOver:r,onFileDragLeave:i,onOpenUploadDialog:s,onFileDrop:l}=(e=>{const{flowId:t,onUpload:n,allowedFileExtensions:r,multiple:a=!1}=e,i=o.useCallback(e=>{const n=e.name.split(".").pop()?.toLowerCase();return n&&r.some(e=>e.toLowerCase()===`.${n}`)?!(e.size>10485760&&(ga({flowId:t,message:"File size limit exceeded. Maximum file size is 10MB.",level:"error"}),1)):(ga({flowId:t,message:"Invalid file extension. Please upload a valid file.",level:"error"}),!1)},[t,r]),s=o.useCallback(e=>{const t=e.filter(i);t.length&&n(t)},[i,n]),l=o.useCallback(e=>Array.from(e).filter(e=>r.some(t=>e.name.toLowerCase().endsWith(t.toLowerCase()))),[r]);return{onFileDragOver:o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.add("drag-over")},[]),onFileDragLeave:o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("drag-over")},[]),onFileDrop:o.useCallback(e=>{if(e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("drag-over"),e.dataTransfer.files.length>0){const t=l(e.dataTransfer.files);t.length&&s(t)}},[l,s]),onOpenUploadDialog:o.useCallback(()=>{const e=document.createElement("input");e.type="file",e.multiple=a,e.style.display="none",e.setAttribute("data-testid","drop-zone-file-input"),e.accept=r.join(","),e.onchange=t=>{if(t.target instanceof HTMLInputElement&&t.target.files&&t.target.files.length){const e=l(t.target.files);e.length&&s(e)}e.remove()},document.body.appendChild(e),e.click()},[a,r,l,s])}})(e),c=n?"Drop files here or click to upload":"Drop a file here or click to upload";return a.jsx("div",{className:"drop_zone clickable",onDrop:l,onDragOver:r,onClick:s,onDragLeave:i,"data-testid":`drop-zone-${t}`,children:a.jsxs("div",{className:"drop_zone_content",children:[a.jsx("div",{className:"drop_zone_icon",children:a.jsx(y.FaCloudUploadAlt,{})}),a.jsx("div",{className:"drop_zone_text",children:c})]})})};Ao.displayName="DropZone";const So=e=>{const{value:t,onChange:n,darkMode:r}=e,o=r?"vs-dark":"vs-light";return a.jsx("div",{className:"code-editor",children:a.jsx(c,{defaultLanguage:"python",theme:o,value:t,className:o,options:{wordWrap:"on",automaticLayout:!0,fontSize:16,formatOnType:!0,autoClosingBrackets:"always",tabSize:4,minimap:{scale:1}},onChange:n})})};So.displayName="Editor";const Oo=({value:e,onChange:t,autoFocus:n=!1,...r})=>{const i=o.useRef(null),s=o.useRef({selectionStart:e?.length||0,selectionEnd:e?.length||0}),l=o.useRef(!0),c=o.useCallback(e=>{const{selectionStart:n,selectionEnd:r}=e.target;s.current={selectionStart:n,selectionEnd:r},t(e)},[t]);return o.useEffect(()=>{n&&i.current&&i.current.focus()},[n]),o.useEffect(()=>{l.current?l.current=!1:i.current&&document.activeElement===i.current&&requestAnimationFrame(()=>{i.current&&i.current.setSelectionRange(s.current.selectionStart,s.current.selectionEnd)})},[e]),a.jsx("textarea",{ref:i,value:e,onChange:c,...r})};Oo.displayName="TextareaInput";const To=[{value:"string",label:"Check a variable"},{value:"expression",label:"Use an expression"}],Eo=e=>{const{available:t,onDataChange:n}=e,[r,i]=o.useState(t);o.useEffect(()=>{i(t)},[t]);const s=o.useMemo(()=>"expression"===r.type,[r]),l=o.useMemo(()=>"string"===r.type,[r]),c=o.useMemo(()=>To.find(e=>e.value===r.type),[r.type]),u=o.useCallback(e=>{const t=e?"string":"none",a={...r,type:t,value:r.value};i(a),n(a)},[r,n]),d=o.useCallback(e=>{if(e){const t={...r,type:e.value,value:""};i(t),n(t)}},[r,n]),p=o.useCallback(e=>{const t={...r,value:e.target.value};i(t),n(t)},[r,n]);return a.jsxs("div",{className:"flex-column",children:[a.jsxs("div",{className:"info margin-bottom-5",children:["You can optionally handle the availability of this transition by checking a variable or using an expression.",a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Check a variable"}),": Confirm if a certain variable (like"," ",a.jsx("code",{children:"order_is_found"}),") is set and is truthy."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Use Expression"}),": Write a short logic rule using variables, like:",a.jsx("br",{}),a.jsxs("code",{children:["$","{","is_logged_in","}"," and not $","{","is_banned","}"]})]})]})]}),a.jsx("div",{children:a.jsx(io,{label:"Enable Availability Check",isChecked:"none"!==r.type,onCheckedChange:u,id:"availability-enabled-checkbox","data-testid":"availability-enabled-checkbox","aria-label":"Enable availability check"})}),"none"!==t.type&&a.jsxs("div",{className:"flex-column margin-top-10",children:[a.jsx("label",{className:"hidden",htmlFor:"select-availability-type",children:"Availability Type"}),a.jsx(lo,{options:To,value:c,onChange:d,inputId:"select-availability-type",className:"flex-1 margin-right-10",isClearable:!0,"data-testid":"availability-type-select"}),s&&a.jsxs("div",{className:"flex-column margin-top-10",children:[a.jsx("label",{className:"hidden",htmlFor:"expression-input",children:"Expression"}),a.jsx(Oo,{rows:2,className:"margin-top-5",title:"Expression",placeholder:"Enter the expression to evaluate",value:r.value||"",onChange:p,"data-testid":"expression-input"})]}),l&&a.jsxs("div",{className:"flex-column margin-top-10",children:[a.jsx("label",{className:"hidden",htmlFor:"string-input",children:"Variable Name"}),a.jsx("input",{type:"text",id:"string-input",value:r.value,onChange:p,className:"flex-1",placeholder:"Enter variable name","data-testid":"string-input"})]})]})]})};Eo.displayName="HandoffAvailability";const Mo=o.memo(e=>{const{name:t,label:n,value:r,onChange:i,onNull:s="",disabled:l=!1,labelInfo:c=null,dataTestId:u="text-input",placeholder:d="...",style:p={},className:f="",isPassword:h=!1,fullWidth:m=!1,labelClassName:g="",inputClassName:v=""}=e,[b,x]=o.useState(!1),w=o.useCallback(e=>{l||i(e)},[l,i]),C=o.useCallback(()=>{x(e=>!e)},[]),j=o.useMemo(()=>h?b?"text":"password":"text",[h,b]),k=o.useMemo(()=>m?{flex:"1",...p}:{...p},[m,p]);return a.jsxs(a.Fragment,{children:[c?a.jsx(jo,{label:n,info:c,htmlFor:`id-${t}`}):"string"==typeof n?a.jsx("label",{htmlFor:`id-${t}`,className:g,children:n}):n,a.jsxs("div",{className:`text-input-container flex ${f}`,children:[a.jsx("input",{className:v,placeholder:d,type:j,value:null!==r?r:s,onChange:w,disabled:l,"data-testid":u,id:`id-${t}`,name:t,style:k,"aria-label":"string"==typeof n?n:void 0}),h&&a.jsx("button",{type:"button",className:"toggle-visibility-btn margin-left-5",onClick:C,title:b?"Hide password":"Show password","aria-label":b?"Hide password":"Show password","data-testid":`visibility-${u}`,children:b?a.jsx(y.FaEyeSlash,{}):a.jsx(y.FaEye,{})})]})]})});Mo.displayName="TextInput";const No={string_llm:"Static LLM prompt",string_context:"Variable check",context_str_llm:"Dynamic LLM Prompt",expression_context:"Expression check"},Po=[{value:"string_llm",label:No.string_llm},{value:"context_str_llm",label:No.context_str_llm},{value:"string_context",label:No.string_context},{value:"expression_context",label:No.expression_context}],Io=e=>{const{condition:t,onDataChange:n}=e,[r,i]=o.useState(t);o.useEffect(()=>{i(t)},[t]);const s=o.useCallback((e,t)=>{if(!r)return;const a={...r,[e]:t};i(a),n(a)},[r,n]),l=o.useCallback(e=>{if(e){const t={conditionType:e.value};i(t),n(t)}},[n]),c=o.useMemo(()=>({string_llm:{field:"prompt",handler:e=>s("prompt",e.target.value)},context_str_llm:{field:"context_str",handler:e=>s("context_str",e.target.value)},string_context:{field:"variable_name",handler:e=>s("variable_name",e.target.value)},expression_context:{field:"expression",handler:e=>s("expression",e.target.value)}}),[s]),u=o.useMemo(()=>r?.conditionType?{label:No[r.conditionType],value:r.conditionType}:null,[r?.conditionType]),d=o.useCallback(()=>{if(!r?.conditionType)return null;const e=r.conditionType,t=c[e];switch(e){case"string_llm":return a.jsxs("div",{className:"margin-top-10",children:[a.jsx("label",{children:"LLM Prompt:"}),a.jsx("div",{className:"margin-top-5"}),a.jsx(Oo,{rows:2,title:"LLM Prompt",placeholder:"Enter the LLM prompt",value:r.prompt||"",onChange:t.handler,"data-testid":"llm-prompt-input"})]});case"context_str_llm":return a.jsxs("div",{className:"margin-top-10",children:[a.jsx("label",{children:"Prompt:"}),a.jsx(Oo,{rows:2,className:"margin-top-5",title:"Prompt",placeholder:"Enter the prompt to evaluate",value:r.context_str||"",onChange:t.handler,"data-testid":"context-llm-prompt-input"})]});case"string_context":return a.jsx("div",{className:"margin-top-10",children:a.jsx(Mo,{name:"variable-name",label:"Variable Name:",className:"margin-top-5",placeholder:"Enter the variable name to check",value:r.variable_name||"",onChange:t.handler,dataTestId:"variable-name-input"})});case"expression_context":return a.jsxs("div",{className:"margin-top-10",children:[a.jsx("label",{children:"Expression:"}),a.jsx(Oo,{rows:2,className:"margin-top-5",title:"Expression",placeholder:"Enter the expression to evaluate",value:r.expression||"",onChange:t.handler,"data-testid":"expression-input"})]});default:return null}},[r,c]);return a.jsxs("div",{className:"flex-column",children:[a.jsxs("div",{className:"info margin-bottom-5",children:["You can control when this transition happens. Conditions allow you to check values or evaluate logic based on the current context. There are four types of conditions you can choose from:",a.jsxs("ul",{className:"no-margin",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Static LLM prompt"}),": A fixed message sent to a language model (LLM) to decide whether the transition should happen."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Dynamic LLM prompt"}),": A message that includes context variables, like the user's name or order count. It's sent to the LLM for evaluation.",a.jsx("br",{}),a.jsx("em",{children:"Example:"}),a.jsx("ul",{children:a.jsx("li",{children:a.jsxs("code",{children:['"User is ',"{","user_name","}"," and has ","{","num_orders","}",' orders."']})})})]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Variable check"}),": Simply checks if a specific variable exists and is truthy."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Expression check"}),": Allows you to write a small logic expression using context variables. You can use operators like ",a.jsx("code",{children:"and"}),", ",a.jsx("code",{children:"or"}),","," ",a.jsx("code",{children:"not"}),", as well as comparison signs like ",a.jsx("code",{children:">"}),", ",a.jsx("code",{children:"=="}),", etc.",a.jsx("br",{}),a.jsx("em",{children:"Examples:"}),a.jsxs("ul",{children:[a.jsx("li",{children:a.jsxs("code",{children:["not $","{","logged_in","}"," and $","{","is_admin","}"," or $","{","guest_checkout","}"]})}),a.jsx("li",{children:a.jsxs("code",{children:["len($","{","orders","}",") > 0 and $","{","user_active","}"]})})]})]})]})]}),a.jsxs("div",{className:"flex-column margin-top-10",children:[a.jsx("label",{className:"hidden",htmlFor:"select-condition-type",children:"Condition Type"}),a.jsx(lo,{options:Po,value:u,onChange:l,inputId:"select-condition-type",className:"flex-1 margin-right-10",isClearable:!0}),d()]})]})};Io.displayName="HandoffCondition";const Do=(e,t,n,r,a)=>{const{groupEdges:i,nestedChats:s}=((e,t,n,r)=>{const a=o.useMemo(()=>t.parentId,[t.parentId]),i=o.useMemo(()=>a?n.filter(t=>t.data.parentId===a&&t.id!==e):[],[n,a,e]),s=o.useMemo(()=>r.filter(t=>t.source===e),[r,e]),l=o.useMemo(()=>{if(!a)return s;const e=i.map(e=>e.id);return s.filter(t=>e.includes(t.target))},[s,i,a]),c=o.useMemo(()=>s.filter(t=>{const r=n.find(e=>e.id===t.source),o=n.find(e=>e.id===t.target);return r&&o&&r.id===e&&r.data.parentId===a&&o.data.parentId!==a}),[e,s,n,a]),u=o.useMemo(()=>s.filter(e=>{const t=n.find(t=>t.id===e.target);return t&&t.data.parentId===a}),[s,n,a]),d=o.useMemo(()=>{const n=t.nestedChats||[];return 0===c.length||n.length>0&&n[0].messages.length>0?n:[{triggeredBy:[e],messages:c.map(e=>({id:e.id,isReply:!1})),condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}]},[e,c,t.nestedChats]);return{parentGroupId:a,groupAgents:i,agentEdges:s,groupEdges:l,nestedEdges:c,nestedChats:d,agentGroupOnlyEdges:u}})(e,t,n,r),{getTransitionTargetName:l}=((e,t,n)=>{const r=o.useCallback(t=>{const n=e.find(e=>e.id===t);return n?.data.label||n?.data.name||t},[e]),a=o.useCallback((e=0)=>{if(0===n.length||e>=n.length||0===n[e].messages.length)return"Nested Chat";const a=n[e].messages.map(e=>{const n=t.find(t=>t.id===e.id);return n?r(n.target):""}).filter(Boolean);return 0===a.length?"Nested Chat":1===a.length?`Nested Chat: ${a[0]}`:`Nested Chat: ${a[0]} +${a.length-1} more`},[n,t,r]),i=e=>{switch(e.targetType){case"AgentTarget":return r(e.value[0]);case"RandomAgentTarget":return`Random (${e.value.map(r).join(", ")})`;case"GroupChatTarget":return`Group Chat: ${r(e.value[0])}`;case"NestedChatTarget":return a(0);case"AskUserTarget":return"Ask User";case"GroupManagerTarget":return"Group Manager";case"RevertToUserTarget":return"Revert to User";case"StayTarget":return"Stay";case"TerminateTarget":return"Terminate";default:return"Unknown"}};return{getAgentName:r,getTransitionTargetName:i,getAfterWorkTargetName:e=>i(e),getNestedChatDisplayName:a}})(n,r,s),c=o.useMemo(()=>{const e=[],n=new Set,r="nested-chat",a=s.length>0&&s.some(e=>e.messages.length>0);if(t.handoffs.forEach((t,o)=>{if(t===r){if(a){const t={targetType:"NestedChatTarget",value:[r]};e.push({id:r,...t,value:[l(t)],order:o})}}else{const r=i.find(e=>e.id===t);if(r){n.add(r.id);const t={targetType:"AgentTarget",value:[r.target]};e.push({id:r.id,...t,value:[l(t)],order:o})}}}),i.forEach(t=>{if(!n.has(t.id)){const n={targetType:"AgentTarget",value:[t.target]};e.push({id:t.id,...n,value:[l(n)],order:e.length})}}),a&&!t.handoffs.includes(r)){const t={targetType:"NestedChatTarget",value:[]};e.push({id:r,...t,value:[l(t)],order:e.length})}return e.sort((e,t)=>e.order-t.order)},[t.handoffs,i,s,l]),u=o.useCallback(e=>{if(e<=0)return;const t=[...c];[t[e],t[e-1]]=[t[e-1],t[e]];const n=t.map(e=>e.id);a({handoffs:n})},[c,a]),d=o.useCallback(e=>{if(e>=c.length-1)return;const t=[...c];[t[e],t[e+1]]=[t[e+1],t[e]];const n=t.map(e=>e.id);a({handoffs:n})},[c,a]);return{orderedTransitionTargets:c,getTransitionTargetName:l,onMoveTransitionTargetUp:u,onMoveTransitionTargetDown:d}},Ro=o.memo(e=>{const{id:t,data:n,agents:r,edges:o,onDataChange:i}=e,{orderedTransitionTargets:s,getTransitionTargetName:l,onMoveTransitionTargetDown:c,onMoveTransitionTargetUp:u}=Do(t,n,r,o,i),d=s.length>0||!!n.afterWork;return a.jsxs("div",{className:"handoffs-container","data-testid":`handoffs-container-${t}`,children:[a.jsx("div",{className:"info margin-left--5",children:"Handoffs control where the conversation flow goes from this agent. They include connections to other agents, nested chats, and what happens after the agent's work is done."}),a.jsx("div",{className:"handoffs-list",children:d?a.jsxs("div",{className:"handoffs-items",children:[s.length>0&&a.jsxs("div",{className:"handoffs-section",children:[a.jsx("h4",{className:"handoffs-section-title",children:"Handoffs"}),a.jsxs("p",{className:"handoff-order-instructions",children:["If the group's speakers selection mode allows it (e.g. set to"," ",a.jsx("em",{children:a.jsx("b",{children:"default"})}),"), you can use the up and down arrows to reorder handoffs. The ordering will then determine the sequence in which handoffs are processed."]}),a.jsx("div",{className:"ordered-items-list",children:s.map((e,t)=>a.jsxs("div",{className:"ordered-item","data-testid":`handoff-item-${t}`,children:[a.jsxs("div",{className:"reorder-buttons",children:[t>0&&a.jsx("button",{type:"button",title:"Move up",className:"reorder-btn up-btn","data-testid":`move-handoff-up-button-${t}`,onClick:()=>u(t),"aria-label":"Move up",children:"↑"}),t<s.length-1&&a.jsx("button",{type:"button",title:"Move down",className:"reorder-btn down-btn","data-testid":`move-handoff-down-button-${t}`,onClick:()=>c(t),"aria-label":"Move down",children:"↓"})]})," ",a.jsxs("div",{className:"ordered-item-content",children:[a.jsx("div",{className:"order-badge",children:t+1}),a.jsx("div",{className:"handoff-type",children:"AgentTarget"===e.targetType?"Agent Connection":"NestedChatTarget"===e.targetType?"Nested Chat":e.targetType}),a.jsxs("div",{className:"handoff-target",children:[a.jsx("span",{className:"target-label",children:"Target:"})," ",e.value]})]})]},`handoff-${t}`))})]}),n.afterWork&&a.jsxs("div",{className:"handoffs-section",children:[a.jsx("h4",{className:"handoffs-section-title",children:"After Work"}),a.jsx("div",{className:"ordered-item after-work-handoff","data-testid":"handoff-after-work-item",children:a.jsxs("div",{className:"ordered-item-content",children:[a.jsx("div",{className:"handoff-type",children:"AfterWork"}),a.jsxs("div",{className:"handoff-target",children:[a.jsx("span",{className:"target-label",children:"Target:"})," ",l(n.afterWork)]}),a.jsx("div",{className:"handoff-info",children:a.jsx("em",{children:"AfterWork handoff always executes last"})})]})})]})]}):a.jsx("div",{className:"no-handoffs-message",children:'This agent has no handoffs configured. You can add connections to other agents in the flow editor, configure nested chats in the agent settings, or set what happens after the agent\'s work is done in the "Afterwards" tab.'})})]})});Ro.displayName="Handoffs";const _o=e=>{const{current:t,darkMode:n,defaultContent:r,selectLabel:i,selectTestId:s,notNoneLabel:l,notNoneLabelInfo:c,includeContext:u,skipRagOption:d,skipCarryoverOption:p,skipNone:f,onTypeChange:h}=e,{onContentUpdate:m,onRagProblemUpdate:g,onMethodContentUpdate:y,onUseCarryoverChange:v,onAddContextEntry:b,onRemoveContextEntry:x,onUpdateContextEntries:w}=(e=>{const{current:t,onMessageChange:n,onAddContextEntry:r,onRemoveContextEntry:a,onUpdateContextEntries:i}=e,s=o.useCallback(e=>{n(e)},[n]),l=o.useCallback((e,t)=>{r?.(e,t)},[r]),c=o.useCallback(e=>{a?.(e)},[a]),u=o.useCallback(e=>{i?.(e)},[i]);return{onContentUpdate:o.useCallback(e=>{s({type:"string",useCarryover:t.useCarryover,content:e.target.value,context:t.context})},[t.useCarryover,t.context,s]),onRagProblemUpdate:o.useCallback(e=>{s({type:"rag_message_generator",content:null,useCarryover:t.useCarryover,context:{...t.context,problem:e.target.value}})},[t.useCarryover,t.context,s]),onMethodContentUpdate:o.useCallback(e=>{e&&s({type:"method",useCarryover:t.useCarryover,content:e,context:t.context})},[t.useCarryover,t.context,s]),onUseCarryoverChange:o.useCallback(e=>{s({type:t.type,useCarryover:e,content:t.content,context:t.context})},[t.type,t.content,t.context,s]),onAddContextEntry:l,onRemoveContextEntry:c,onUpdateContextEntries:u}})(e),C="none"!==t.type&&"rag_message_generator"!==t.type&&l&&(c?a.jsx(jo,{label:l,info:c,htmlFor:"message-input"}):a.jsx("label",{htmlFor:"message-input",children:l})),j=u&&"rag_message_generator"!==t.type&&"none"!==t.type;let k=d?zo.filter(e=>"rag_message_generator"!==e.value):zo;return!0===f&&(k=k.filter(e=>"none"!==e.value)),a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:`message-select-test-${s}`,children:i}),a.jsx("div",{className:"margin-bottom-5"}),a.jsx(lo,{options:k,value:{label:Bo[t.type],value:t.type},onChange:e=>{h(e?e.value:"none")},inputId:`message-select-test-${s}`}),C,"string"===t.type&&a.jsx("div",{className:"full-width",children:a.jsx(Oo,{placeholder:"Enter the message",className:"fill-available-width",rows:3,value:t.content??"",onChange:m,"data-testid":"message-text"})}),"rag_message_generator"===t.type&&a.jsxs("div",{children:[a.jsx("div",{className:"info margin-bottom-20",children:"Use the RAG user's `sender.message_generator` method to generate a message."}),a.jsx("label",{children:"Problem:"}),a.jsx("div",{className:"full-width",children:a.jsx(Oo,{placeholder:"Enter the problem",rows:3,className:"fill-available-width margin-top-5",value:String(t.context.problem??""),onChange:g,"data-testid":"rag-message-generator-problem"})})]}),"method"===t.type&&a.jsx(So,{value:t.content??r,onChange:y,darkMode:n}),j&&a.jsx(ko,{items:t.context,itemsType:"message-context",viewLabel:"Message Context",viewLabelInfo:"Additional context to be included.",onAdd:b,onDelete:x,onUpdate:w}),!p&&("string"===t.type||"rag_message_generator"===t.type)&&a.jsx(so,{label:"Carryover ",info:Lo,checked:t.useCarryover??!1,id:"message-use-carryover",onChange:v})]})},Lo=a.jsxs("div",{children:[a.jsx("div",{children:"This should not be checked if this is the first message in the flow."}),a.jsx("br",{}),"Append the context's last carryover to the message.",a.jsx("br",{}),"Example final message:",a.jsx("br",{}),a.jsx("pre",{children:'"Write a blogpost.\\nContext:\\n" + carryover'})]}),zo=[{label:"None",value:"none"},{label:"Text",value:"string"},{label:"Use RAG Message Generator",value:"rag_message_generator"},{label:"Custom method",value:"method"}],Bo={none:"None",string:"Text",rag_message_generator:"Use RAG Message Generator",method:"Method"};_o.displayName="MessageInput";const Fo=e=>{const{onSaveAndClose:t,hideConfirmation:n,handleSaveAndClose:r,handleCloseModal:o}=e;return a.jsx("div",{className:"modal-confirmation padding-10",children:a.jsxs("div",{className:"modal-confirmation-content",children:[a.jsx("h4",{className:"warning",children:"Are you sure you want to close this modal? Any unsaved changes will be lost."}),a.jsx("div",{className:"modal-actions",children:t?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"modal-actions flex-center margin-top--10 margin-bottom--10",children:a.jsx("button",{className:"secondary","data-testid":"modal-action-confirm-cancel",onClick:n,type:"button",title:"Don't Close",children:"Don't Close"})}),a.jsxs("div",{className:"modal-actions flex-center margin-top--10 margin-bottom--10",children:[a.jsx("button",{className:"save margin-right-10","data-testid":"modal-action-confirm-save",onClick:r,type:"button",title:"Save & Close",children:"Save & Close"}),a.jsx("button",{className:"primary","data-testid":"modal-action-confirm-close",onClick:o,type:"button",title:"Close",children:"Close"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"modal-action-cancel","data-testid":"modal-action-confirm-cancel",onClick:n,type:"button",title:"Don't Close",children:"Don't Close"}),a.jsx("button",{className:"modal-action-submit","data-testid":"modal-action-confirm-close",onClick:o,type:"button",title:"Close",children:"Close"})]})})]})})},Uo=o.forwardRef((e,t)=>{const[n,r]=o.useState(e.isOpen);o.useImperativeHandle(t,()=>({close:()=>{r(!1),e.onClose?.()},showModal:()=>{r(!0)}})),o.useEffect(()=>{e.isOpen&&r(!0)},[e.isOpen]);const{id:i,isOpen:s,dataTestId:l="modal-dialog",beforeTitle:c,title:u,hasCloseBtn:p=!0,hasMaximizeBtn:f=!0,hasMinimizeBtn:h=!0,children:m,className:g="",hasUnsavedChanges:y,onSaveAndClose:v}=e,x=o.useRef(null),w=o.useRef(null),[C,j]=o.useState(void 0),[k,A]=o.useState(0),[S,O]=o.useState(null),{showConfirmation:T,isFullScreen:E,isMinimized:M,position:N,hideConfirmation:P,onToggleFullScreen:I,onToggleMinimize:D,handleCloseModal:R,handleSaveAndClose:_,handleCancel:L,onKeyDown:z,onMouseDown:B}=(e=>{const{isOpen:t,hasUnsavedChanges:n=!1,preventCloseIfUnsavedChanges:r=!1,onClose:a,onSaveAndClose:i,onCancel:s,modalRef:l}=e,[c,u]=o.useState(!1),[d,p]=o.useState(!1),[f,h]=o.useState(!1),[m,g]=o.useState({x:window.innerWidth/4,y:"10%"}),[y,v]=o.useState(!1),[b,x]=o.useState({x:0,y:0}),[w,C]=o.useState(""),[j,k]=o.useState(null),A=r&&n,S=!A,O=o.useCallback(()=>{g({x:window.innerWidth/4,y:"10%"}),p(!1),h(!1),u(!1),k(null),l.current&&(l.current.style.width="",l.current.style.height="")},[l]),T=o.useCallback(e=>{const t=l.current;t&&Object.prototype.hasOwnProperty.call(t,"showModal")&&(e?t.showModal():t.close())},[l]),E=o.useCallback(()=>{f&&(h(!1),l.current&&(l.current.style.height=w||""),j&&(g(j),k(null))),p(e=>!e)},[l,f,w,j]),M=o.useCallback(()=>{d&&!f&&p(!1),h(e=>(e?(l.current&&w&&(l.current.style.height=w),j&&g(j)):(l.current&&C(l.current.style.height||window.getComputedStyle(l.current).height),k({...m})),!e))},[l,f,d,w,m,j]),N=o.useCallback(()=>{u(!1)},[]),P=o.useCallback(()=>{if(A&&!c)return u(!0),void(f&&M());O(),a?.(),T(!1)},[f,A,c,M,O,a,T]),I=o.useCallback(()=>{O(),i?.(),T(!1)},[O,i,T]),D=o.useCallback(e=>{s?s(e):(e.preventDefault(),e.stopPropagation(),P())},[s,P]),R=o.useCallback(e=>{"Escape"===e.key&&S&&D(e)},[S,D]),_=o.useCallback(e=>{if(!l.current||d||f)return;v(!0);const t=l.current.getBoundingClientRect();x({x:e.clientX-t.left,y:e.clientY-t.top})},[d,f,l]),L=o.useCallback(e=>{if(!y||!l.current)return;const t=e.clientX-b.x,n=e.clientY-b.y,r=l.current.getBoundingClientRect(),a=window.innerWidth-r.width,o=window.innerHeight-r.height;g({x:`${Math.max(0,Math.min(t,a))}px`,y:`${Math.max(0,Math.min(n,o))}px`})},[y,b,l]),z=o.useCallback(()=>{v(!1)},[]);return o.useEffect(()=>(y?(document.addEventListener("mousemove",L,{passive:!0}),document.addEventListener("mouseup",z,{passive:!0})):(document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",z)),()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",z)}),[y,L,z]),o.useEffect(()=>{T(t)},[t,T]),{showConfirmation:c,isFullScreen:d,isMinimized:f,position:m,hideConfirmation:N,onToggleFullScreen:E,onToggleMinimize:M,handleCloseModal:P,handleSaveAndClose:I,handleCancel:D,onKeyDown:R,onMouseDown:_}})({...e,modalRef:x});o.useEffect(()=>{const e=document.getElementById("modal-root")||document.body;O(e)},[]),o.useEffect(()=>{if(!s||M)return;const e=e=>{"Escape"===e.key&&L(e)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[s,M,L]),o.useLayoutEffect(()=>{if(s&&x.current&&!C){const e=()=>{if(x.current){const t=x.current.getBoundingClientRect().width;if(t>0){j(`${t}px`);const e=x.current.querySelectorAll(".tab-btn");A(e.length)}else requestAnimationFrame(e)}};requestAnimationFrame(e)}s||(j(void 0),A(0))},[s,C]);const F=o.useCallback(()=>{if(!x.current||!C)return;const e=x.current.querySelector(".tab-list");if(!e)return;const t=e.scrollWidth+40;t>parseFloat(C)&&j(`${t}px`)},[C]);o.useLayoutEffect(()=>{if(s&&x.current&&C){const e=x.current.querySelectorAll(".tab-btn").length;e!==k&&(A(e),F())}},[m,s,k,C,F]);const U=["modal",E?"modal-fullscreen":"no-wheel no-pan no-drag",M?"modal-minimized":"no-wheel no-pan no-drag",T?"confirmation no-wheel no-pan no-drag":"no-wheel no-pan no-drag",g].filter(Boolean).join(" ");if(!s||!S||!n)return null;const q={...C?{width:C}:{},...E?{}:M?{position:"fixed",bottom:"20px",right:"20px",top:"auto",left:"auto"}:{top:N.y,left:N.x}},H=a.jsxs(a.Fragment,{children:[!M&&!E&&!g.includes("modal-fullscreen")&&a.jsx("div",{className:"modal-backdrop",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:999}}),a.jsxs("div",{ref:x,id:i,"data-testid":l,onKeyDown:z,className:U,style:q,children:[!e.noHeader&&a.jsxs("div",{className:"modal-header",ref:w,onMouseDown:B,children:[!M&&c&&a.jsx("div",{children:c}),a.jsxs("h3",{className:"modal-title font-semibold truncate",children:[u,y&&a.jsx("span",{style:{color:"#f97316",marginLeft:"0.25rem"},children:"*"})]}),a.jsxs("div",{className:"modal-header-actions",children:[h&&a.jsx("div",{className:"modal-minimize-btn clickable",role:"button",title:M?"Restore":"Minimize",onClick:D,children:M?a.jsx(b.FaChevronUp,{}):a.jsx(b.FaChevronDown,{})}),f&&a.jsx("div",{className:"modal-fullscreen-btn clickable",role:"button",title:E?"Restore":"Maximize",onClick:I,children:E?a.jsx(b.FaCompress,{}):a.jsx(b.FaExpand,{})}),p&&a.jsx("div",{className:"modal-close-btn clickable",role:"button",title:"Close","data-testid":"modal-close-btn",onClick:R,children:a.jsx(b.FaCircleXmark,{})})]})]}),a.jsx("div",{className:"modal-content "+(M?"hidden":""),children:T?Fo({onSaveAndClose:v,hideConfirmation:P,handleSaveAndClose:_,handleCloseModal:R}):m})]})]});return d.createPortal(H,S)});function qo(e,[t,n]){return Math.min(n,Math.max(t,e))}Uo.displayName="Modal";var Ho=O.createContext(void 0);var Wo=["PageUp","PageDown"],Vo=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$o={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Go="Slider",[Ko,Xo,Yo]=function(e){const t=e+"CollectionProvider",[n,r]=Ea(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=e=>{const{scope:t,children:n}=e,r=o.useRef(null),s=o.useRef(new Map).current;return a.jsx(i,{scope:t,itemMap:s,collectionRef:r,children:n})};l.displayName=t;const c=e+"CollectionSlot",u=Ba(c),d=o.forwardRef((e,t)=>{const{scope:n,children:r}=e,o=Ta(t,s(c,n).collectionRef);return a.jsx(u,{ref:o,children:r})});d.displayName=c;const p=e+"CollectionItemSlot",f="data-radix-collection-item",h=Ba(p),m=o.forwardRef((e,t)=>{const{scope:n,children:r,...i}=e,l=o.useRef(null),c=Ta(t,l),u=s(p,n);return o.useEffect(()=>(u.itemMap.set(l,{ref:l,...i}),()=>{u.itemMap.delete(l)})),a.jsx(h,{[f]:"",ref:c,children:r})});return m.displayName=p,[{Provider:l,Slot:d,ItemSlot:m},function(t){const n=s(e+"CollectionConsumer",t);return o.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${f}]`));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},r]}(Go),[Qo,Zo]=Ea(Go,[Yo]),[Jo,ei]=Qo(Go),ti=O.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:i=1,orientation:s="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:p=()=>{},onValueCommit:f=()=>{},inverted:h=!1,form:m,...g}=e,y=O.useRef(new Set),v=O.useRef(0),b="horizontal"===s?ai:oi,[x=[],w]=Da({prop:d,defaultProp:u,onChange:e=>{const t=[...y.current];t[v.current]?.focus(),p(e)}}),C=O.useRef(x);function j(e,t,{commit:n}={commit:!1}){const a=function(e){return(String(e).split(".")[1]||"").length}(i),s=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-r)/i)*i+r,a),l=qo(s,[r,o]);w((e=[])=>{const r=function(e=[],t,n){const r=[...e];return r[n]=t,r.sort((e,t)=>e-t)}(e,l,t);if(function(e,t){if(t>0){const n=function(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}(e);return Math.min(...n)>=t}return!0}(r,c*i)){v.current=r.indexOf(l);const t=String(r)!==String(e);return t&&n&&f(r),t?r:e}return e})}return a.jsx(Jo,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:o,valueIndexToChangeRef:v,thumbs:y.current,values:x,orientation:s,form:m,children:a.jsx(Ko.Provider,{scope:e.__scopeSlider,children:a.jsx(Ko.Slot,{scope:e.__scopeSlider,children:a.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:Na(g.onPointerDown,()=>{l||(C.current=x)}),min:r,max:o,inverted:h,onSlideStart:l?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const n=e.map(e=>Math.abs(e-t)),r=Math.min(...n);return n.indexOf(r)}(x,e);j(e,t)},onSlideMove:l?void 0:function(e){j(e,v.current)},onSlideEnd:l?void 0:function(){const e=C.current[v.current];x[v.current]!==e&&f(x)},onHomeKeyDown:()=>!l&&j(r,0,{commit:!0}),onEndKeyDown:()=>!l&&j(o,x.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!l){const n=Wo.includes(e.key)||e.shiftKey&&Vo.includes(e.key)?10:1,r=v.current;j(x[r]+i*n*t,r,{commit:!0})}}})})})})});ti.displayName=Go;var[ni,ri]=Qo(Go,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ai=O.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:i,onSlideStart:s,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[p,f]=O.useState(null),h=Ta(t,e=>f(e)),m=O.useRef(void 0),g=function(e){const t=O.useContext(Ho);return e||t||"ltr"}(o),y="ltr"===g,v=y&&!i||!y&&i;function b(e){const t=m.current||p.getBoundingClientRect(),a=gi([0,t.width],v?[n,r]:[r,n]);return m.current=t,a(e-t.left)}return a.jsx(ni,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:a.jsx(ii,{dir:g,"data-orientation":"horizontal",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=b(e.clientX);s?.(t)},onSlideMove:e=>{const t=b(e.clientX);l?.(t)},onSlideEnd:()=>{m.current=void 0,c?.()},onStepKeyDown:e=>{const t=$o[v?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),oi=O.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:i,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=O.useRef(null),p=Ta(t,d),f=O.useRef(void 0),h=!o;function m(e){const t=f.current||d.current.getBoundingClientRect(),a=gi([0,t.height],h?[r,n]:[n,r]);return f.current=t,a(e-t.top)}return a.jsx(ni,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:a.jsx(ii,{"data-orientation":"vertical",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=m(e.clientY);i?.(t)},onSlideMove:e=>{const t=m(e.clientY);s?.(t)},onSlideEnd:()=>{f.current=void 0,l?.()},onStepKeyDown:e=>{const t=$o[h?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),ii=O.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:s,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=ei(Go,n);return a.jsx(Ha.span,{...u,ref:t,onKeyDown:Na(e.onKeyDown,e=>{"Home"===e.key?(s(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):Wo.concat(Vo).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:Na(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),d.thumbs.has(t)?t.focus():r(e)}),onPointerMove:Na(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&o(e)}),onPointerUp:Na(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),i(e))})})}),si="SliderTrack",li=O.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=ei(si,n);return a.jsx(Ha.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});li.displayName=si;var ci="SliderRange",ui=O.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=ei(ci,n),i=ri(ci,n),s=Ta(t,O.useRef(null)),l=o.values.length,c=o.values.map(e=>mi(e,o.min,o.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return a.jsx(Ha.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:s,style:{...e.style,[i.startEdge]:u+"%",[i.endEdge]:d+"%"}})});ui.displayName=ci;var di="SliderThumb",pi=O.forwardRef((e,t)=>{const n=Xo(e.__scopeSlider),[r,o]=O.useState(null),i=Ta(t,e=>o(e)),s=O.useMemo(()=>r?n().findIndex(e=>e.ref.current===r):-1,[n,r]);return a.jsx(fi,{...e,ref:i,index:s})}),fi=O.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...i}=e,s=ei(di,n),l=ri(di,n),[c,u]=O.useState(null),d=Ta(t,e=>u(e)),p=!c||(s.form||!!c.closest("form")),f=_a(c),h=s.values[r],m=void 0===h?0:mi(h,s.min,s.max),g=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(r,s.values.length),y=f?.[l.size],v=y?function(e,t,n){const r=e/2,a=gi([0,50],[0,r]);return(r-a(t)*n)*n}(y,m,l.direction):0;return O.useEffect(()=>{if(c)return s.thumbs.add(c),()=>{s.thumbs.delete(c)}},[c,s.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${m}% + ${v}px)`},children:[a.jsx(Ko.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(Ha.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":s.min,"aria-valuenow":h,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...i,ref:d,style:void 0===h?{display:"none"}:e.style,onFocus:Na(e.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),p&&a.jsx(hi,{name:o??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:h},r)]})});pi.displayName=di;var hi=O.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const o=O.useRef(null),i=Ta(o,r),s=Ra(t);return O.useEffect(()=>{const e=o.current;if(!e)return;const n=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(n,"value").set;if(s!==t&&r){const n=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}},[s,t]),a.jsx(Ha.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});function mi(e,t,n){return qo(100/(n-t)*(e-t),[0,100])}function gi(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}hi.displayName="RadioBubbleInput";var yi=ti,vi=li,bi=ui,xi=pi;const wi=o.memo(e=>{const{name:t,value:n,label:r,onChange:i,onNull:s,onUpperLabel:l=null,onLowerLabel:c=null,setNullOnUpper:u=!1,setNullOnLower:d=!1,labelInfo:p=null,min:f=0,max:h=100,step:m=1,forceInt:g=!1,disabled:y=!1,dataTestId:v}=e,b=o.useMemo(()=>s??d?f:u?h:f,[s,d,u,f,h]),x=o.useMemo(()=>null!==n?n:b,[n,b]),w=o.useCallback(e=>{const t=e[0];i(t===h&&u||t===f&&d?null:g?Math.round(t):t)},[i,h,f,u,d,g]),C=o.useCallback(e=>{try{const t=g?parseInt(e.target.value,10):parseFloat(e.target.value);isNaN(t)||w([t])}catch(t){}},[g,w]),j=o.useCallback(()=>n!==h&&null!==n||!u&&null===l?n!==f&&null!==n||!d&&null===c?a.jsx("input",{id:`id-for-${t}`,name:t,placeholder:`${x}`,inputMode:"decimal",type:"number",min:f,max:h,step:m,value:x,onChange:C,"data-testid":v}):c??"Not set":l??"No limit",[t,n,f,h,x,m,l,c,u,d,C,v]),k=o.useMemo(()=>{const e=j();return p?a.jsx("div",{className:"number-input-info-label-wrapper",children:a.jsx(jo,{label:a.jsxs("div",{className:"number-input-info-label-inner",children:[r,"  ",e]}),info:p,htmlFor:`id-for-${t}`})}):a.jsx("div",{className:"number-input-label-wrapper",children:a.jsxs("label",{htmlFor:`id-for-${t}`,children:[r," ",e]})})},[t,r,j,p]);return a.jsxs(a.Fragment,{children:[k,a.jsxs(yi,{className:"slider-root",value:[x],max:h,step:m,min:f,onValueChange:w,disabled:y,children:[a.jsx(vi,{className:"slider-track",children:a.jsx(bi,{className:"slider-range"})}),a.jsx(xi,{className:"slider-thumb"})]})]})});wi.displayName="NumberInput";const Ci=o.memo(e=>{const{viewLabel:t,viewLabelInfo:n,items:r=[],itemsType:i="default",placeholder:s="..."}=e,{newEntry:l,onAddEntry:c,onDeleteEntry:u,onEntryChange:d,onNewEntryChange:p,onNewEntryKeyDown:f}=(e=>{const[t,n]=o.useState(""),{items:r,onItemAdded:a,onItemChange:i,onItemDeleted:s}=e,l=o.useCallback(()=>{a&&t.trim()&&(a(t),n(""))},[t,a]),c=o.useCallback(e=>{if(!s)return;const t=e.currentTarget.value;s(t)},[s]),u=o.useCallback(e=>{if(!i)return;const t=parseInt(e.currentTarget.getAttribute("data-index")||"0"),n=e.target.value,a=r[t];null!=a&&i(a,n)},[i,r]),d=o.useCallback(e=>{n(e.target.value)},[]),p=o.useCallback(e=>{"Enter"===e.key&&(e.preventDefault(),l())},[l]);return{newEntry:t,onAddEntry:l,onDeleteEntry:c,onEntryChange:u,onNewEntryChange:d,onNewEntryKeyDown:p}})(e),h=o.useMemo(()=>"function"==typeof t?t():t,[t]),m=o.useMemo(()=>r.map((e,t)=>a.jsxs("div",{className:"list-entry",children:[a.jsx("input",{placeholder:s,type:"text",value:e,"data-index":t,id:`list-entry-item-${i}-${t}`,onChange:d,"data-testid":`list-entry-item-${i}-${t}`}),a.jsx("button",{type:"button",onClick:u,value:e,title:"Delete",className:"trash-button",id:`delete-list-entry-${i}-${t}`,"aria-label":`Delete item: ${e}`,"data-testid":`delete-list-entry-${i}-${t}`,children:a.jsx(y.FaTrash,{})})]},`${i}-${t}`)),[r,i,s,d,u]),g=!l.trim();return a.jsxs("div",{className:"list-entries-view",children:[n?a.jsx(jo,{label:t,info:n,htmlFor:"list-entries"}):a.jsx("label",{className:"list-entries-label",htmlFor:"list-entries",children:h}),r.length>0&&a.jsx("div",{className:"list-entries-list",children:m}),a.jsx("div",{className:"list-entries-list",children:a.jsxs("div",{className:"add-list-entry-view",children:[a.jsx("input",{placeholder:s,type:"text",value:l,onChange:p,onKeyDown:f,"data-testid":`new-list-entry-${i}-item`,"aria-label":`New ${i} input`,id:`new-list-entry-${i}`}),a.jsx("button",{type:"button",onClick:c,title:"Add",disabled:g,className:"plus-button","aria-label":"Add item",id:`add-list-entry-${i}-button`,"data-testid":`add-list-entry-${i}-button`,children:a.jsx(y.FaPlus,{})})]})})]})});Ci.displayName="StringList";const ji=o.memo(e=>{const{id:t,children:n}=e;return a.jsx("div",{className:"tab-panel",role:"tabpanel","aria-labelledby":`tab-id-${t}`,"data-testid":`panel-${t}`,id:`panel-${t}`,children:n})}),ki=o.memo(e=>{const{activeTabIndex:t=0,children:n,onTabChange:r}=e,[i,s]=o.useState(t);o.useEffect(()=>{s(t)},[t]);const l=o.useCallback(e=>{s(e),r?.(e)},[r]),c=o.useMemo(()=>o.Children.toArray(n).filter(e=>o.isValidElement(e)&&e.type===ji),[n]),u=o.useMemo(()=>c.map((e,t)=>{const n=i===t,r=n?"tab-btn--active":"",o=e.props.id;return a.jsx("li",{role:"tab","aria-selected":n,children:a.jsx("div",{role:"button","data-testid":`tab-id-${o}`,id:`tab-id-${o}`,"aria-controls":`panel-${o}`,onClick:()=>l(t),className:`tab-btn ${r}`,tabIndex:n?0:-1,children:e.props.label})},`tab-li-${o}-${t}`)}),[c,i,l]),d=c[i]||null;return a.jsxs("div",{className:"tabs",children:[a.jsx("nav",{className:"tab-list-wrapper",children:a.jsx("ul",{className:"tab-list",role:"tablist","aria-orientation":"horizontal",children:u})}),d]})});function Ai(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Ai(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Si(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Ai(e))&&(r&&(r+=" "),r+=t);return r}ji.displayName="TabItem",ki.displayName="TabItems";var Oi,Ti,Ei,Mi,Ni,Pi,Ii,Di,Ri,_i,Li,zi,Bi,Fi,Ui,qi,Hi,Wi,Vi,$i,Gi,Ki,Xi,Yi,Qi,Zi,Ji,es,ts,ns,rs,as,os,is,ss,ls,cs,us,ds,ps,fs,hs,ms,gs,ys,vs,bs,xs,ws,Cs,js,ks,As,Ss,Os,Ts,Es,Ms,Ns,Ps,Is,Ds,Rs,_s,Ls,zs,Bs,Fs,Us,qs,Hs,Ws,Vs,$s,Gs,Ks,Xs,Ys,Qs,Zs,Js,el,tl,nl,rl,al,ol,il,sl,ll,cl,ul,dl,pl,fl,hl,ml,gl,yl,vl,bl,xl,wl,Cl,jl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function kl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Al(){if(Ti)return Oi;Ti=1;var e=Array.isArray;return Oi=e}function Sl(){if(Mi)return Ei;Mi=1;var e="object"==typeof jl&&jl&&jl.Object===Object&&jl;return Ei=e}function Ol(){if(Pi)return Ni;Pi=1;var e=Sl(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Ni=n}function Tl(){if(Di)return Ii;Di=1;var e=Ol().Symbol;return Ii=e}function El(){if(Fi)return Bi;Fi=1;var e=Tl(),t=function(){if(_i)return Ri;_i=1;var e=Tl(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,a=e?e.toStringTag:void 0;return Ri=function(e){var t=n.call(e,a),o=e[a];try{e[a]=void 0;var i=!0}catch(l){}var s=r.call(e);return i&&(t?e[a]=o:delete e[a]),s}}(),n=function(){if(zi)return Li;zi=1;var e=Object.prototype.toString;return Li=function(t){return e.call(t)}}(),r=e?e.toStringTag:void 0;return Bi=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e)}}function Ml(){if(qi)return Ui;return qi=1,Ui=function(e){return null!=e&&"object"==typeof e}}function Nl(){if(Wi)return Hi;Wi=1;var e=El(),t=Ml();return Hi=function(n){return"symbol"==typeof n||t(n)&&"[object Symbol]"==e(n)}}function Pl(){if($i)return Vi;$i=1;var e=Al(),t=Nl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;return Vi=function(a,o){if(e(a))return!1;var i=typeof a;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=a&&!t(a))||(r.test(a)||!n.test(a)||null!=o&&a in Object(o))}}function Il(){if(Ki)return Gi;return Ki=1,Gi=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}function Dl(){if(Yi)return Xi;Yi=1;var e=El(),t=Il();return Xi=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}}function Rl(){if(es)return Ji;es=1;var e,t=function(){if(Zi)return Qi;Zi=1;var e=Ol()["__core-js_shared__"];return Qi=e}(),n=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return Ji=function(e){return!!n&&n in e}}function _l(){if(ns)return ts;ns=1;var e=Function.prototype.toString;return ts=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}}function Ll(){if(ls)return ss;ls=1;var e=function(){if(as)return rs;as=1;var e=Dl(),t=Rl(),n=Il(),r=_l(),a=/^\[object .+?Constructor\]$/,o=Function.prototype,i=Object.prototype,s=o.toString,l=i.hasOwnProperty,c=RegExp("^"+s.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return rs=function(o){return!(!n(o)||t(o))&&(e(o)?c:a).test(r(o))}}(),t=is?os:(is=1,os=function(e,t){return null==e?void 0:e[t]});return ss=function(n,r){var a=t(n,r);return e(a)?a:void 0}}function zl(){if(us)return cs;us=1;var e=Ll()(Object,"create");return cs=e}function Bl(){if(Cs)return ws;Cs=1;var e=function(){if(ps)return ds;ps=1;var e=zl();return ds=function(){this.__data__=e?e(null):{},this.size=0}}(),t=hs?fs:(hs=1,fs=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),n=function(){if(gs)return ms;gs=1;var e=zl(),t=Object.prototype.hasOwnProperty;return ms=function(n){var r=this.__data__;if(e){var a=r[n];return"__lodash_hash_undefined__"===a?void 0:a}return t.call(r,n)?r[n]:void 0}}(),r=function(){if(vs)return ys;vs=1;var e=zl(),t=Object.prototype.hasOwnProperty;return ys=function(n){var r=this.__data__;return e?void 0!==r[n]:t.call(r,n)}}(),a=function(){if(xs)return bs;xs=1;var e=zl();return bs=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?"__lodash_hash_undefined__":n,this}}();function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=a,ws=o}function Fl(){if(Ss)return As;return Ss=1,As=function(e,t){return e===t||e!=e&&t!=t}}function Ul(){if(Ts)return Os;Ts=1;var e=Fl();return Os=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1}}function ql(){if(zs)return Ls;zs=1;var e=ks?js:(ks=1,js=function(){this.__data__=[],this.size=0}),t=function(){if(Ms)return Es;Ms=1;var e=Ul(),t=Array.prototype.splice;return Es=function(n){var r=this.__data__,a=e(r,n);return!(a<0||(a==r.length-1?r.pop():t.call(r,a,1),--this.size,0))}}(),n=function(){if(Ps)return Ns;Ps=1;var e=Ul();return Ns=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]}}(),r=function(){if(Ds)return Is;Ds=1;var e=Ul();return Is=function(t){return e(this.__data__,t)>-1}}(),a=function(){if(_s)return Rs;_s=1;var e=Ul();return Rs=function(t,n){var r=this.__data__,a=e(r,t);return a<0?(++this.size,r.push([t,n])):r[a][1]=n,this}}();function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=a,Ls=o}function Hl(){if(Fs)return Bs;Fs=1;var e=Ll()(Ol(),"Map");return Bs=e}function Wl(){if($s)return Vs;$s=1;var e=Ws?Hs:(Ws=1,Hs=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return Vs=function(t,n){var r=t.__data__;return e(n)?r["string"==typeof n?"string":"hash"]:r.map}}function Vl(){if(nl)return tl;nl=1;var e=function(){if(qs)return Us;qs=1;var e=Bl(),t=ql(),n=Hl();return Us=function(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}}(),t=function(){if(Ks)return Gs;Ks=1;var e=Wl();return Gs=function(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}}(),n=function(){if(Ys)return Xs;Ys=1;var e=Wl();return Xs=function(t){return e(this,t).get(t)}}(),r=function(){if(Zs)return Qs;Zs=1;var e=Wl();return Qs=function(t){return e(this,t).has(t)}}(),a=function(){if(el)return Js;el=1;var e=Wl();return Js=function(t,n){var r=e(this,t),a=r.size;return r.set(t,n),this.size+=r.size==a?0:1,this}}();function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=a,tl=o}function $l(){if(al)return rl;al=1;var e=Vl();function t(n,r){if("function"!=typeof n||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var a=function(){var e=arguments,t=r?r.apply(this,e):e[0],o=a.cache;if(o.has(t))return o.get(t);var i=n.apply(this,e);return a.cache=o.set(t,i)||o,i};return a.cache=new(t.Cache||e),a}return t.Cache=e,rl=t}function Gl(){if(ll)return sl;ll=1;var e=function(){if(il)return ol;il=1;var e=$l();return ol=function(t){var n=e(t,function(e){return 500===r.size&&r.clear(),e}),r=n.cache;return n}}(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(t,function(e,t,a,o){r.push(a?o.replace(n,"$1"):t||e)}),r});return sl=r}function Kl(){if(ul)return cl;return ul=1,cl=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}}function Xl(){if(hl)return fl;hl=1;var e=function(){if(pl)return dl;pl=1;var e=Tl(),t=Kl(),n=Al(),r=Nl(),a=e?e.prototype:void 0,o=a?a.toString:void 0;return dl=function e(a){if("string"==typeof a)return a;if(n(a))return t(a,e)+"";if(r(a))return o?o.call(a):"";var i=a+"";return"0"==i&&1/a==-1/0?"-0":i},dl}();return fl=function(t){return null==t?"":e(t)}}function Yl(){if(gl)return ml;gl=1;var e=Al(),t=Pl(),n=Gl(),r=Xl();return ml=function(a,o){return e(a)?a:t(a,o)?[a]:n(r(a))}}function Ql(){if(vl)return yl;vl=1;var e=Nl();return yl=function(t){if("string"==typeof t||e(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}}function Zl(){if(xl)return bl;xl=1;var e=Yl(),t=Ql();return bl=function(n,r){for(var a=0,o=(r=e(r,n)).length;null!=n&&a<o;)n=n[t(r[a++])];return a&&a==o?n:void 0}}function Jl(){if(Cl)return wl;Cl=1;var e=Zl();return wl=function(t,n,r){var a=null==t?void 0:e(t,n);return void 0===a?r:a}}const ec=kl(Jl());var tc,nc;const rc=kl(nc?tc:(nc=1,tc=function(e){return null==e}));var ac,oc;const ic=kl(function(){if(oc)return ac;oc=1;var e=El(),t=Al(),n=Ml();return ac=function(r){return"string"==typeof r||!t(r)&&n(r)&&"[object String]"==e(r)}}());const sc=kl(Dl());const lc=kl(Il());var cc,uc={exports:{}},dc={};var pc,fc,hc={};var mc,gc,yc,vc,bc=(fc||(fc=1,"production"===process.env.NODE_ENV?uc.exports=function(){if(cc)return dc;cc=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen");function m(e){if("object"==typeof e&&null!==e){var h=e.$$typeof;switch(h){case t:switch(e=e.type){case r:case o:case a:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case s:case c:case f:case p:case i:return e;default:return h}}case n:return h}}}return e=Symbol.for("react.module.reference"),dc.ContextConsumer=s,dc.ContextProvider=i,dc.Element=t,dc.ForwardRef=c,dc.Fragment=r,dc.Lazy=f,dc.Memo=p,dc.Portal=n,dc.Profiler=o,dc.StrictMode=a,dc.Suspense=u,dc.SuspenseList=d,dc.isAsyncMode=function(){return!1},dc.isConcurrentMode=function(){return!1},dc.isContextConsumer=function(e){return m(e)===s},dc.isContextProvider=function(e){return m(e)===i},dc.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},dc.isForwardRef=function(e){return m(e)===c},dc.isFragment=function(e){return m(e)===r},dc.isLazy=function(e){return m(e)===f},dc.isMemo=function(e){return m(e)===p},dc.isPortal=function(e){return m(e)===n},dc.isProfiler=function(e){return m(e)===o},dc.isStrictMode=function(e){return m(e)===a},dc.isSuspense=function(e){return m(e)===u},dc.isSuspenseList=function(e){return m(e)===d},dc.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===r||t===o||t===a||t===u||t===d||t===h||"object"==typeof t&&null!==t&&(t.$$typeof===f||t.$$typeof===p||t.$$typeof===i||t.$$typeof===s||t.$$typeof===c||t.$$typeof===e||void 0!==t.getModuleId)},dc.typeOf=m,dc}():uc.exports=(pc||(pc=1,"production"!==process.env.NODE_ENV&&function(){var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen");function m(e){if("object"==typeof e&&null!==e){var h=e.$$typeof;switch(h){case t:var m=e.type;switch(m){case r:case o:case a:case u:case d:return m;default:var g=m&&m.$$typeof;switch(g){case l:case s:case c:case f:case p:case i:return g;default:return h}}case n:return h}}}e=Symbol.for("react.module.reference");var g=s,y=i,v=t,b=c,x=r,w=f,C=p,j=n,k=o,A=a,S=u,O=d,T=!1,E=!1;hc.ContextConsumer=g,hc.ContextProvider=y,hc.Element=v,hc.ForwardRef=b,hc.Fragment=x,hc.Lazy=w,hc.Memo=C,hc.Portal=j,hc.Profiler=k,hc.StrictMode=A,hc.Suspense=S,hc.SuspenseList=O,hc.isAsyncMode=function(e){return T||(T=!0),!1},hc.isConcurrentMode=function(e){return E||(E=!0),!1},hc.isContextConsumer=function(e){return m(e)===s},hc.isContextProvider=function(e){return m(e)===i},hc.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},hc.isForwardRef=function(e){return m(e)===c},hc.isFragment=function(e){return m(e)===r},hc.isLazy=function(e){return m(e)===f},hc.isMemo=function(e){return m(e)===p},hc.isPortal=function(e){return m(e)===n},hc.isProfiler=function(e){return m(e)===o},hc.isStrictMode=function(e){return m(e)===a},hc.isSuspense=function(e){return m(e)===u},hc.isSuspenseList=function(e){return m(e)===d},hc.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===r||t===o||t===a||t===u||t===d||t===h||"object"==typeof t&&null!==t&&(t.$$typeof===f||t.$$typeof===p||t.$$typeof===i||t.$$typeof===s||t.$$typeof===c||t.$$typeof===e||void 0!==t.getModuleId)},hc.typeOf=m}()),hc)),uc.exports);function xc(){if(gc)return mc;gc=1;var e=El(),t=Ml();return mc=function(n){return"number"==typeof n||t(n)&&"[object Number]"==e(n)}}const wc=kl(function(){if(vc)return yc;vc=1;var e=xc();return yc=function(t){return e(t)&&t!=+t}}());const Cc=kl(xc());var jc=function(e){return 0===e?0:e>0?1:-1},kc=function(e){return ic(e)&&e.indexOf("%")===e.length-1},Ac=function(e){return Cc(e)&&!wc(e)},Sc=function(e){return Ac(e)||ic(e)},Oc=0,Tc=function(e){var t=++Oc;return"".concat(e||"").concat(t)},Ec=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Ac(e)&&!ic(e))return r;if(kc(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return wc(n)&&(n=r),a&&n>t&&(n=t),n},Mc=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Nc=function(e,t){return Ac(e)&&Ac(t)?function(n){return e+n*(t-e)}:function(){return t}};function Pc(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):ec(e,t))===n}):null}var Ic=function(e,t){return Ac(e)&&Ac(t)?e-t:ic(e)&&ic(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function Dc(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Rc(e){return(Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _c=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Lc=["points","pathLength"],zc={svg:["viewBox","children"],polygon:Lc,polyline:Lc},Bc=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Fc=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(o.isValidElement(e)&&(n=e.props),!lc(n))return null;var r={};return Object.keys(n).forEach(function(e){Bc.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})}),r},Uc=function(e,t,n){if(!lc(e)||"object"!==Rc(e))return null;var r=null;return Object.keys(e).forEach(function(a){var o=e[a];Bc.includes(a)&&"function"==typeof o&&(r||(r={}),r[a]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))}),r},qc=["children"],Hc=["children"];function Wc(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vc(e){return(Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $c={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Gc=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},Kc=null,Xc=null,Yc=function e(t){if(t===Kc&&Array.isArray(Xc))return Xc;var n=[];return o.Children.forEach(t,function(t){rc(t)||(bc.isFragment(t)?n=n.concat(e(t.props.children)):n.push(t))}),Xc=n,Kc=t,n};function Qc(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return Gc(e)}):[Gc(t)],Yc(e).forEach(function(e){var t=ec(e,"type.displayName")||ec(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function Zc(e,t){var n=Qc(e,t);return n&&n[0]}var Jc=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!Ac(n)||n<=0||!Ac(r)||r<=0)},eu=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tu=function(e){return e&&"object"===Vc(e)&&"clipDot"in e},nu=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(o.isValidElement(e)&&(r=e.props),!lc(r))return null;var a={};return Object.keys(r).forEach(function(e){var o;(function(e,t,n,r){var a,o=null!==(a=null==zc?void 0:zc[r])&&void 0!==a?a:[];return t.startsWith("data-")||!sc(e)&&(r&&o.includes(t)||_c.includes(t))||n&&Bc.includes(t)})(null===(o=r)||void 0===o?void 0:o[e],e,t,n)&&(a[e]=r[e])}),a},ru=function e(t,n){if(t===n)return!0;var r=o.Children.count(t);if(r!==o.Children.count(n))return!1;if(0===r)return!0;if(1===r)return au(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],s=n[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!au(i,s))return!1}return!0},au=function(e,t){if(rc(e)&&rc(t))return!0;if(!rc(e)&&!rc(t)){var n=e.props||{},r=n.children,a=Wc(n,qc),o=t.props||{},i=o.children,s=Wc(o,Hc);return r&&i?Dc(a,s)&&ru(r,i):!r&&!i&&Dc(a,s)}return!1},ou=function(e,t){var n=[],r={};return Yc(e).forEach(function(e,a){if(function(e){return e&&e.type&&ic(e.type)&&eu.indexOf(e.type)>=0}(e))n.push(e);else if(e){var o=Gc(e.type),i=t[o]||{},s=i.handler,l=i.once;if(s&&(!l||!r[o])){var c=s(e,o,a);n.push(c),r[o]=!0}}}),n},iu=["children","width","height","viewBox","className","style","title","desc"];function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su.apply(this,arguments)}function lu(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cu(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,s=e.style,l=e.title,c=e.desc,u=lu(e,iu),d=a||{width:n,height:r,x:0,y:0},p=Si("recharts-surface",i);return o.createElement("svg",su({},nu(u,!0,"svg"),{className:p,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),o.createElement("title",null,l),o.createElement("desc",null,c),t)}var uu=["children","className"];function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},du.apply(this,arguments)}function pu(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var fu,hu,mu,gu,yu,vu,bu,xu,wu,Cu,ju,ku,Au,Su,Ou,Tu,Eu=o.forwardRef(function(e,t){var n=e.children,r=e.className,a=pu(e,uu),i=Si("recharts-layer",r);return o.createElement("g",du({className:i},nu(a,!0),{ref:t}),n)}),Mu="production"!==process.env.NODE_ENV,Nu=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(Mu&&"undefined"!=typeof console&&console.warn&&!e)if(void 0===t);else;};function Pu(){if(gu)return mu;gu=1;var e=hu?fu:(hu=1,fu=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o});return mu=function(t,n,r){var a=t.length;return r=void 0===r?a:r,!n&&r>=a?t:e(t,n,r)}}function Iu(){if(vu)return yu;vu=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return yu=function(t){return e.test(t)}}function Du(){if(ku)return ju;ku=1;var e=xu?bu:(xu=1,bu=function(e){return e.split("")}),t=Iu(),n=function(){if(Cu)return wu;Cu=1;var e="\\ud800-\\udfff",t="["+e+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",a="[^"+e+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")?",l="[\\ufe0e\\ufe0f]?",c=l+s+"(?:\\u200d(?:"+[a,o,i].join("|")+")"+l+s+")*",u="(?:"+[a+n+"?",n,o,i,t].join("|")+")",d=RegExp(r+"(?="+r+")|"+u+c,"g");return wu=function(e){return e.match(d)||[]}}();return ju=function(r){return t(r)?n(r):e(r)}}const Ru=kl(function(){if(Tu)return Ou;Tu=1;var e=function(){if(Su)return Au;Su=1;var e=Pu(),t=Iu(),n=Du(),r=Xl();return Au=function(a){return function(o){o=r(o);var i=t(o)?n(o):void 0,s=i?i[0]:o.charAt(0),l=i?e(i,1).join(""):o.slice(1);return s[a]()+l}}}()("toUpperCase");return Ou=e}());function _u(e){return function(){return e}}const Lu=Math.cos,zu=Math.sin,Bu=Math.sqrt,Fu=Math.PI,Uu=2*Fu,qu=Math.PI,Hu=2*qu,Wu=1e-6,Vu=Hu-Wu;function $u(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Gu{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?$u:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $u;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,a,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+a},${this._y1=+o}`}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error(`negative radius: ${a}`);let o=this._x1,i=this._y1,s=n-e,l=r-t,c=o-e,u=i-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Wu)if(Math.abs(u*s-l*c)>Wu&&a){let p=n-o,f=r-i,h=s*s+l*l,m=p*p+f*f,g=Math.sqrt(h),y=Math.sqrt(d),v=a*Math.tan((qu-Math.acos((h+d-m)/(2*g*y)))/2),b=v/y,x=v/g;Math.abs(b-1)>Wu&&this._append`L${e+b*c},${t+b*u}`,this._append`A${a},${a},0,0,${+(u*p>c*f)},${this._x1=e+x*s},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,a,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let i=n*Math.cos(r),s=n*Math.sin(r),l=e+i,c=t+s,u=1^o,d=o?r-a:a-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Wu||Math.abs(this._y1-c)>Wu)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%Hu+Hu),d>Vu?this._append`A${n},${n},0,1,${u},${e-i},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>Wu&&this._append`A${n},${n},0,${+(d>=qu)},${u},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Ku(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new Gu(t)}function Xu(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Yu(e){this._context=e}function Qu(e){return new Yu(e)}function Zu(e){return e[0]}function Ju(e){return e[1]}function ed(e,t){var n=_u(!0),r=null,a=Qu,o=null,i=Ku(s);function s(s){var l,c,u,d=(s=Xu(s)).length,p=!1;for(null==r&&(o=a(u=i())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(c,l,s),+t(c,l,s));if(u)return o=null,u+""||null}return e="function"==typeof e?e:void 0===e?Zu:_u(e),t="function"==typeof t?t:void 0===t?Ju:_u(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:_u(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:_u(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:_u(!!e),s):n},s.curve=function(e){return arguments.length?(a=e,null!=r&&(o=a(r)),s):a},s.context=function(e){return arguments.length?(null==e?r=o=null:o=a(r=e),s):r},s}function td(e,t,n){var r=null,a=_u(!0),o=null,i=Qu,s=null,l=Ku(c);function c(c){var u,d,p,f,h,m=(c=Xu(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==o&&(s=i(h=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=u-1;p>=d;--p)s.point(y[p],v[p]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(h)return s=null,h+""||null}function u(){return ed().defined(a).curve(i).context(o)}return e="function"==typeof e?e:void 0===e?Zu:_u(+e),t="function"==typeof t?t:_u(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Ju:_u(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:_u(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:_u(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:_u(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:_u(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:_u(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:_u(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"==typeof e?e:_u(!!e),c):a},c.curve=function(e){return arguments.length?(i=e,null!=o&&(s=i(o)),c):i},c.context=function(e){return arguments.length?(null==e?o=s=null:s=i(o=e),c):o},c}Yu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class nd{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const rd={draw(e,t){const n=Bu(t/Fu);e.moveTo(n,0),e.arc(0,0,n,0,Uu)}},ad={draw(e,t){const n=Bu(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},od=Bu(1/3),id=2*od,sd={draw(e,t){const n=Bu(t/id),r=n*od;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},ld={draw(e,t){const n=Bu(t),r=-n/2;e.rect(r,r,n,n)}},cd=zu(Fu/10)/zu(7*Fu/10),ud=zu(Uu/10)*cd,dd=-Lu(Uu/10)*cd,pd={draw(e,t){const n=Bu(.8908130915292852*t),r=ud*n,a=dd*n;e.moveTo(0,-n),e.lineTo(r,a);for(let o=1;o<5;++o){const t=Uu*o/5,i=Lu(t),s=zu(t);e.lineTo(s*n,-i*n),e.lineTo(i*r-s*a,s*r+i*a)}e.closePath()}},fd=Bu(3),hd={draw(e,t){const n=-Bu(t/(3*fd));e.moveTo(0,2*n),e.lineTo(-fd*n,-n),e.lineTo(fd*n,-n),e.closePath()}},md=-.5,gd=Bu(3)/2,yd=1/Bu(12),vd=3*(yd/2+1),bd={draw(e,t){const n=Bu(t/vd),r=n/2,a=n*yd,o=r,i=n*yd+n,s=-o,l=i;e.moveTo(r,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(md*r-gd*a,gd*r+md*a),e.lineTo(md*o-gd*i,gd*o+md*i),e.lineTo(md*s-gd*l,gd*s+md*l),e.lineTo(md*r+gd*a,md*a-gd*r),e.lineTo(md*o+gd*i,md*i-gd*o),e.lineTo(md*s+gd*l,md*l-gd*s),e.closePath()}};function xd(){}function wd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Cd(e){this._context=e}function jd(e){this._context=e}function kd(e){this._context=e}function Ad(e){this._context=e}function Sd(e){return e<0?-1:1}function Od(e,t,n){var r=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(r||a<0&&-0),i=(n-e._y1)/(a||r<0&&-0),s=(o*a+i*r)/(r+a);return(Sd(o)+Sd(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Td(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ed(e,t,n){var r=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,a+s*t,o-s,i-s*n,o,i)}function Md(e){this._context=e}function Nd(e){this._context=new Pd(e)}function Pd(e){this._context=e}function Id(e){this._context=e}function Dd(e){var t,n,r=e.length-1,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function Rd(e,t){this._context=e,this._t=t}function _d(e,t){if((a=e.length)>1)for(var n,r,a,o=1,i=e[t[0]],s=i.length;o<a;++o)for(r=i,i=e[t[o]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Ld(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function zd(e,t){return e[t]}function Bd(e){const t=[];return t.key=e,t}function Fd(e){return(Fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Cd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wd(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},jd.prototype={areaStart:xd,areaEnd:xd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wd(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:wd(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ad.prototype={areaStart:xd,areaEnd:xd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Md.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ed(this,this._t0,Td(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ed(this,Td(this,n=Od(this,e,t)),n);break;default:Ed(this,this._t0,n=Od(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Nd.prototype=Object.create(Md.prototype)).point=function(e,t){Md.prototype.point.call(this,t,e)},Pd.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,o){this._context.bezierCurveTo(t,e,r,n,o,a)}},Id.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Dd(e),a=Dd(t),o=0,i=1;i<n;++o,++i)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],e[i],t[i]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Rd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Ud=["type","size","sizeType"];function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qd.apply(this,arguments)}function Hd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hd(Object(n),!0).forEach(function(t){Vd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vd(e,t,n){var r;return r=function(e,t){if("object"!=Fd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Fd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Fd(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Gd={symbolCircle:rd,symbolCross:ad,symbolDiamond:sd,symbolSquare:ld,symbolStar:pd,symbolTriangle:hd,symbolWye:bd},Kd=Math.PI/180,Xd=function(e){var t,n,r=e.type,a=void 0===r?"circle":r,i=e.size,s=void 0===i?64:i,l=e.sizeType,c=void 0===l?"area":l,u=Wd(Wd({},$d(e,Ud)),{},{type:a,size:s,sizeType:c}),d=u.className,p=u.cx,f=u.cy,h=nu(u,!0);return p===+p&&f===+f&&s===+s?o.createElement("path",qd({},h,{className:Si("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(f,")"),d:(t=function(e){var t="symbol".concat(Ru(e));return Gd[t]||rd}(a),n=function(e,t){let n=null,r=Ku(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"==typeof e?e:_u(e||rd),t="function"==typeof t?t:_u(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:_u(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:_u(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Kd;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,c,a)),n())})):null};function Yd(e){return(Yd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qd.apply(this,arguments)}function Zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jd(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,op(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ep(e,t,n){return t=np(t),function(e,t){if(t&&("object"===Yd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tp()?Reflect.construct(t,n||[],np(e).constructor):t.apply(e,n))}function tp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(tp=function(){return!!e})()}function np(e){return(np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rp(e,t){return(rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ap(e,t,n){return(t=op(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function op(e){var t=function(e,t){if("object"!=Yd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Yd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Yd(t)?t:t+""}Xd.registerSymbol=function(e,t){Gd["symbol".concat(Ru(e))]=t};var ip,sp,lp,cp,up,dp,pp,fp,hp,mp,gp,yp,vp,bp,xp,wp,Cp,jp,kp,Ap,Sp,Op,Tp,Ep,Mp,Np,Pp,Ip,Dp,Rp,_p,Lp,zp,Bp,Fp,Up,qp,Hp,Wp,Vp,$p,Gp,Kp,Xp,Yp,Qp,Zp,Jp,ef=32,tf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ep(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rp(e,t)}(t,e),Jd(t,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=ef/6,a=ef/3,i=e.inactive?t:e.color;if("plainline"===e.type)return o.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:ef,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return o.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(n,"h").concat(a,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*a,",").concat(n,"\n            H").concat(ef,"M").concat(2*a,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(a,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return o.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(ef,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(o.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zd(Object(n),!0).forEach(function(t){ap(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete s.legendIcon,o.cloneElement(e.legendIcon,s)}return o.createElement(Xd,{fill:i,cx:n,cy:n,size:ef,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,a=t.layout,i=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:ef,height:ef},c={display:"horizontal"===a?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var a=t.formatter||i,d=Si(ap(ap({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var p=sc(t.value)?null:t.value;Nu(!sc(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?s:t.color;return o.createElement("li",Qd({className:d,style:c,key:"legend-item-".concat(n)},Uc(e.props,t,n)),o.createElement(cu,{width:r,height:r,viewBox:l,style:u},e.renderIcon(t)),o.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},a?a(p,t,n):p))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return o.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(o.PureComponent);function nf(){if(yp)return gp;yp=1;var e=ql(),t=function(){if(sp)return ip;sp=1;var e=ql();return ip=function(){this.__data__=new e,this.size=0}}(),n=cp?lp:(cp=1,lp=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}),r=dp?up:(dp=1,up=function(e){return this.__data__.get(e)}),a=fp?pp:(fp=1,pp=function(e){return this.__data__.has(e)}),o=function(){if(mp)return hp;mp=1;var e=ql(),t=Hl(),n=Vl();return hp=function(r,a){var o=this.__data__;if(o instanceof e){var i=o.__data__;if(!t||i.length<199)return i.push([r,a]),this.size=++o.size,this;o=this.__data__=new n(i)}return o.set(r,a),this.size=o.size,this}}();function i(t){var n=this.__data__=new e(t);this.size=n.size}return i.prototype.clear=t,i.prototype.delete=n,i.prototype.get=r,i.prototype.has=a,i.prototype.set=o,gp=i}function rf(){if(jp)return Cp;jp=1;var e=Vl(),t=bp?vp:(bp=1,vp=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}),n=wp?xp:(wp=1,xp=function(e){return this.__data__.has(e)});function r(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new e;++n<r;)this.add(t[n])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Cp=r}function af(){if(Ap)return kp;return Ap=1,kp=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}}function of(){if(Op)return Sp;return Op=1,Sp=function(e,t){return e.has(t)}}function sf(){if(Ep)return Tp;Ep=1;var e=rf(),t=af(),n=of();return Tp=function(r,a,o,i,s,l){var c=1&o,u=r.length,d=a.length;if(u!=d&&!(c&&d>u))return!1;var p=l.get(r),f=l.get(a);if(p&&f)return p==a&&f==r;var h=-1,m=!0,g=2&o?new e:void 0;for(l.set(r,a),l.set(a,r);++h<u;){var y=r[h],v=a[h];if(i)var b=c?i(v,y,h,a,r,l):i(y,v,h,r,a,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!t(a,function(e,t){if(!n(g,t)&&(y===e||s(y,e,o,i,l)))return g.push(t)})){m=!1;break}}else if(y!==v&&!s(y,v,o,i,l)){m=!1;break}}return l.delete(r),l.delete(a),m}}function lf(){if(Rp)return Dp;return Rp=1,Dp=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}}function cf(){if(Lp)return _p;Lp=1;var e=Tl(),t=function(){if(Np)return Mp;Np=1;var e=Ol().Uint8Array;return Mp=e}(),n=Fl(),r=sf(),a=Ip?Pp:(Ip=1,Pp=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}),o=lf(),i=e?e.prototype:void 0,s=i?i.valueOf:void 0;return _p=function(e,i,l,c,u,d,p){switch(l){case"[object DataView]":if(e.byteLength!=i.byteLength||e.byteOffset!=i.byteOffset)return!1;e=e.buffer,i=i.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=i.byteLength||!d(new t(e),new t(i)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+e,+i);case"[object Error]":return e.name==i.name&&e.message==i.message;case"[object RegExp]":case"[object String]":return e==i+"";case"[object Map]":var f=a;case"[object Set]":var h=1&c;if(f||(f=o),e.size!=i.size&&!h)return!1;var m=p.get(e);if(m)return m==i;c|=2,p.set(e,i);var g=r(f(e),f(i),c,u,d,p);return p.delete(e),g;case"[object Symbol]":if(s)return s.call(e)==s.call(i)}return!1}}function uf(){if(Bp)return zp;return Bp=1,zp=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}}function df(){if(Gp)return $p;Gp=1;var e=Hp?qp:(Hp=1,qp=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}),t=Vp?Wp:(Vp=1,Wp=function(){return[]}),n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;return $p=r?function(t){return null==t?[]:(t=Object(t),e(r(t),function(e){return n.call(t,e)}))}:t}function pf(){if(Jp)return Zp;Jp=1;var e=function(){if(Qp)return Yp;Qp=1;var e=El(),t=Ml();return Yp=function(n){return t(n)&&"[object Arguments]"==e(n)}}(),t=Ml(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(e){return t(e)&&r.call(e,"callee")&&!a.call(e,"callee")};return Zp=o}ap(tf,"displayName","Legend"),ap(tf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ff,hf,mf,gf,yf,vf,bf,xf,wf,Cf,jf,kf={exports:{}};function Af(){return mf||(mf=1,e=kf,t=kf.exports,n=Ol(),r=hf?ff:(hf=1,ff=function(){return!1}),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,i=o&&o.exports===a?n.Buffer:void 0,s=(i?i.isBuffer:void 0)||r,e.exports=s),kf.exports;var e,t,n,r,a,o,i,s}function Sf(){if(yf)return gf;yf=1;var e=/^(?:0|[1-9]\d*)$/;return gf=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}}function Of(){if(bf)return vf;bf=1;return vf=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}}function Tf(){if(jf)return Cf;return jf=1,Cf=function(e){return function(t){return e(t)}}}var Ef,Mf,Nf,Pf,If,Df,Rf,_f,Lf,zf,Bf,Ff,Uf,qf,Hf,Wf,Vf,$f,Gf,Kf,Xf,Yf,Qf,Zf,Jf,eh,th,nh,rh,ah,oh,ih,sh,lh,ch,uh,dh,ph,fh,hh,mh,gh,yh,vh,bh,xh,wh,Ch,jh,kh,Ah,Sh,Oh,Th,Eh,Mh,Nh,Ph,Ih,Dh,Rh,_h,Lh,zh,Bh,Fh,Uh,qh,Hh,Wh,Vh,$h,Gh,Kh,Xh,Yh,Qh,Zh,Jh,em,tm,nm,rm,am={exports:{}};function om(){if(Nf)return Mf;Nf=1;var e=function(){if(wf)return xf;wf=1;var e=El(),t=Of(),n=Ml(),r={};return r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,xf=function(a){return n(a)&&t(a.length)&&!!r[e(a)]}}(),t=Tf(),n=function(){return Ef||(Ef=1,e=am,t=am.exports,n=Sl(),r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,o=a&&a.exports===r&&n.process,i=function(){try{return a&&a.require&&a.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}(),e.exports=i),am.exports;var e,t,n,r,a,o,i}(),r=n&&n.isTypedArray,a=r?t(r):e;return Mf=a}function im(){if(If)return Pf;If=1;var e=Xp?Kp:(Xp=1,Kp=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}),t=pf(),n=Al(),r=Af(),a=Sf(),o=om(),i=Object.prototype.hasOwnProperty;return Pf=function(s,l){var c=n(s),u=!c&&t(s),d=!c&&!u&&r(s),p=!c&&!u&&!d&&o(s),f=c||u||d||p,h=f?e(s.length,String):[],m=h.length;for(var g in s)!l&&!i.call(s,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||h.push(g);return h}}function sm(){if(Lf)return _f;return Lf=1,_f=function(e,t){return function(n){return e(t(n))}}}function lm(){if(Uf)return Ff;Uf=1;var e=function(){if(Rf)return Df;Rf=1;var e=Object.prototype;return Df=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}}(),t=function(){if(Bf)return zf;Bf=1;var e=sm()(Object.keys,Object);return zf=e}(),n=Object.prototype.hasOwnProperty;return Ff=function(r){if(!e(r))return t(r);var a=[];for(var o in Object(r))n.call(r,o)&&"constructor"!=o&&a.push(o);return a}}function cm(){if(Hf)return qf;Hf=1;var e=Dl(),t=Of();return qf=function(n){return null!=n&&t(n.length)&&!e(n)}}function um(){if(Vf)return Wf;Vf=1;var e=im(),t=lm(),n=cm();return Wf=function(r){return n(r)?e(r):t(r)}}function dm(){if(Gf)return $f;Gf=1;var e=function(){if(Up)return Fp;Up=1;var e=uf(),t=Al();return Fp=function(n,r,a){var o=r(n);return t(n)?o:e(o,a(n))}}(),t=df(),n=um();return $f=function(r){return e(r,n,t)}}function pm(){if(th)return eh;th=1;var e=Ll()(Ol(),"Set");return eh=e}function fm(){if(oh)return ah;oh=1;var e=function(){if(Qf)return Yf;Qf=1;var e=Ll()(Ol(),"DataView");return Yf=e}(),t=Hl(),n=function(){if(Jf)return Zf;Jf=1;var e=Ll()(Ol(),"Promise");return Zf=e}(),r=pm(),a=function(){if(rh)return nh;rh=1;var e=Ll()(Ol(),"WeakMap");return nh=e}(),o=El(),i=_l(),s="[object Map]",l="[object Promise]",c="[object Set]",u="[object WeakMap]",d="[object DataView]",p=i(e),f=i(t),h=i(n),m=i(r),g=i(a),y=o;return(e&&y(new e(new ArrayBuffer(1)))!=d||t&&y(new t)!=s||n&&y(n.resolve())!=l||r&&y(new r)!=c||a&&y(new a)!=u)&&(y=function(e){var t=o(e),n="[object Object]"==t?e.constructor:void 0,r=n?i(n):"";if(r)switch(r){case p:return d;case f:return s;case h:return l;case m:return c;case g:return u}return t}),ah=y}function hm(){if(sh)return ih;sh=1;var e=nf(),t=sf(),n=cf(),r=function(){if(Xf)return Kf;Xf=1;var e=dm(),t=Object.prototype.hasOwnProperty;return Kf=function(n,r,a,o,i,s){var l=1&a,c=e(n),u=c.length;if(u!=e(r).length&&!l)return!1;for(var d=u;d--;){var p=c[d];if(!(l?p in r:t.call(r,p)))return!1}var f=s.get(n),h=s.get(r);if(f&&h)return f==r&&h==n;var m=!0;s.set(n,r),s.set(r,n);for(var g=l;++d<u;){var y=n[p=c[d]],v=r[p];if(o)var b=l?o(v,y,p,r,n,s):o(y,v,p,n,r,s);if(!(void 0===b?y===v||i(y,v,a,o,s):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var x=n.constructor,w=r.constructor;x==w||!("constructor"in n)||!("constructor"in r)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(n),s.delete(r),m}}(),a=fm(),o=Al(),i=Af(),s=om(),l="[object Arguments]",c="[object Array]",u="[object Object]",d=Object.prototype.hasOwnProperty;return ih=function(p,f,h,m,g,y){var v=o(p),b=o(f),x=v?c:a(p),w=b?c:a(f),C=(x=x==l?u:x)==u,j=(w=w==l?u:w)==u,k=x==w;if(k&&i(p)){if(!i(f))return!1;v=!0,C=!1}if(k&&!C)return y||(y=new e),v||s(p)?t(p,f,h,m,g,y):n(p,f,x,h,m,g,y);if(!(1&h)){var A=C&&d.call(p,"__wrapped__"),S=j&&d.call(f,"__wrapped__");if(A||S){var O=A?p.value():p,T=S?f.value():f;return y||(y=new e),g(O,T,h,m,y)}}return!!k&&(y||(y=new e),r(p,f,h,m,g,y))}}function mm(){if(ch)return lh;ch=1;var e=hm(),t=Ml();return lh=function n(r,a,o,i,s){return r===a||(null==r||null==a||!t(r)&&!t(a)?r!=r&&a!=a:e(r,a,o,i,n,s))},lh}function gm(){if(fh)return ph;fh=1;var e=Il();return ph=function(t){return t==t&&!e(t)}}function ym(){if(yh)return gh;return yh=1,gh=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}}function vm(){if(bh)return vh;bh=1;var e=function(){if(dh)return uh;dh=1;var e=nf(),t=mm();return uh=function(n,r,a,o){var i=a.length,s=i,l=!o;if(null==n)return!s;for(n=Object(n);i--;){var c=a[i];if(l&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++i<s;){var u=(c=a[i])[0],d=n[u],p=c[1];if(l&&c[2]){if(void 0===d&&!(u in n))return!1}else{var f=new e;if(o)var h=o(d,p,u,n,r,f);if(!(void 0===h?t(p,d,3,o,f):h))return!1}}return!0}}(),t=function(){if(mh)return hh;mh=1;var e=gm(),t=um();return hh=function(n){for(var r=t(n),a=r.length;a--;){var o=r[a],i=n[o];r[a]=[o,i,e(i)]}return r}}(),n=ym();return vh=function(r){var a=t(r);return 1==a.length&&a[0][2]?n(a[0][0],a[0][1]):function(t){return t===r||e(t,r,a)}}}function bm(){if(Ah)return kh;Ah=1;var e=wh?xh:(wh=1,xh=function(e,t){return null!=e&&t in Object(e)}),t=function(){if(jh)return Ch;jh=1;var e=Yl(),t=pf(),n=Al(),r=Sf(),a=Of(),o=Ql();return Ch=function(i,s,l){for(var c=-1,u=(s=e(s,i)).length,d=!1;++c<u;){var p=o(s[c]);if(!(d=null!=i&&l(i,p)))break;i=i[p]}return d||++c!=u?d:!!(u=null==i?0:i.length)&&a(u)&&r(p,u)&&(n(i)||t(i))}}();return kh=function(n,r){return null!=n&&t(n,r,e)}}function xm(){if(Eh)return Th;return Eh=1,Th=function(e){return e}}function wm(){if(Rh)return Dh;Rh=1;var e=Nh?Mh:(Nh=1,Mh=function(e){return function(t){return null==t?void 0:t[e]}}),t=function(){if(Ih)return Ph;Ih=1;var e=Zl();return Ph=function(t){return function(n){return e(n,t)}}}(),n=Pl(),r=Ql();return Dh=function(a){return n(a)?e(r(a)):t(a)}}function Cm(){if(Lh)return _h;Lh=1;var e=vm(),t=function(){if(Oh)return Sh;Oh=1;var e=mm(),t=Jl(),n=bm(),r=Pl(),a=gm(),o=ym(),i=Ql();return Sh=function(s,l){return r(s)&&a(l)?o(i(s),l):function(r){var a=t(r,s);return void 0===a&&a===l?n(r,s):e(l,a,3)}}}(),n=xm(),r=Al(),a=wm();return _h=function(o){return"function"==typeof o?o:null==o?n:"object"==typeof o?r(o)?t(o[0],o[1]):e(o):a(o)}}function jm(){if(Bh)return zh;return Bh=1,zh=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}}function km(){if(Vh)return Wh;Vh=1;var e=jm(),t=Uh?Fh:(Uh=1,Fh=function(e){return e!=e}),n=Hh?qh:(Hh=1,qh=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1});return Wh=function(r,a,o){return a==a?n(r,a,o):e(r,t,o)}}function Am(){if(Jh)return Zh;Jh=1;var e=pm(),t=Qh?Yh:(Qh=1,Yh=function(){}),n=lf(),r=e&&1/n(new e([,-0]))[1]==1/0?function(t){return new e(t)}:t;return Zh=r}function Sm(){if(tm)return em;tm=1;var e=rf(),t=function(){if(Gh)return $h;Gh=1;var e=km();return $h=function(t,n){return!(null==t||!t.length)&&e(t,n,0)>-1}}(),n=Xh?Kh:(Xh=1,Kh=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}),r=of(),a=Am(),o=lf();return em=function(i,s,l){var c=-1,u=t,d=i.length,p=!0,f=[],h=f;if(l)p=!1,u=n;else if(d>=200){var m=s?null:a(i);if(m)return o(m);p=!1,u=r,h=new e}else h=s?[]:f;e:for(;++c<d;){var g=i[c],y=s?s(g):g;if(g=l||0!==g?g:0,p&&y==y){for(var v=h.length;v--;)if(h[v]===y)continue e;s&&h.push(y),f.push(g)}else u(h,y,l)||(h!==f&&h.push(y),f.push(g))}return f}}const Om=kl(function(){if(rm)return nm;rm=1;var e=Cm(),t=Sm();return nm=function(n,r){return n&&n.length?t(n,e(r,2)):[]}}());function Tm(e,t,n){return!0===t?Om(e,n):sc(t)?Om(e,t):e}function Em(e){return(Em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Mm=["ref"];function Nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nm(Object(n),!0).forEach(function(t){zm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bm(r.key),r)}}function Dm(e,t,n){return t=_m(t),function(e,t){if(t&&("object"===Em(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Rm()?Reflect.construct(t,n||[],_m(e).constructor):t.apply(e,n))}function Rm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Rm=function(){return!!e})()}function _m(e){return(_m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lm(e,t){return(Lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zm(e,t,n){return(t=Bm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bm(e){var t=function(e,t){if("object"!=Em(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Em(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Em(t)?t:t+""}function Fm(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Um(e){return e.value}var qm,Hm,Wm,Vm,$m,Gm,Km,Xm,Ym,Qm,Zm,Jm,eg,tg,ng,rg,ag,og,ig,sg,lg,cg,ug,dg,pg,fg,hg,mg,gg,yg,vg,bg,xg,wg,Cg,jg,kg,Ag,Sg,Og,Tg,Eg,Mg,Ng,Pg=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return zm(e=Dm(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lm(e,t)}(t,e),n=t,a=[{key:"getWithHeight",value:function(e,t){var n=Pm(Pm({},this.defaultProps),e.props).layout;return"vertical"===n&&Ac(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Pm({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,a=r.layout,o=r.align,i=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===i?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===i?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Pm(Pm({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,a=t.height,i=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,c=Pm(Pm({position:"absolute",width:r||"auto",height:a||"auto"},this.getDefaultPosition(i)),i);return o.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(o.isValidElement(e))return o.cloneElement(e,t);if("function"==typeof e)return o.createElement(e,t);t.ref;var n=Fm(t,Mm);return o.createElement(tf,n)}(n,Pm(Pm({},this.props),{},{payload:Tm(l,s,Um)})))}}])&&Im(n.prototype,r),a&&Im(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(o.PureComponent);function Ig(){if(Vm)return Wm;Vm=1;var e=uf(),t=function(){if(Hm)return qm;Hm=1;var e=Tl(),t=pf(),n=Al(),r=e?e.isConcatSpreadable:void 0;return qm=function(e){return n(e)||t(e)||!!(r&&e&&e[r])}}();return Wm=function n(r,a,o,i,s){var l=-1,c=r.length;for(o||(o=t),s||(s=[]);++l<c;){var u=r[l];a>0&&o(u)?a>1?n(u,a-1,o,i,s):e(s,u):i||(s[s.length]=u)}return s},Wm}function Dg(){if(Xm)return Km;Xm=1;var e=(Gm?$m:(Gm=1,$m=function(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),s=i.length;s--;){var l=i[e?s:++a];if(!1===n(o[l],l,o))break}return t}}))();return Km=e}function Rg(){if(Qm)return Ym;Qm=1;var e=Dg(),t=um();return Ym=function(n,r){return n&&e(n,r,t)}}function _g(){if(tg)return eg;tg=1;var e=Rg(),t=function(){if(Jm)return Zm;Jm=1;var e=cm();return Zm=function(t,n){return function(r,a){if(null==r)return r;if(!e(r))return t(r,a);for(var o=r.length,i=n?o:-1,s=Object(r);(n?i--:++i<o)&&!1!==a(s[i],i,s););return r}}}()(e);return eg=t}function Lg(){if(rg)return ng;rg=1;var e=_g(),t=cm();return ng=function(n,r){var a=-1,o=t(n)?Array(n.length):[];return e(n,function(e,t,n){o[++a]=r(e,t,n)}),o}}function zg(){if(cg)return lg;cg=1;var e=function(){if(sg)return ig;sg=1;var e=Nl();return ig=function(t,n){if(t!==n){var r=void 0!==t,a=null===t,o=t==t,i=e(t),s=void 0!==n,l=null===n,c=n==n,u=e(n);if(!l&&!u&&!i&&t>n||i&&s&&c&&!l&&!u||a&&s&&c||!r&&c||!o)return 1;if(!a&&!i&&!u&&t<n||u&&r&&o&&!a&&!i||l&&r&&o||!s&&o||!c)return-1}return 0}}();return lg=function(t,n,r){for(var a=-1,o=t.criteria,i=n.criteria,s=o.length,l=r.length;++a<s;){var c=e(o[a],i[a]);if(c)return a>=l?c:c*("desc"==r[a]?-1:1)}return t.index-n.index}}function Bg(){if(dg)return ug;dg=1;var e=Kl(),t=Zl(),n=Cm(),r=Lg(),a=og?ag:(og=1,ag=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}),o=Tf(),i=zg(),s=xm(),l=Al();return ug=function(c,u,d){u=u.length?e(u,function(e){return l(e)?function(n){return t(n,1===e.length?e[0]:e)}:e}):[s];var p=-1;u=e(u,o(n));var f=r(c,function(t,n,r){return{criteria:e(u,function(e){return e(t)}),index:++p,value:t}});return a(f,function(e,t){return i(e,t,d)})}}function Fg(){if(mg)return hg;mg=1;var e=fg?pg:(fg=1,pg=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}),t=Math.max;return hg=function(n,r,a){return r=t(void 0===r?n.length-1:r,0),function(){for(var o=arguments,i=-1,s=t(o.length-r,0),l=Array(s);++i<s;)l[i]=o[r+i];i=-1;for(var c=Array(r+1);++i<r;)c[i]=o[i];return c[r]=a(l),e(n,this,c)}},hg}function Ug(){if(bg)return vg;bg=1;var e=Ll(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(n){}}();return vg=t}function qg(){if(wg)return xg;wg=1;var e=yg?gg:(yg=1,gg=function(e){return function(){return e}}),t=Ug(),n=xm();return xg=t?function(n,r){return t(n,"toString",{configurable:!0,enumerable:!1,value:e(r),writable:!0})}:n}function Hg(){if(Ag)return kg;Ag=1;var e=qg(),t=function(){if(jg)return Cg;jg=1;var e=Date.now;return Cg=function(t){var n=0,r=0;return function(){var a=e(),o=16-(a-r);if(r=a,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}},Cg}(),n=t(e);return kg=n}function Wg(){if(Eg)return Tg;Eg=1;var e=Fl(),t=cm(),n=Sf(),r=Il();return Tg=function(a,o,i){if(!r(i))return!1;var s=typeof o;return!!("number"==s?t(i)&&n(o,i.length):"string"==s&&o in i)&&e(i[o],a)}}zm(Pg,"displayName","Legend"),zm(Pg,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});const Vg=kl(function(){if(Ng)return Mg;Ng=1;var e=Ig(),t=Bg(),n=function(){if(Og)return Sg;Og=1;var e=xm(),t=Fg(),n=Hg();return Sg=function(r,a){return n(t(r,a,e),r+"")}}(),r=Wg(),a=n(function(n,a){if(null==n)return[];var o=a.length;return o>1&&r(n,a[0],a[1])?a=[]:o>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(n,e(a,1),[])});return Mg=a}());function $g(e){return($g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gg.apply(this,arguments)}function Kg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yg(Object(n),!0).forEach(function(t){Zg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zg(e,t,n){var r;return r=function(e,t){if("object"!=$g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=$g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==$g(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jg(e){return Array.isArray(e)&&Sc(e[0])&&Sc(e[1])?e.join(" ~ "):e}var ey=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,a=void 0===r?{}:r,i=e.itemStyle,s=void 0===i?{}:i,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,p=e.itemSorter,f=e.wrapperClassName,h=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,b=Qg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=Qg({margin:0},c),w=!rc(m),C=w?m:"",j=Si("recharts-default-tooltip",f),k=Si("recharts-tooltip-label",h);w&&g&&null!=u&&(C=g(m,u));var A=v?{role:"status","aria-live":"assertive"}:{};return o.createElement("div",Gg({className:j,style:b},A),o.createElement("p",{className:k,style:x},o.isValidElement(C)?C:"".concat(C)),function(){if(u&&u.length){var e=(p?Vg(u,p):u).map(function(e,t){if("none"===e.type)return null;var r=Qg({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),a=e.formatter||d||Jg,i=e.value,l=e.name,c=i,p=l;if(a&&null!=c&&null!=p){var f=a(i,l,e,t,u);if(Array.isArray(f)){var h=Kg(f,2);c=h[0],p=h[1]}else c=f}return o.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},Sc(p)?o.createElement("span",{className:"recharts-tooltip-item-name"},p):null,Sc(p)?o.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,o.createElement("span",{className:"recharts-tooltip-item-value"},c),o.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return o.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function ty(e){return(ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ny(e,t,n){var r;return r=function(e,t){if("object"!=ty(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=ty(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ty(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ry="recharts-tooltip-wrapper",ay={visibility:"hidden"};function oy(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Si(ry,ny(ny(ny(ny({},"".concat(ry,"-right"),Ac(n)&&t&&Ac(t.x)&&n>=t.x),"".concat(ry,"-left"),Ac(n)&&t&&Ac(t.x)&&n<t.x),"".concat(ry,"-bottom"),Ac(r)&&t&&Ac(t.y)&&r>=t.y),"".concat(ry,"-top"),Ac(r)&&t&&Ac(t.y)&&r<t.y))}function iy(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&Ac(o[r]))return o[r];var u=n[r]-s-a,d=n[r]+a;return t[r]?i[r]?u:d:i[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function sy(e){return(sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ly(Object(n),!0).forEach(function(t){my(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uy(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gy(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dy(e,t,n){return t=fy(t),function(e,t){if(t&&("object"===sy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,py()?Reflect.construct(t,n||[],fy(e).constructor):t.apply(e,n))}function py(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(py=function(){return!!e})()}function fy(e){return(fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hy(e,t){return(hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function my(e,t,n){return(t=gy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gy(e){var t=function(e,t){if("object"!=sy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=sy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==sy(t)?t:t+""}var yy=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return my(e=dy(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),my(e,"handleKeyDown",function(t){var n,r,a,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(a=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==a?a:0}})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hy(e,t)}(t,e),uy(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,s=t.children,l=t.coordinate,c=t.hasPayload,u=t.isAnimationActive,d=t.offset,p=t.position,f=t.reverseDirection,h=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,a=e.coordinate,o=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=iy({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:o,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=iy({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:o,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):ay,cssClasses:oy({translateX:t,translateY:n,coordinate:a})}}({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:d,position:p,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:m}),v=y.cssClasses,b=y.cssProperties,x=cy(cy({transition:u&&n?"transform ".concat(a,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return o.createElement("div",{tabIndex:-1,className:v,style:x,ref:function(t){e.wrapperNode=t}},s)}}])}(o.PureComponent),vy=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function by(e){return(by="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xy(Object(n),!0).forEach(function(t){Oy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cy(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ty(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jy(e,t,n){return t=Ay(t),function(e,t){if(t&&("object"===by(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ky()?Reflect.construct(t,n||[],Ay(e).constructor):t.apply(e,n))}function ky(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ky=function(){return!!e})()}function Ay(e){return(Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sy(e,t){return(Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Oy(e,t,n){return(t=Ty(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ty(e){var t=function(e,t){if("object"!=by(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=by(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==by(t)?t:t+""}function Ey(e){return e.dataKey}var My,Ny,Py,Iy,Dy,Ry,_y,Ly,zy,By,Fy,Uy,qy=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jy(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sy(e,t)}(t,e),Cy(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,s=t.content,l=t.coordinate,c=t.filterNull,u=t.isAnimationActive,d=t.offset,p=t.payload,f=t.payloadUniqBy,h=t.position,m=t.reverseDirection,g=t.useTranslate3d,y=t.viewBox,v=t.wrapperStyle,b=null!=p?p:[];c&&b.length&&(b=Tm(p.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),f,Ey));var x=b.length>0;return o.createElement(yy,{allowEscapeViewBox:r,animationDuration:a,animationEasing:i,isAnimationActive:u,active:n,coordinate:l,hasPayload:x,offset:d,position:h,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):"function"==typeof e?o.createElement(e,t):o.createElement(ey,t)}(s,wy(wy({},this.props),{},{payload:b})))}}])}(o.PureComponent);function Hy(){if(Ry)return Dy;Ry=1;var e=function(){if(Iy)return Py;Iy=1;var e=/\s/;return Py=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}}(),t=/^\s+/;return Dy=function(n){return n?n.slice(0,e(n)+1).replace(t,""):n}}function Wy(){if(Ly)return _y;Ly=1;var e=Hy(),t=Il(),n=Nl(),r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,i=parseInt;return _y=function(s){if("number"==typeof s)return s;if(n(s))return NaN;if(t(s)){var l="function"==typeof s.valueOf?s.valueOf():s;s=t(l)?l+"":l}if("string"!=typeof s)return 0===s?s:+s;s=e(s);var c=a.test(s);return c||o.test(s)?i(s.slice(2),c?2:8):r.test(s)?NaN:+s}}function Vy(){if(By)return zy;By=1;var e=Il(),t=function(){if(Ny)return My;Ny=1;var e=Ol();return My=function(){return e.Date.now()}}(),n=Wy(),r=Math.max,a=Math.min;return zy=function(o,i,s){var l,c,u,d,p,f,h=0,m=!1,g=!1,y=!0;if("function"!=typeof o)throw new TypeError("Expected a function");function v(e){var t=l,n=c;return l=c=void 0,h=e,d=o.apply(n,t)}function b(e){var t=e-f;return void 0===f||t>=i||t<0||g&&e-h>=u}function x(){var e=t();if(b(e))return w(e);p=setTimeout(x,function(e){var t=i-(e-f);return g?a(t,u-(e-h)):t}(e))}function w(e){return p=void 0,y&&l?v(e):(l=c=void 0,d)}function C(){var e=t(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===p)return function(e){return h=e,p=setTimeout(x,i),m?v(e):d}(f);if(g)return clearTimeout(p),p=setTimeout(x,i),v(f)}return void 0===p&&(p=setTimeout(x,i)),d}return i=n(i)||0,e(s)&&(m=!!s.leading,u=(g="maxWait"in s)?r(n(s.maxWait)||0,i):u,y="trailing"in s?!!s.trailing:y),C.cancel=function(){void 0!==p&&clearTimeout(p),h=0,l=f=c=p=void 0},C.flush=function(){return void 0===p?d:w(t())},C},zy}Oy(qy,"displayName","Tooltip"),Oy(qy,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!vy,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});const $y=kl(function(){if(Uy)return Fy;Uy=1;var e=Vy(),t=Il();return Fy=function(n,r,a){var o=!0,i=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return t(a)&&(o="leading"in a?!!a.leading:o,i="trailing"in a?!!a.trailing:i),e(n,r,{leading:o,maxWait:r,trailing:i})}}());function Gy(e){return(Gy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ky(Object(n),!0).forEach(function(t){Yy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ky(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Yy(e,t,n){var r;return r=function(e,t){if("object"!=Gy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Gy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Gy(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jy=o.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=void 0===r?{width:-1,height:-1}:r,i=e.width,s=void 0===i?"100%":i,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,p=e.minHeight,f=e.maxHeight,h=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,b=e.onResize,x=e.style,w=void 0===x?{}:x,C=o.useRef(null),j=o.useRef();j.current=b,o.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return C.current},configurable:!0})});var k=Qy(o.useState({containerWidth:a.width,containerHeight:a.height}),2),A=k[0],S=k[1],O=o.useCallback(function(e,t){S(function(n){var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);o.useEffect(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,a=n.height;O(r,a),null===(t=j.current)||void 0===t||t.call(j,r,a)};g>0&&(e=$y(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=C.current.getBoundingClientRect(),r=n.width,a=n.height;return O(r,a),t.observe(C.current),function(){t.disconnect()}},[O,g]);var T=o.useMemo(function(){var e=A.containerWidth,t=A.containerHeight;if(e<0||t<0)return null;Nu(kc(s)||kc(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),Nu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=kc(s)?e:s,a=kc(c)?t:c;n&&n>0&&(r?a=r/n:a&&(r=a*n),f&&a>f&&(a=f)),Nu(r>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,a,s,c,d,p,n);var i=!Array.isArray(h)&&Gc(h.type).endsWith("Chart");return o.Children.map(h,function(e){return o.isValidElement(e)?o.cloneElement(e,Xy({width:r,height:a},i?{style:Xy({height:"100%",width:"100%",maxHeight:a,maxWidth:r},e.props.style)}:{})):e})},[n,h,c,f,p,d,A,s]);return o.createElement("div",{id:y?"".concat(y):void 0,className:Si("recharts-responsive-container",v),style:Xy(Xy({},w),{},{width:s,height:c,minWidth:d,minHeight:p,maxHeight:f}),ref:C},T)}),ev=function(e){return null};function tv(e){return(tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nv(Object(n),!0).forEach(function(t){av(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function av(e,t,n){var r;return r=function(e,t){if("object"!=tv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=tv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tv(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ev.displayName="Cell";var ov={widthCache:{},cacheCount:0},iv={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sv="recharts_measurement_span";var lv=function(e){if(null==e||vy)return{width:0,height:0};var t,n=(t=rv({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t),r=JSON.stringify({text:e,copyStyle:n});if(ov.widthCache[r])return ov.widthCache[r];try{var a=document.getElementById(sv);a||((a=document.createElement("span")).setAttribute("id",sv),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=rv(rv({},iv),n);Object.assign(a.style,o),a.textContent="".concat(e);var i=a.getBoundingClientRect(),s={width:i.width,height:i.height};return ov.widthCache[r]=s,++ov.cacheCount>2e3&&(ov.cacheCount=0,ov.widthCache={}),s}catch(l){return{width:0,height:0}}};function cv(e){return(cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fv(r.key),r)}}function fv(e){var t=function(e,t){if("object"!=cv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=cv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==cv(t)?t:t+""}var hv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gv=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yv=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vv={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},bv=Object.keys(vv),xv="NaN";var wv=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||gv.test(n)||(this.num=NaN,this.unit=""),bv.includes(n)&&(this.num=function(e,t){return e*vv[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=uv(null!==(n=yv.exec(t))&&void 0!==n?n:[],3),a=r[1],o=r[2];return new e(parseFloat(a),null!=o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&pv(t.prototype,n),r&&pv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Cv(e){if(e.includes(xv))return xv;for(var t=e;t.includes("*")||t.includes("/");){var n,r=uv(null!==(n=hv.exec(t))&&void 0!==n?n:[],4),a=r[1],o=r[2],i=r[3],s=wv.parse(null!=a?a:""),l=wv.parse(null!=i?i:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return xv;t=t.replace(hv,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=uv(null!==(u=mv.exec(t))&&void 0!==u?u:[],4),p=d[1],f=d[2],h=d[3],m=wv.parse(null!=p?p:""),g=wv.parse(null!=h?h:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return xv;t=t.replace(mv,y.toString())}return t}var jv=/\(([^()]*)\)/;function kv(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=uv(jv.exec(t),2)[1];t=t.replace(jv,Cv(n))}return t}(t),t=Cv(t)}function Av(e){var t=function(e){try{return kv(e)}catch(t){return xv}}(e.slice(5,-1));return t===xv?"":t}var Sv=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ov=["dx","dy","angle","className","breakAll"];function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tv.apply(this,arguments)}function Ev(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Mv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pv=/[ \f\n\r\t\v\u2028\u2029]+/,Iv=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var a=[];return rc(t)||(a=n?t.toString().split(""):t.toString().split(Pv)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:lv(e,r).width}}),spaceWidth:n?0:lv(" ",r).width}}catch(o){return null}},Dv=function(e){return[{words:rc(e)?[]:e.toString().split(Pv)}]},Rv=function(e){var t=e.width,n=e.scaleToFit,r=e.children,a=e.style,o=e.breakAll,i=e.maxLines;if((t||n)&&!vy){var s=Iv({breakAll:o,children:r,style:a});return s?function(e,t,n,r,a){var o=e.maxLines,i=e.children,s=e.style,l=e.breakAll,c=Ac(o),u=i,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var o=t.word,i=t.width,s=e[e.length-1];if(s&&(null==r||a||s.width+i+n<Number(r)))s.words.push(o),s.width+=i+n;else{var l={words:[o],width:i};e.push(l)}return e},[])},p=d(t);if(!c)return p;for(var f,h=function(e){var t=u.slice(0,e),n=Iv({breakAll:l,style:s,children:t+"…"}).wordsWithComputedWidth,a=d(n),i=a.length>o||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(r);return[i,a]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),b=Mv(h(v-1),2),x=b[0],w=b[1],C=Mv(h(v),1)[0];if(x||C||(m=v+1),x&&C&&(g=v-1),!x&&C){f=w;break}y++}return f||p}({breakAll:o,children:r,maxLines:i,style:a},s.wordsWithComputedWidth,s.spaceWidth,t,n):Dv(r)}return Dv(r)},_v="#808080",Lv=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,a=void 0===r?0:r,i=e.lineHeight,s=void 0===i?"1em":i,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,p=e.textAnchor,f=void 0===p?"start":p,h=e.verticalAnchor,m=void 0===h?"end":h,g=e.fill,y=void 0===g?_v:g,v=Ev(e,Sv),b=o.useMemo(function(){return Rv({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),x=v.dx,w=v.dy,C=v.angle,j=v.className,k=v.breakAll,A=Ev(v,Ov);if(!Sc(n)||!Sc(a))return null;var S,O=n+(Ac(x)?x:0),T=a+(Ac(w)?w:0);switch(m){case"start":S=Av("calc(".concat(c,")"));break;case"middle":S=Av("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:S=Av("calc(".concat(b.length-1," * -").concat(s,")"))}var E=[];if(d){var M=b[0].width,N=v.width;E.push("scale(".concat((Ac(N)?N/M:1)/M,")"))}return C&&E.push("rotate(".concat(C,", ").concat(O,", ").concat(T,")")),E.length&&(A.transform=E.join(" ")),o.createElement("text",Tv({},nu(A,!0),{x:O,y:T,className:Si("recharts-text",j),textAnchor:f,fill:y.includes("url")?_v:y}),b.map(function(e,t){var n=e.words.join(k?"":" ");return o.createElement("tspan",{x:O,dy:0===t?S:s,key:"".concat(n,"-").concat(t)},n)}))};function zv(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Bv(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fv(e){let t,n,r;function a(e,r,a=0,o=e.length){if(a<o){if(0!==t(r,r))return o;do{const t=a+o>>>1;n(e[t],r)<0?a=t+1:o=t}while(a<o)}return a}return 2!==e.length?(t=zv,n=(t,n)=>zv(e(t),n),r=(t,n)=>e(t)-n):(t=e===zv||e===Bv?e:Uv,n=e,r=e),{left:a,center:function(e,t,n=0,o=e.length){const i=a(e,t,n,o-1);return i>n&&r(e[i-1],t)>-r(e[i],t)?i-1:i},right:function(e,r,a=0,o=e.length){if(a<o){if(0!==t(r,r))return o;do{const t=a+o>>>1;n(e[t],r)<=0?a=t+1:o=t}while(a<o)}return a}}}function Uv(){return 0}function qv(e){return null===e?NaN:+e}const Hv=Fv(zv).right;Fv(qv).center;class Wv extends Map{constructor(e,t=$v){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Vv(this,e))}has(e){return super.has(Vv(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function Vv({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function $v(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Gv(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const Kv=Math.sqrt(50),Xv=Math.sqrt(10),Yv=Math.sqrt(2);function Qv(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),i=o>=Kv?10:o>=Xv?5:o>=Yv?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Qv(e,t,2*n):[s,l,c]}function Zv(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,o,i]=r?Qv(t,e,n):Qv(e,t,n);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(r)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function Jv(e,t,n){return Qv(e=+e,t=+t,n=+n)[2]}function eb(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?Jv(t,e,n):Jv(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function tb(e,t){let n;for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);return n}function nb(e,t){let n;for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);return n}function rb(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?Gv:function(e=zv){if(e===zv)return Gv;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(a);r>n;){if(r-n>600){const o=r-n+1,i=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(i-o/2<0?-1:1);rb(e,t,Math.max(n,Math.floor(t-i*l/o+c)),Math.min(r,Math.floor(t+(o-i)*l/o+c)),a)}const o=e[t];let i=n,s=r;for(ab(e,n,t),a(e[r],o)>0&&ab(e,n,r);i<s;){for(ab(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}0===a(e[n],o)?ab(e,n,s):(++s,ab(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function ab(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ob(e,t,n=qv){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,o=Math.floor(a),i=+n(e[o],o,e);return i+(+n(e[o+1],o+1,e)-i)*(a-o)}}function ib(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function sb(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const lb=Symbol("implicit");function cb(){var e=new Wv,t=[],n=[],r=lb;function a(a){let o=e.get(a);if(void 0===o){if(r!==lb)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Wv;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return cb(t,n).unknown(r)},ib.apply(a,arguments),a}function ub(){var e,t,n=cb().unknown(void 0),r=n.domain,a=n.range,o=0,i=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=i<o,p=d?i:o,f=d?o:i;e=(f-p)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),p+=(f-p-e*(n-l))*u,t=e*(1-l),s&&(p=Math.round(p),t=Math.round(t));var h=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(a);++r<a;)o[r]=e+r*n;return o}(n).map(function(t){return p+e*t});return a(d?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,i]=e,o=+o,i=+i,d()):[o,i]},n.rangeRound=function(e){return[o,i]=e,o=+o,i=+i,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return ub(r(),[o,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},ib.apply(d(),arguments)}function db(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return db(t())},e}function pb(){return db(ub.apply(null,arguments).paddingInner(1))}function fb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function hb(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mb(){}var gb=.7,yb=1/gb,vb="\\s*([+-]?\\d+)\\s*",bb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wb=/^#([0-9a-f]{3,8})$/,Cb=new RegExp(`^rgb\\(${vb},${vb},${vb}\\)$`),jb=new RegExp(`^rgb\\(${xb},${xb},${xb}\\)$`),kb=new RegExp(`^rgba\\(${vb},${vb},${vb},${bb}\\)$`),Ab=new RegExp(`^rgba\\(${xb},${xb},${xb},${bb}\\)$`),Sb=new RegExp(`^hsl\\(${bb},${xb},${xb}\\)$`),Ob=new RegExp(`^hsla\\(${bb},${xb},${xb},${bb}\\)$`),Tb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Eb(){return this.rgb().formatHex()}function Mb(){return this.rgb().formatRgb()}function Nb(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wb.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Pb(t):3===n?new Rb(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ib(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ib(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Cb.exec(e))?new Rb(t[1],t[2],t[3],1):(t=jb.exec(e))?new Rb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=kb.exec(e))?Ib(t[1],t[2],t[3],t[4]):(t=Ab.exec(e))?Ib(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Sb.exec(e))?Ub(t[1],t[2]/100,t[3]/100,1):(t=Ob.exec(e))?Ub(t[1],t[2]/100,t[3]/100,t[4]):Tb.hasOwnProperty(e)?Pb(Tb[e]):"transparent"===e?new Rb(NaN,NaN,NaN,0):null}function Pb(e){return new Rb(e>>16&255,e>>8&255,255&e,1)}function Ib(e,t,n,r){return r<=0&&(e=t=n=NaN),new Rb(e,t,n,r)}function Db(e,t,n,r){return 1===arguments.length?((a=e)instanceof mb||(a=Nb(a)),a?new Rb((a=a.rgb()).r,a.g,a.b,a.opacity):new Rb):new Rb(e,t,n,null==r?1:r);var a}function Rb(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function _b(){return`#${Fb(this.r)}${Fb(this.g)}${Fb(this.b)}`}function Lb(){const e=zb(this.opacity);return`${1===e?"rgb(":"rgba("}${Bb(this.r)}, ${Bb(this.g)}, ${Bb(this.b)}${1===e?")":`, ${e})`}`}function zb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bb(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fb(e){return((e=Bb(e))<16?"0":"")+e.toString(16)}function Ub(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hb(e,t,n,r)}function qb(e){if(e instanceof Hb)return new Hb(e.h,e.s,e.l,e.opacity);if(e instanceof mb||(e=Nb(e)),!e)return new Hb;if(e instanceof Hb)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,s=o-a,l=(o+a)/2;return s?(i=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new Hb(i,s,l,e.opacity)}function Hb(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Wb(e){return(e=(e||0)%360)<0?e+360:e}function Vb(e){return Math.max(0,Math.min(1,e||0))}function $b(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}fb(mb,Nb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Eb,formatHex:Eb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return qb(this).formatHsl()},formatRgb:Mb,toString:Mb}),fb(Rb,Db,hb(mb,{brighter(e){return e=null==e?yb:Math.pow(yb,e),new Rb(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?gb:Math.pow(gb,e),new Rb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rb(Bb(this.r),Bb(this.g),Bb(this.b),zb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_b,formatHex:_b,formatHex8:function(){return`#${Fb(this.r)}${Fb(this.g)}${Fb(this.b)}${Fb(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Lb,toString:Lb})),fb(Hb,function(e,t,n,r){return 1===arguments.length?qb(e):new Hb(e,t,n,null==r?1:r)},hb(mb,{brighter(e){return e=null==e?yb:Math.pow(yb,e),new Hb(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?gb:Math.pow(gb,e),new Hb(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Rb($b(e>=240?e-240:e+120,a,r),$b(e,a,r),$b(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Hb(Wb(this.h),Vb(this.s),Vb(this.l),zb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zb(this.opacity);return`${1===e?"hsl(":"hsla("}${Wb(this.h)}, ${100*Vb(this.s)}%, ${100*Vb(this.l)}%${1===e?")":`, ${e})`}`}}));const Gb=e=>()=>e;function Kb(e){return 1===(e=+e)?Xb:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Gb(isNaN(t)?n:t)}}function Xb(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Gb(isNaN(e)?t:e)}const Yb=function e(t){var n=Kb(t);function r(e,t){var r=n((e=Db(e)).r,(t=Db(t)).r),a=n(e.g,t.g),o=n(e.b,t.b),i=Xb(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=o(t),e.opacity=i(t),e+""}}return r.gamma=e,r}(1);function Qb(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(o){for(n=0;n<r;++n)a[n]=e[n]*(1-o)+t[n]*o;return a}}function Zb(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,o=new Array(a),i=new Array(r);for(n=0;n<a;++n)o[n]=ox(e[n],t[n]);for(;n<r;++n)i[n]=t[n];return function(e){for(n=0;n<a;++n)i[n]=o[n](e);return i}}function Jb(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ex(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function tx(e,t){var n,r={},a={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=ox(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var nx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rx=new RegExp(nx.source,"g");function ax(e,t){var n,r,a,o=nx.lastIndex=rx.lastIndex=0,i=-1,s=[],l=[];for(e+="",t+="";(n=nx.exec(e))&&(r=rx.exec(t));)(a=r.index)>o&&(a=t.slice(o,a),s[i]?s[i]+=a:s[++i]=a),(n=n[0])===(r=r[0])?s[i]?s[i]+=r:s[++i]=r:(s[++i]=null,l.push({i:i,x:ex(n,r)})),o=rx.lastIndex;return o<t.length&&(a=t.slice(o),s[i]?s[i]+=a:s[++i]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function ox(e,t){var n,r,a=typeof t;return null==t||"boolean"===a?Gb(t):("number"===a?ex:"string"===a?(n=Nb(t))?(t=n,Yb):ax:t instanceof Nb?Yb:t instanceof Date?Jb:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Zb:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?tx:ex:Qb))(e,t)}function ix(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function sx(e){return+e}var lx=[0,1];function cx(e){return e}function ux(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function dx(e,t,n){var r=e[0],a=e[1],o=t[0],i=t[1];return a<r?(r=ux(a,r),o=n(i,o)):(r=ux(r,a),o=n(o,i)),function(e){return o(r(e))}}function px(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),o=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)a[i]=ux(e[i],e[i+1]),o[i]=n(t[i],t[i+1]);return function(t){var n=Hv(e,t,1,r)-1;return o[n](a[n](t))}}function fx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hx(){var e,t,n,r,a,o,i=lx,s=lx,l=ox,c=cx;function u(){var e,t,n,l=Math.min(i.length,s.length);return c!==cx&&(e=i[0],t=i[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?px:dx,a=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(i.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(s,i.map(e),ex)))(n)))},d.domain=function(e){return arguments.length?(i=Array.from(e,sx),u()):i.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=ix,u()},d.clamp=function(e){return arguments.length?(c=!!e||cx,u()):c!==cx},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function mx(){return hx()(cx,cx)}function gx(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function yx(e){return(e=gx(Math.abs(e)))?e[1]:NaN}var vx,bx=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xx(e){if(!(t=bx.exec(e)))throw new Error("invalid format: "+e);var t;return new wx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function wx(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Cx(e,t){var n=gx(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}xx.prototype=wx.prototype,wx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const jx={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Cx(100*e,t),r:Cx,s:function(e,t){var n=gx(e,t);if(!n)return e+"";var r=n[0],a=n[1],o=a-(vx=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+gx(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kx(e){return e}var Ax,Sx,Ox,Tx=Array.prototype.map,Ex=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Mx(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?kx:(t=Tx.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,o=[],i=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(a-=s,a+s)),!((l+=s+1)>r));)s=t[i=(i+1)%t.length];return o.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?kx:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Tx.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=xx(e)).fill,n=e.align,d=e.sign,p=e.symbol,f=e.zero,h=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):jx[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===p?a:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===p?o:/[%p]/.test(v)?l:"",w=jx[v],C=/[defgprs%]/.test(v);function j(e){var a,o,l,p=b,j=x;if("c"===v)j=w(e)+j,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==d&&(k=!1),p=(k?"("===d?d:c:"-"===d||"("===d?"":d)+p,j=("s"===v?Ex[8+vx/3]:"")+j+(k&&"("===d?")":""),C)for(a=-1,o=e.length;++a<o;)if(48>(l=e.charCodeAt(a))||l>57){j=(46===l?i+e.slice(a+1):e.slice(a))+j,e=e.slice(0,a);break}}m&&!f&&(e=r(e,1/0));var A=p.length+e.length+j.length,S=A<h?new Array(h-A+1).join(t):"";switch(m&&f&&(e=r(S+e,S.length?h-j.length:1/0),S=""),n){case"<":e=p+e+j+S;break;case"=":e=p+S+e+j;break;case"^":e=S.slice(0,A=S.length>>1)+p+e+j+S.slice(A);break;default:e=S+p+e+j}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),j.toString=function(){return e+""},j}return{format:d,formatPrefix:function(e,t){var n=d(((e=xx(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(yx(t)/3))),a=Math.pow(10,-r),o=Ex[8+r/3];return function(e){return n(a*e)+o}}}}function Nx(e,t,n,r){var a,o=eb(e,t,n);switch((r=xx(null==r?",f":r)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(yx(t)/3)))-yx(Math.abs(e)))}(o,i))||(r.precision=a),Ox(r,i);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yx(t)-yx(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-yx(Math.abs(e)))}(o))||(r.precision=a-2*("%"===r.type))}return Sx(r)}function Px(e){var t=e.domain;return e.ticks=function(e){var n=t();return Zv(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Nx(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,o=t(),i=0,s=o.length-1,l=o[i],c=o[s],u=10;for(c<l&&(a=l,l=c,c=a,a=i,i=s,s=a);u-- >0;){if((a=Jv(l,c,n))===r)return o[i]=l,o[s]=c,t(o);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function Ix(){var e=mx();return e.copy=function(){return fx(e,Ix())},ib.apply(e,arguments),Px(e)}function Dx(e,t){var n,r=0,a=(e=e.slice()).length-1,o=e[r],i=e[a];return i<o&&(n=r,r=a,a=n,n=o,o=i,i=n),e[r]=t.floor(o),e[a]=t.ceil(i),e}function Rx(e){return Math.log(e)}function _x(e){return Math.exp(e)}function Lx(e){return-Math.log(-e)}function zx(e){return-Math.exp(-e)}function Bx(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Fx(e){return(t,n)=>-e(-t,n)}function Ux(e){const t=e(Rx,_x),n=t.domain;let r,a,o=10;function i(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),a=function(e){return 10===e?Bx:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=Fx(r),a=Fx(a),e(Lx,zx)):e(Rx,_x),t}return t.base=function(e){return arguments.length?(o=+e,i()):o},t.domain=function(e){return arguments.length?(n(e),i()):n()},t.ticks=e=>{const t=n();let i=t[0],s=t[t.length-1];const l=s<i;l&&([i,s]=[s,i]);let c,u,d=r(i),p=r(s);const f=null==e?10:+e;let h=[];if(!(o%1)&&p-d<f){if(d=Math.floor(d),p=Math.ceil(p),i>0){for(;d<=p;++d)for(c=1;c<o;++c)if(u=d<0?c/a(-d):c*a(d),!(u<i)){if(u>s)break;h.push(u)}}else for(;d<=p;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<i)){if(u>s)break;h.push(u)}2*h.length<f&&(h=Zv(i,s,f))}else h=Zv(d,p,Math.min(p-d,f)).map(a);return l?h.reverse():h},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=xx(n)).precision||(n.trim=!0),n=Sx(n)),e===1/0)return n;const i=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=i?n(e):""}},t.nice=()=>n(Dx(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function qx(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Hx(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wx(e){var t=1,n=e(qx(t),Hx(t));return n.constant=function(n){return arguments.length?e(qx(t=+n),Hx(t)):t},Px(n)}function Vx(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $x(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Gx(e){return e<0?-e*e:e*e}function Kx(e){var t=e(cx,cx),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(cx,cx):.5===n?e($x,Gx):e(Vx(n),Vx(1/n)):n},Px(t)}function Xx(){var e=Kx(hx());return e.copy=function(){return fx(e,Xx()).exponent(e.exponent())},ib.apply(e,arguments),e}function Yx(e){return Math.sign(e)*e*e}Ax=Mx({thousands:",",grouping:[3],currency:["$",""]}),Sx=Ax.format,Ox=Ax.formatPrefix;const Qx=new Date,Zx=new Date;function Jx(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,o)=>{const i=[];if(n=a.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return i;let s;do{i.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return i},a.filter=n=>Jx(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(Qx.setTime(+t),Zx.setTime(+r),e(Qx),e(Zx),Math.floor(n(Qx,Zx))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const ew=Jx(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ew.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Jx(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ew:null),ew.range;const tw=1e3,nw=6e4,rw=36e5,aw=864e5,ow=6048e5,iw=2592e6,sw=31536e6,lw=Jx(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*tw)},(e,t)=>(t-e)/tw,e=>e.getUTCSeconds());lw.range;const cw=Jx(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tw)},(e,t)=>{e.setTime(+e+t*nw)},(e,t)=>(t-e)/nw,e=>e.getMinutes());cw.range;const uw=Jx(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*nw)},(e,t)=>(t-e)/nw,e=>e.getUTCMinutes());uw.range;const dw=Jx(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tw-e.getMinutes()*nw)},(e,t)=>{e.setTime(+e+t*rw)},(e,t)=>(t-e)/rw,e=>e.getHours());dw.range;const pw=Jx(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rw)},(e,t)=>(t-e)/rw,e=>e.getUTCHours());pw.range;const fw=Jx(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nw)/aw,e=>e.getDate()-1);fw.range;const hw=Jx(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/aw,e=>e.getUTCDate()-1);hw.range;const mw=Jx(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/aw,e=>Math.floor(e/aw));function gw(e){return Jx(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nw)/ow)}mw.range;const yw=gw(0),vw=gw(1),bw=gw(2),xw=gw(3),ww=gw(4),Cw=gw(5),jw=gw(6);function kw(e){return Jx(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/ow)}yw.range,vw.range,bw.range,xw.range,ww.range,Cw.range,jw.range;const Aw=kw(0),Sw=kw(1),Ow=kw(2),Tw=kw(3),Ew=kw(4),Mw=kw(5),Nw=kw(6);Aw.range,Sw.range,Ow.range,Tw.range,Ew.range,Mw.range,Nw.range;const Pw=Jx(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());Pw.range;const Iw=Jx(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());Iw.range;const Dw=Jx(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Dw.every=e=>isFinite(e=Math.floor(e))&&e>0?Jx(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,Dw.range;const Rw=Jx(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function _w(e,t,n,r,a,o){const i=[[lw,1,tw],[lw,5,5e3],[lw,15,15e3],[lw,30,3e4],[o,1,nw],[o,5,3e5],[o,15,9e5],[o,30,18e5],[a,1,rw],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,aw],[r,2,1728e5],[n,1,ow],[t,1,iw],[t,3,7776e6],[e,1,sw]];function s(t,n,r){const a=Math.abs(n-t)/r,o=Fv(([,,e])=>e).right(i,a);if(o===i.length)return e.every(eb(t/sw,n/sw,r));if(0===o)return ew.every(Math.max(eb(t,n,r),1));const[s,l]=i[a/i[o-1][2]<i[o][2]/a?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"==typeof n.range?n:s(e,t,n),o=a?a.range(e,+t+1):[];return r?o.reverse():o},s]}Rw.every=e=>isFinite(e=Math.floor(e))&&e>0?Jx(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,Rw.range;const[Lw,zw]=_w(Rw,Iw,Aw,mw,pw,uw),[Bw,Fw]=_w(Dw,Pw,yw,fw,dw,cw);function Uw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hw(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Ww,Vw,$w,Gw={"-":"",_:" ",0:"0"},Kw=/^\s*\d+/,Xw=/^%/,Yw=/[\\^$*+?|[\]().{}]/g;function Qw(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(t)+a:a)}function Zw(e){return e.replace(Yw,"\\$&")}function Jw(e){return new RegExp("^(?:"+e.map(Zw).join("|")+")","i")}function eC(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function tC(e,t,n){var r=Kw.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function nC(e,t,n){var r=Kw.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function rC(e,t,n){var r=Kw.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function aC(e,t,n){var r=Kw.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function oC(e,t,n){var r=Kw.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function iC(e,t,n){var r=Kw.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function sC(e,t,n){var r=Kw.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function lC(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cC(e,t,n){var r=Kw.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function uC(e,t,n){var r=Kw.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function dC(e,t,n){var r=Kw.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function pC(e,t,n){var r=Kw.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function fC(e,t,n){var r=Kw.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function hC(e,t,n){var r=Kw.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function mC(e,t,n){var r=Kw.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function gC(e,t,n){var r=Kw.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function yC(e,t,n){var r=Kw.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vC(e,t,n){var r=Xw.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function bC(e,t,n){var r=Kw.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function xC(e,t,n){var r=Kw.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function wC(e,t){return Qw(e.getDate(),t,2)}function CC(e,t){return Qw(e.getHours(),t,2)}function jC(e,t){return Qw(e.getHours()%12||12,t,2)}function kC(e,t){return Qw(1+fw.count(Dw(e),e),t,3)}function AC(e,t){return Qw(e.getMilliseconds(),t,3)}function SC(e,t){return AC(e,t)+"000"}function OC(e,t){return Qw(e.getMonth()+1,t,2)}function TC(e,t){return Qw(e.getMinutes(),t,2)}function EC(e,t){return Qw(e.getSeconds(),t,2)}function MC(e){var t=e.getDay();return 0===t?7:t}function NC(e,t){return Qw(yw.count(Dw(e)-1,e),t,2)}function PC(e){var t=e.getDay();return t>=4||0===t?ww(e):ww.ceil(e)}function IC(e,t){return e=PC(e),Qw(ww.count(Dw(e),e)+(4===Dw(e).getDay()),t,2)}function DC(e){return e.getDay()}function RC(e,t){return Qw(vw.count(Dw(e)-1,e),t,2)}function _C(e,t){return Qw(e.getFullYear()%100,t,2)}function LC(e,t){return Qw((e=PC(e)).getFullYear()%100,t,2)}function zC(e,t){return Qw(e.getFullYear()%1e4,t,4)}function BC(e,t){var n=e.getDay();return Qw((e=n>=4||0===n?ww(e):ww.ceil(e)).getFullYear()%1e4,t,4)}function FC(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qw(t/60|0,"0",2)+Qw(t%60,"0",2)}function UC(e,t){return Qw(e.getUTCDate(),t,2)}function qC(e,t){return Qw(e.getUTCHours(),t,2)}function HC(e,t){return Qw(e.getUTCHours()%12||12,t,2)}function WC(e,t){return Qw(1+hw.count(Rw(e),e),t,3)}function VC(e,t){return Qw(e.getUTCMilliseconds(),t,3)}function $C(e,t){return VC(e,t)+"000"}function GC(e,t){return Qw(e.getUTCMonth()+1,t,2)}function KC(e,t){return Qw(e.getUTCMinutes(),t,2)}function XC(e,t){return Qw(e.getUTCSeconds(),t,2)}function YC(e){var t=e.getUTCDay();return 0===t?7:t}function QC(e,t){return Qw(Aw.count(Rw(e)-1,e),t,2)}function ZC(e){var t=e.getUTCDay();return t>=4||0===t?Ew(e):Ew.ceil(e)}function JC(e,t){return e=ZC(e),Qw(Ew.count(Rw(e),e)+(4===Rw(e).getUTCDay()),t,2)}function ej(e){return e.getUTCDay()}function tj(e,t){return Qw(Sw.count(Rw(e)-1,e),t,2)}function nj(e,t){return Qw(e.getUTCFullYear()%100,t,2)}function rj(e,t){return Qw((e=ZC(e)).getUTCFullYear()%100,t,2)}function aj(e,t){return Qw(e.getUTCFullYear()%1e4,t,4)}function oj(e,t){var n=e.getUTCDay();return Qw((e=n>=4||0===n?Ew(e):Ew.ceil(e)).getUTCFullYear()%1e4,t,4)}function ij(){return"+0000"}function sj(){return"%"}function lj(e){return+e}function cj(e){return Math.floor(+e/1e3)}function uj(e){return new Date(e)}function dj(e){return e instanceof Date?+e:+new Date(+e)}function pj(e,t,n,r,a,o,i,s,l,c){var u=mx(),d=u.invert,p=u.domain,f=c(".%L"),h=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?h:i(e)<e?m:o(e)<e?g:r(e)<e?a(e)<e?y:v:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?p(Array.from(e,dj)):p().map(uj)},u.ticks=function(t){var n=p();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=p();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?p(Dx(n,e)):u},u.copy=function(){return fx(u,pj(e,t,n,r,a,o,i,s,l,c))},u}function fj(){var e,t,n,r,a,o=0,i=1,s=cx,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([o,i]=a,e=r(o=+o),t=r(i=+i),n=e===t?0:1/(t-e),c):[o,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(ox),c.rangeRound=u(ix),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(o),t=a(i),n=e===t?0:1/(t-e),c}}function hj(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mj(){var e=Kx(fj());return e.copy=function(){return hj(e,mj()).exponent(e.exponent())},sb.apply(e,arguments)}function gj(){var e,t,n,r,a,o,i,s=0,l=.5,c=1,u=1,d=cx,p=!1;function f(e){return isNaN(e=+e)?i:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:a),d(p?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=ox);for(var n=0,r=t.length-1,a=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(i){return arguments.length?([s,l,c]=i,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(p=!!e,f):p},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=h(ox),f.rangeRound=h(ix),f.unknown=function(e){return arguments.length?(i=e,f):i},function(i){return o=i,e=i(s),t=i(l),n=i(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function yj(){var e=Kx(gj());return e.copy=function(){return hj(e,yj()).exponent(e.exponent())},sb.apply(e,arguments)}!function(e){Ww=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=Jw(a),u=eC(a),d=Jw(o),p=eC(o),f=Jw(i),h=eC(i),m=Jw(s),g=eC(s),y=Jw(l),v=eC(l),b={a:function(e){return i[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:wC,e:wC,f:SC,g:LC,G:BC,H:CC,I:jC,j:kC,L:AC,m:OC,M:TC,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:lj,s:cj,S:EC,u:MC,U:NC,V:IC,w:DC,W:RC,x:null,X:null,y:_C,Y:zC,Z:FC,"%":sj},x={a:function(e){return i[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:UC,e:UC,f:$C,g:rj,G:oj,H:qC,I:HC,j:WC,L:VC,m:GC,M:KC,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:lj,s:cj,S:XC,u:YC,U:QC,V:JC,w:ej,W:tj,x:null,X:null,y:nj,Y:aj,Z:ij,"%":sj},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:dC,e:dC,f:yC,g:sC,G:iC,H:fC,I:fC,j:pC,L:gC,m:uC,M:hC,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:cC,Q:bC,s:xC,S:mC,u:nC,U:rC,V:aC,w:tC,W:oC,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:sC,Y:iC,Z:lC,"%":vC};function C(e,t){return function(n){var r,a,o,i=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(i.push(e.slice(l,s)),null!=(a=Gw[r=e.charAt(++s)])?r=e.charAt(++s):a="e"===r?" ":"0",(o=t[r])&&(r=o(n,a)),i.push(r),l=s+1);return i.push(e.slice(l,s)),i.join("")}}function j(e,t){return function(n){var r,a,o=Hw(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(a=(r=qw(Hw(o.y,0,1))).getUTCDay(),r=a>4||0===a?Sw.ceil(r):Sw(r),r=hw.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(a=(r=Uw(Hw(o.y,0,1))).getDay(),r=a>4||0===a?vw.ceil(r):vw(r),r=fw.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),a="Z"in o?qw(Hw(o.y,0,1)).getUTCDay():Uw(Hw(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(a+5)%7:o.w+7*o.U-(a+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,qw(o)):Uw(o)}}function k(e,t,n,r){for(var a,o,i=0,s=t.length,l=n.length;i<s;){if(r>=l)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(o=w[a in Gw?t.charAt(i++):a])||(r=o(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return b.x=C(n,b),b.X=C(r,b),b.c=C(t,b),x.x=C(n,x),x.X=C(r,x),x.c=C(t,x),{format:function(e){var t=C(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=j(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=C(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=j(e+="",!0);return t.toString=function(){return e},t}}}(e),Vw=Ww.format,Ww.parse,$w=Ww.utcFormat,Ww.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const vj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ub,scaleDiverging:function e(){var t=Px(gj()(cx));return t.copy=function(){return hj(t,e())},sb.apply(t,arguments)},scaleDivergingLog:function e(){var t=Ux(gj()).domain([.1,1,10]);return t.copy=function(){return hj(t,e()).base(t.base())},sb.apply(t,arguments)},scaleDivergingPow:yj,scaleDivergingSqrt:function(){return yj.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=Wx(gj());return t.copy=function(){return hj(t,e()).constant(t.constant())},sb.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,sx),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,sx):[0,1],Px(r)},scaleImplicit:lb,scaleLinear:Ix,scaleLog:function e(){const t=Ux(hx()).domain([1,10]);return t.copy=()=>fx(t,e()).base(t.base()),ib.apply(t,arguments),t},scaleOrdinal:cb,scalePoint:pb,scalePow:Xx,scaleQuantile:function e(){var t,n=[],r=[],a=[];function o(){var e=0,t=Math.max(1,r.length);for(a=new Array(t-1);++e<t;)a[e-1]=ob(n,e/t);return i}function i(e){return null==e||isNaN(e=+e)?t:r[Hv(a,e)]}return i.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?a[t-1]:n[0],t<a.length?a[t]:n[n.length-1]]},i.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(zv),o()},i.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.quantiles=function(){return a.slice()},i.copy=function(){return e().domain(n).range(r).unknown(t)},ib.apply(i,arguments)},scaleQuantize:function e(){var t,n=0,r=1,a=1,o=[.5],i=[0,1];function s(e){return null!=e&&e<=e?i[Hv(o,e,0,a)]:t}function l(){var e=-1;for(o=new Array(a);++e<a;)o[e]=((e+1)*r-(e-a)*n)/(a+1);return s}return s.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},s.range=function(e){return arguments.length?(a=(i=Array.from(e)).length-1,l()):i.slice()},s.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=a?[o[a-1],r]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([n,r]).range(i).unknown(t)},ib.apply(Px(s),arguments)},scaleRadial:function e(){var t,n=mx(),r=[0,1],a=!1;function o(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:a?Math.round(r):r}return o.invert=function(e){return n.invert(Yx(e))},o.domain=function(e){return arguments.length?(n.domain(e),o):n.domain()},o.range=function(e){return arguments.length?(n.range((r=Array.from(e,sx)).map(Yx)),o):r.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(a=!!e,o):a},o.clamp=function(e){return arguments.length?(n.clamp(e),o):n.clamp()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e(n.domain(),r).round(a).clamp(n.clamp()).unknown(t)},ib.apply(o,arguments),Px(o)},scaleSequential:function e(){var t=Px(fj()(cx));return t.copy=function(){return hj(t,e())},sb.apply(t,arguments)},scaleSequentialLog:function e(){var t=Ux(fj()).domain([1,10]);return t.copy=function(){return hj(t,e()).base(t.base())},sb.apply(t,arguments)},scaleSequentialPow:mj,scaleSequentialQuantile:function e(){var t=[],n=cx;function r(e){if(null!=e&&!isNaN(e=+e))return n((Hv(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(zv),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map((e,r)=>n(r/(t.length-1)))},r.quantiles=function(e){return Array.from({length:e+1},(n,r)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return nb(e);if(t>=1)return tb(e);var n,r=(n-1)*t,a=Math.floor(r),o=tb(rb(e,a).subarray(0,a+1));return o+(nb(e.subarray(a+1))-o)*(r-a)}}(t,r/e))},r.copy=function(){return e(n).domain(t)},sb.apply(r,arguments)},scaleSequentialSqrt:function(){return mj.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=Wx(fj());return t.copy=function(){return hj(t,e()).constant(t.constant())},sb.apply(t,arguments)},scaleSqrt:function(){return Xx.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=Wx(hx());return t.copy=function(){return fx(t,e()).constant(t.constant())},ib.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],a=1;function o(e){return null!=e&&e<=e?r[Hv(n,e,0,a)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),a=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),a=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},ib.apply(o,arguments)},scaleTime:function(){return ib.apply(pj(Bw,Fw,Dw,Pw,yw,fw,dw,cw,lw,Vw).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return ib.apply(pj(Lw,zw,Rw,Iw,Aw,hw,pw,uw,lw,$w).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:Nx},Symbol.toStringTag,{value:"Module"}));var bj,xj,wj,Cj,jj,kj;function Aj(){if(xj)return bj;xj=1;var e=Nl();return bj=function(t,n,r){for(var a=-1,o=t.length;++a<o;){var i=t[a],s=n(i);if(null!=s&&(void 0===l?s==s&&!e(s):r(s,l)))var l=s,c=i}return c}}const Sj=kl(function(){if(kj)return jj;kj=1;var e=Aj(),t=Cj?wj:(Cj=1,wj=function(e,t){return e>t}),n=xm();return jj=function(r){return r&&r.length?e(r,n,t):void 0}}());var Oj,Tj,Ej,Mj;const Nj=kl(function(){if(Mj)return Ej;Mj=1;var e=Aj(),t=Tj?Oj:(Tj=1,Oj=function(e,t){return e<t}),n=xm();return Ej=function(r){return r&&r.length?e(r,n,t):void 0}}());var Pj,Ij,Dj,Rj;const _j=kl(function(){if(Rj)return Dj;Rj=1;var e=Ig(),t=function(){if(Ij)return Pj;Ij=1;var e=Kl(),t=Cm(),n=Lg(),r=Al();return Pj=function(a,o){return(r(a)?e:n)(a,t(o,3))}}();return Dj=function(n,r){return e(t(n,r),1)}}());var Lj,zj;const Bj=kl(function(){if(zj)return Lj;zj=1;var e=mm();return Lj=function(t,n){return e(t,n)}}());var Fj,Uj=1e9,qj=!0,Hj="[DecimalError] ",Wj=Hj+"Invalid argument: ",Vj=Hj+"Exponent out of range: ",$j=Math.floor,Gj=Math.pow,Kj=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xj=1e7,Yj=9007199254740991,Qj=$j(1286742750677284.5),Zj={};function Jj(e,t){var n,r,a,o,i,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),qj?ck(t,d):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a){for(o<0?(r=l,o=-o,s=c.length):(r=c,a=i,s=l.length),o>(s=(i=Math.ceil(d/7))>s?i+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=l.length)-(o=c.length)<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/Xj|0,l[o]%=Xj;for(n&&(l.unshift(n),++a),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=a,qj?ck(t,d):t}function ek(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Wj+e)}function tk(e){var t,n,r,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(o+=ik(n)),o+=r;(n=7-(r=(i=e[t])+"").length)&&(o+=ik(n))}else if(0===i)return"0";for(;i%10==0;)i/=10;return o+i}Zj.absoluteValue=Zj.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},Zj.comparedTo=Zj.cmp=function(e){var t,n,r,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(a=e.d.length)?r:a;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===a?0:r>a^o.s<0?1:-1},Zj.decimalPlaces=Zj.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},Zj.dividedBy=Zj.div=function(e){return nk(this,new this.constructor(e))},Zj.dividedToIntegerBy=Zj.idiv=function(e){var t=this.constructor;return ck(nk(this,new t(e),0,1),t.precision)},Zj.equals=Zj.eq=function(e){return!this.cmp(e)},Zj.exponent=function(){return ak(this)},Zj.greaterThan=Zj.gt=function(e){return this.cmp(e)>0},Zj.greaterThanOrEqualTo=Zj.gte=function(e){return this.cmp(e)>=0},Zj.isInteger=Zj.isint=function(){return this.e>this.d.length-2},Zj.isNegative=Zj.isneg=function(){return this.s<0},Zj.isPositive=Zj.ispos=function(){return this.s>0},Zj.isZero=function(){return 0===this.s},Zj.lessThan=Zj.lt=function(e){return this.cmp(e)<0},Zj.lessThanOrEqualTo=Zj.lte=function(e){return this.cmp(e)<1},Zj.logarithm=Zj.log=function(e){var t,n=this,r=n.constructor,a=r.precision,o=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(Fj))throw Error(Hj+"NaN");if(n.s<1)throw Error(Hj+(n.s?"NaN":"-Infinity"));return n.eq(Fj)?new r(0):(qj=!1,t=nk(sk(n,o),sk(e,o),o),qj=!0,ck(t,a))},Zj.minus=Zj.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uk(t,e):Jj(t,(e.s=-e.s,e))},Zj.modulo=Zj.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(Hj+"NaN");return n.s?(qj=!1,t=nk(n,e,0,1).times(e),qj=!0,n.minus(t)):ck(new r(n),a)},Zj.naturalExponential=Zj.exp=function(){return rk(this)},Zj.naturalLogarithm=Zj.ln=function(){return sk(this)},Zj.negated=Zj.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},Zj.plus=Zj.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Jj(t,e):uk(t,(e.s=-e.s,e))},Zj.precision=Zj.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Wj+e);if(t=ak(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},Zj.squareRoot=Zj.sqrt=function(){var e,t,n,r,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Hj+"NaN")}for(e=ak(s),qj=!1,0==(a=Math.sqrt(+s))||a==1/0?(((t=tk(s.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=$j((e+1)/2)-(e<0||e%2),r=new l(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(a.toString()),a=i=(n=l.precision)+3;;)if(r=(o=r).plus(nk(s,o,i+2)).times(.5),tk(o.d).slice(0,i)===(t=tk(r.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&"4999"==t){if(ck(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if("9999"!=t)break;i+=4}return qj=!0,ck(r,n)},Zj.times=Zj.mul=function(e){var t,n,r,a,o,i,s,l,c,u=this,d=u.constructor,p=u.d,f=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,(l=p.length)<(c=f.length)&&(o=p,p=f,f=o,i=l,l=c,c=i),o=[],r=i=l+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,a=l+r;a>r;)s=o[a]+f[r]*p[a-r-1]+t,o[a--]=s%Xj|0,t=s/Xj|0;o[a]=(o[a]+t)%Xj|0}for(;!o[--i];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,qj?ck(e,d.precision):e},Zj.toDecimalPlaces=Zj.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(ek(e,0,Uj),void 0===t?t=r.rounding:ek(t,0,8),ck(n,e+ak(n)+1,t))},Zj.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=dk(r,!0):(ek(e,0,Uj),void 0===t?t=a.rounding:ek(t,0,8),n=dk(r=ck(new a(r),e+1,t),!0,e+1)),n},Zj.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?dk(a):(ek(e,0,Uj),void 0===t?t=o.rounding:ek(t,0,8),n=dk((r=ck(new o(a),e+ak(a)+1,t)).abs(),!1,e+ak(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},Zj.toInteger=Zj.toint=function(){var e=this,t=e.constructor;return ck(new t(e),ak(e)+1,t.rounding)},Zj.toNumber=function(){return+this},Zj.toPower=Zj.pow=function(e){var t,n,r,a,o,i,s=this,l=s.constructor,c=+(e=new l(e));if(!e.s)return new l(Fj);if(!(s=new l(s)).s){if(e.s<1)throw Error(Hj+"Infinity");return s}if(s.eq(Fj))return s;if(r=l.precision,e.eq(Fj))return ck(s,r);if(i=(t=e.e)>=(n=e.d.length-1),o=s.s,i){if((n=c<0?-c:c)<=Yj){for(a=new l(Fj),t=Math.ceil(r/7+4),qj=!1;n%2&&pk((a=a.times(s)).d,t),0!==(n=$j(n/2));)pk((s=s.times(s)).d,t);return qj=!0,e.s<0?new l(Fj).div(a):ck(a,r)}}else if(o<0)throw Error(Hj+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,s.s=1,qj=!1,a=e.times(sk(s,r+12)),qj=!0,(a=rk(a)).s=o,a},Zj.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?r=dk(a,(n=ak(a))<=o.toExpNeg||n>=o.toExpPos):(ek(e,1,Uj),void 0===t?t=o.rounding:ek(t,0,8),r=dk(a=ck(new o(a),e,t),e<=(n=ak(a))||n<=o.toExpNeg,e)),r},Zj.toSignificantDigits=Zj.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(ek(e,1,Uj),void 0===t?t=n.rounding:ek(t,0,8)),ck(new n(this),e,t)},Zj.toString=Zj.valueOf=Zj.val=Zj.toJSON=Zj[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ak(e),n=e.constructor;return dk(e,t<=n.toExpNeg||t>=n.toExpPos)};var nk=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%Xj|0,r=n/Xj|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,o;if(n!=r)o=n>r?1:-1;else for(a=o=0;a<n;a++)if(e[a]!=t[a]){o=e[a]>t[a]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*Xj+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,o,i){var s,l,c,u,d,p,f,h,m,g,y,v,b,x,w,C,j,k,A=r.constructor,S=r.s==a.s?1:-1,O=r.d,T=a.d;if(!r.s)return new A(r);if(!a.s)throw Error(Hj+"Division by zero");for(l=r.e-a.e,j=T.length,w=O.length,h=(f=new A(S)).d=[],c=0;T[c]==(O[c]||0);)++c;if(T[c]>(O[c]||0)&&--l,(v=null==o?o=A.precision:i?o+(ak(r)-ak(a))+1:o)<0)return new A(0);if(v=v/7+2|0,c=0,1==j)for(u=0,T=T[0],v++;(c<w||u)&&v--;c++)b=u*Xj+(O[c]||0),h[c]=b/T|0,u=b%T|0;else{for((u=Xj/(T[0]+1)|0)>1&&(T=e(T,u),O=e(O,u),j=T.length,w=O.length),x=j,g=(m=O.slice(0,j)).length;g<j;)m[g++]=0;(k=T.slice()).unshift(0),C=T[0],T[1]>=Xj/2&&++C;do{u=0,(s=t(T,m,j,g))<0?(y=m[0],j!=g&&(y=y*Xj+(m[1]||0)),(u=y/C|0)>1?(u>=Xj&&(u=Xj-1),1==(s=t(d=e(T,u),m,p=d.length,g=m.length))&&(u--,n(d,j<p?k:T,p))):(0==u&&(s=u=1),d=T.slice()),(p=d.length)<g&&d.unshift(0),n(m,d,g),-1==s&&(s=t(T,m,j,g=m.length))<1&&(u++,n(m,j<g?k:T,g)),g=m.length):0===s&&(u++,m=[0]),h[c++]=u,s&&m[0]?m[g++]=O[x]||0:(m=[O[x]],g=1)}while((x++<w||void 0!==m[0])&&v--)}return h[0]||h.shift(),f.e=l,ck(f,i?o+ak(f)+1:o)}}();function rk(e,t){var n,r,a,o,i,s=0,l=0,c=e.constructor,u=c.precision;if(ak(e)>16)throw Error(Vj+ak(e));if(!e.s)return new c(Fj);for(qj=!1,i=u,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(i+=Math.log(Gj(2,l))/Math.LN10*2+5|0,n=r=a=new c(Fj),c.precision=i;;){if(r=ck(r.times(e),i),n=n.times(++s),tk((o=a.plus(nk(r,n,i))).d).slice(0,i)===tk(a.d).slice(0,i)){for(;l--;)a=ck(a.times(a),i);return c.precision=u,null==t?(qj=!0,ck(a,u)):a}a=o}}function ak(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function ok(e,t,n){if(t>e.LN10.sd())throw qj=!0,n&&(e.precision=n),Error(Hj+"LN10 precision limit exceeded");return ck(new e(e.LN10),t)}function ik(e){for(var t="";e--;)t+="0";return t}function sk(e,t){var n,r,a,o,i,s,l,c,u,d=1,p=e,f=p.d,h=p.constructor,m=h.precision;if(p.s<1)throw Error(Hj+(p.s?"NaN":"-Infinity"));if(p.eq(Fj))return new h(0);if(null==t?(qj=!1,c=m):c=t,p.eq(10))return null==t&&(qj=!0),ok(h,c);if(c+=10,h.precision=c,r=(n=tk(f)).charAt(0),o=ak(p),!(Math.abs(o)<15e14))return l=ok(h,c+2,m).times(o+""),p=sk(new h(r+"."+n.slice(1)),c-10).plus(l),h.precision=m,null==t?(qj=!0,ck(p,m)):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=tk((p=p.times(e)).d)).charAt(0),d++;for(o=ak(p),r>1?(p=new h("0."+n),o++):p=new h(r+"."+n.slice(1)),s=i=p=nk(p.minus(Fj),p.plus(Fj),c),u=ck(p.times(p),c),a=3;;){if(i=ck(i.times(u),c),tk((l=s.plus(nk(i,new h(a),c))).d).slice(0,c)===tk(s.d).slice(0,c))return s=s.times(2),0!==o&&(s=s.plus(ok(h,c+2,m).times(o+""))),s=nk(s,new h(d),c),h.precision=m,null==t?(qj=!0,ck(s,m)):s;s=l,a+=2}}function lk(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=$j(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),qj&&(e.e>Qj||e.e<-Qj))throw Error(Vj+n)}else e.s=0,e.e=0,e.d=[0];return e}function ck(e,t,n){var r,a,o,i,s,l,c,u,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if((r=t-i)<0)r+=7,a=t,c=d[u=0];else{if((u=Math.ceil((r+1)/7))>=(o=d.length))return e;for(c=o=d[u],i=1;o>=10;o/=10)i++;a=(r%=7)-7+i}if(void 0!==n&&(s=c/(o=Gj(10,i-a-1))%10|0,l=t<0||void 0!==d[u+1]||c%o,l=n<4?(s||l)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||l||6==n&&(r>0?a>0?c/Gj(10,i-a):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=ak(e),d.length=1,t=t-o-1,d[0]=Gj(10,(7-t%7)%7),e.e=$j(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==r?(d.length=u,o=1,u--):(d.length=u+1,o=Gj(10,7-r),d[u]=a>0?(c/Gj(10,i-a)%Gj(10,a)|0)*o:0),l)for(;;){if(0==u){(d[0]+=o)==Xj&&(d[0]=1,++e.e);break}if(d[u]+=o,d[u]!=Xj)break;d[u--]=0,o=1}for(r=d.length;0===d[--r];)d.pop();if(qj&&(e.e>Qj||e.e<-Qj))throw Error(Vj+ak(e));return e}function uk(e,t){var n,r,a,o,i,s,l,c,u,d,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),qj?ck(t,f):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),i=c-r){for((u=i<0)?(n=l,i=-i,s=d.length):(n=d,r=c,s=l.length),i>(a=Math.max(Math.ceil(f/7),s)+2)&&(i=a,n.length=1),n.reverse(),a=i;a--;)n.push(0);n.reverse()}else{for((u=(a=l.length)<(s=d.length))&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){u=l[a]<d[a];break}i=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>i;){if(l[--a]<d[a]){for(o=a;o&&0===l[--o];)l[o]=Xj-1;--l[o],l[a]+=Xj}l[a]-=d[a]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,qj?ck(t,f):t):new p(0)}function dk(e,t,n){var r,a=ak(e),o=tk(e.d),i=o.length;return t?(n&&(r=n-i)>0?o=o.charAt(0)+"."+o.slice(1)+ik(r):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+ik(-a-1)+o,n&&(r=n-i)>0&&(o+=ik(r))):a>=i?(o+=ik(a+1-i),n&&(r=n-a-1)>0&&(o=o+"."+ik(r))):((r=a+1)<i&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-i)>0&&(a+1===i&&(o+="."),o+=ik(r))),e.s<0?"-"+o:o}function pk(e,t){if(e.length>t)return e.length=t,!0}function fk(e){if(!e||"object"!=typeof e)throw Error(Hj+"Object expected");var t,n,r,a=["precision",1,Uj,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!($j(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(Wj+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(Wj+n+": "+r);this[n]=new this(r)}return this}var hk=function e(t){var n,r,a;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(Wj+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):lk(t,e.toString())}if("string"!=typeof e)throw Error(Wj+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!Kj.test(e))throw Error(Wj+e);lk(t,e)}if(o.prototype=Zj,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=fk,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return o.config(t),o}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});Fj=new hk(1);const mk=hk;function gk(e){return function(e){if(Array.isArray(e))return yk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yk(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vk=function(e){return e},bk={},xk=function(e){return e===bk},wk=function(e){return function t(){return 0===arguments.length||1===arguments.length&&xk(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Ck=function e(t,n){return 1===t?n:wk(function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var i=a.filter(function(e){return e!==bk}).length;return i>=t?n.apply(void 0,a):e(t-i,wk(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=a.map(function(e){return xk(e)?t.shift():e});return n.apply(void 0,gk(o).concat(t))}))})},jk=function(e){return Ck(e.length,e)},kk=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Ak=jk(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),Sk=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Ok=function(e){var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t&&a.every(function(e,n){return e===t[n]})?n:(t=a,n=e.apply(void 0,a))}};const Tk={rangeStep:function(e,t,n){for(var r=new mk(e),a=0,o=[];r.lt(t)&&a<1e5;)o.push(r.toNumber()),r=r.add(n),a++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new mk(e).abs().log(10).toNumber())+1},interpolateNumber:jk(function(e,t,n){var r=+e;return r+n*(+t-r)}),uninterpolateNumber:jk(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),uninterpolateTruncation:jk(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))})};function Ek(e){return function(e){if(Array.isArray(e))return Pk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Nk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||Nk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nk(e,t){if(e){if("string"==typeof e)return Pk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pk(e,t):void 0}}function Pk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ik(e){var t=Mk(e,2),n=t[0],r=t[1],a=n,o=r;return n>r&&(a=r,o=n),[a,o]}function Dk(e,t,n){if(e.lte(0))return new mk(0);var r=Tk.getDigitCount(e.toNumber()),a=new mk(10).pow(r),o=e.div(a),i=1!==r?.05:.1,s=new mk(Math.ceil(o.div(i).toNumber())).add(n).mul(i).mul(a);return t?s:new mk(Math.ceil(s))}function Rk(e,t,n){var r=1,a=new mk(e);if(!a.isint()&&n){var o=Math.abs(e);o<1?(r=new mk(10).pow(Tk.getDigitCount(e)-1),a=new mk(Math.floor(a.div(r).toNumber())).mul(r)):o>1&&(a=new mk(Math.floor(e)))}else 0===e?a=new mk(Math.floor((t-1)/2)):n||(a=new mk(Math.floor(e)));var i=Math.floor((t-1)/2),s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return vk;var r=t.reverse(),a=r[0],o=r.slice(1);return function(){return o.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}}(Ak(function(e){return a.add(new mk(e-i).mul(r)).toNumber()}),kk);return s(0,t)}function _k(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new mk(0),tickMin:new mk(0),tickMax:new mk(0)};var o,i=Dk(new mk(t).sub(e).div(n-1),r,a);o=e<=0&&t>=0?new mk(0):(o=new mk(e).add(t).div(2)).sub(new mk(o).mod(i));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new mk(t).sub(o).div(i).toNumber()),c=s+l+1;return c>n?_k(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:i,tickMin:o.sub(new mk(s).mul(i)),tickMax:o.add(new mk(l).mul(i))})}var Lk=Ok(function(e){var t=Mk(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(a,2),s=Mk(Ik([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(Ek(kk(0,a-1).map(function(){return 1/0}))):[].concat(Ek(kk(0,a-1).map(function(){return-1/0})),[c]);return n>r?Sk(u):u}if(l===c)return Rk(l,a,o);var d=_k(l,c,i,o),p=d.step,f=d.tickMin,h=d.tickMax,m=Tk.rangeStep(f,h.add(new mk(.1).mul(p)),p);return n>r?Sk(m):m}),zk=Ok(function(e,t){var n=Mk(e,2),r=n[0],a=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Mk(Ik([r,a]),2),s=i[0],l=i[1];if(s===-1/0||l===1/0)return[r,a];if(s===l)return[s];var c=Math.max(t,2),u=Dk(new mk(l).sub(s).div(c-1),o,0),d=[].concat(Ek(Tk.rangeStep(new mk(s),new mk(l).sub(new mk(.99).mul(u)),u)),[l]);return r>a?Sk(d):d}),Bk="production"===process.env.NODE_ENV,Fk="Invariant failed";function Uk(e,t){if(Bk)throw new Error(Fk);var n="function"==typeof t?t():t,r=n?"".concat(Fk,": ").concat(n):Fk;throw new Error(r)}var qk=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hk(e){return(Hk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wk(){return Wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wk.apply(this,arguments)}function Vk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gk(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Kk(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eA(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xk(e,t,n){return t=Qk(t),function(e,t){if(t&&("object"===Hk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yk()?Reflect.construct(t,n||[],Qk(e).constructor):t.apply(e,n))}function Yk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Yk=function(){return!!e})()}function Qk(e){return(Qk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zk(e,t){return(Zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Jk(e,t,n){return(t=eA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eA(e){var t=function(e,t){if("object"!=Hk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Hk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Hk(t)?t:t+""}var tA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xk(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zk(e,t)}(t,e),Kk(t,[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,a=e.dataKey,i=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=Gk(e,qk),d=nu(u,!1);"x"===this.props.direction&&"number"!==l.type&&("production"!==process.env.NODE_ENV?Uk(0,'ErrorBar requires Axis type property to be "number".'):Uk());var p=i.map(function(e){var i=s(e,a),u=i.x,p=i.y,f=i.value,h=i.errorVal;if(!h)return null;var m,g,y=[];if(Array.isArray(h)){var v=Vk(h,2);m=v[0],g=v[1]}else m=g=h;if("vertical"===n){var b=l.scale,x=p+t,w=x+r,C=x-r,j=b(f-m),k=b(f+g);y.push({x1:k,y1:w,x2:k,y2:C}),y.push({x1:j,y1:x,x2:k,y2:x}),y.push({x1:j,y1:w,x2:j,y2:C})}else if("horizontal"===n){var A=c.scale,S=u+t,O=S-r,T=S+r,E=A(f-m),M=A(f+g);y.push({x1:O,y1:M,x2:T,y2:M}),y.push({x1:S,y1:E,x2:S,y2:M}),y.push({x1:O,y1:E,x2:T,y2:E})}return o.createElement(Eu,Wk({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return o.createElement("line",Wk({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return o.createElement(Eu,{className:"recharts-errorBars"},p)}}])}(o.Component);function nA(e){return(nA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(t){oA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oA(e,t,n){var r;return r=function(e,t){if("object"!=nA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=nA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==nA(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Jk(tA,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Jk(tA,"displayName","ErrorBar");var iA=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,a=e.legendContent,o=Zc(t,Pg);if(!o)return null;var i,s=Pg.defaultProps,l=void 0!==s?aA(aA({},s),o.props):{};return i=o.props&&o.props.payload?o.props&&o.props.payload:"children"===a?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,a=r.sectors||r.data||[];return e.concat(a.map(function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?aA(aA({},n),t.props):{},a=r.dataKey,o=r.name,i=r.legendType;return{inactive:r.hide,dataKey:a,type:l.iconType||i||"square",color:mA(t),value:o||a,payload:r}}),aA(aA(aA({},l),Pg.getWithHeight(o,r)),{},{payload:i,item:o})};function sA(e){return(sA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lA(e){return function(e){if(Array.isArray(e))return cA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return cA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uA(Object(n),!0).forEach(function(t){pA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pA(e,t,n){var r;return r=function(e,t){if("object"!=sA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=sA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==sA(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fA(e,t,n){return rc(e)||rc(t)?n:Sc(t)?ec(e,t,n):sc(t)?t(e):n}function hA(e,t,n,r){var a=_j(e,function(e){return fA(e,t)});if("number"===n){var o=a.filter(function(e){return Ac(e)||parseFloat(e)});return o.length?[Nj(o),Sj(o)]:[1/0,-1/0]}return(r?a.filter(function(e){return!rc(e)}):a).map(function(e){return Sc(e)||e instanceof Date?e:""})}var mA=function(e){var t,n,r=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?dA(dA({},e.type.defaultProps),e.props):e.props,o=a.stroke,i=a.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:i;break;default:n=i}return n},gA=function(e,t,n,r,a){var o=Qc(t.props.children,tA).filter(function(e){return function(e,t,n){return!!rc(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,a,e.props.direction)});if(o&&o.length){var i=o.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=fA(t,n);if(rc(r))return e;var a=Array.isArray(r)?[Nj(r),Sj(r)]:[r,r],o=i.reduce(function(e,n){var r=fA(t,n,0),o=a[0]-Math.abs(Array.isArray(r)?r[0]:r),i=a[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(i,e[1])]},[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]},[1/0,-1/0])}return null},yA=function(e,t,n,r,a){var o=t.map(function(t){var o=t.props.dataKey;return"number"===n&&o&&gA(e,t,o,r)||hA(e,o,n,a)});if("number"===n)return o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var i={};return o.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)i[t[n]]||(i[t[n]]=!0,e.push(t[n]));return e},[])},vA=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},bA=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var a,o,i=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===n&&(o=!0),e.coordinate});return a||i.push(t),o||i.push(n),i},xA=function(e,t,n){if(!e)return null;var r=e.scale,a=e.duplicateDomain,o=e.type,i=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null==i?void 0:i.length)>=2?2*jc(i[0]-i[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!wc(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:a?a[e]:e,index:t,offset:l}})},wA=new WeakMap,CA=function(e,t){if("function"!=typeof t)return e;wA.has(e)||wA.set(e,new WeakMap);var n=wA.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},jA=1e-4,kA={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,o=0,i=0;i<t;++i){var s=wc(e[i][n][1])?e[i][n][0]:e[i][n][1];s>=0?(e[i][n][0]=a,e[i][n][1]=a+s,a=e[i][n][1]):(e[i][n][0]=o,e[i][n][1]=o+s,o=e[i][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,o=0,i=e[0].length;o<i;++o){for(a=n=0;n<r;++n)a+=e[n][o][1]||0;if(a)for(n=0;n<r;++n)e[n][o][1]/=a}_d(e,t)}},none:_d,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],o=a.length;r<o;++r){for(var i=0,s=0;i<n;++i)s+=e[i][r][1]||0;a[r][1]+=a[r][0]=-s/2}_d(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,o=0,i=1;i<r;++i){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[i][1]||0,p=(d-(u[i-1][1]||0))/2,f=0;f<s;++f){var h=e[t[f]];p+=(h[i][1]||0)-(h[i-1][1]||0)}l+=d,c+=p*d}n[i-1][1]+=n[i-1][0]=o,l&&(o-=c/l)}n[i-1][1]+=n[i-1][0]=o,_d(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,o=0;o<t;++o){var i=wc(e[o][n][1])?e[o][n][0]:e[o][n][1];i>=0?(e[o][n][0]=a,e[o][n][1]=a+i,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},AA=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),a=kA[n],o=function(){var e=_u([]),t=Ld,n=_d,r=zd;function a(a){var o,i,s=Array.from(e.apply(this,arguments),Bd),l=s.length,c=-1;for(const e of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,a)]).data=e;for(o=0,i=Xu(t(s));o<l;++o)s[i[o]].index=o;return n(s,i),s}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:_u(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"==typeof e?e:_u(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?Ld:"function"==typeof e?e:_u(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?_d:e,a):n},a}().keys(r).value(function(e,t){return+fA(e,t,0)}).order(Ld).offset(a);return o(e)};function SA(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!rc(a[t.dataKey])){var s=Pc(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=fA(a,rc(i)?t.dataKey:i);return rc(l)?null:t.scale(l)}var OA=function(e){var t=e.axis,n=e.ticks,r=e.offset,a=e.bandSize,o=e.entry,i=e.index;if("category"===t.type)return n[i]?n[i].coordinate+r:null;var s=fA(o,t.dataKey,t.domain[i]);return rc(s)?null:t.scale(s)-a/2+r},TA=function(e,t,n){return Object.keys(e).reduce(function(r,a){var o=e[a].stackedData.reduce(function(e,r){var a=r.slice(t,n+1).reduce(function(e,t){return[Nj(t.concat([e[0]]).filter(Ac)),Sj(t.concat([e[1]]).filter(Ac))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},EA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NA=function(e,t,n){if(sc(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(Ac(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(EA.test(e[0])){var a=+EA.exec(e[0])[1];r[0]=t[0]-a}else sc(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(Ac(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(MA.test(e[1])){var o=+MA.exec(e[1])[1];r[1]=t[1]+o}else sc(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},PA=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Vg(t,function(e){return e.coordinate}),o=1/0,i=1,s=a.length;i<s;i++){var l=a[i],c=a[i-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},IA=function(e,t,n){return e&&e.length?Bj(e,ec(n,"type.defaultProps.domain"))?t:e:t},DA=function(e,t){var n=e.type.defaultProps?dA(dA({},e.type.defaultProps),e.props):e.props,r=n.dataKey,a=n.name,o=n.unit,i=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return dA(dA({},nu(e,!1)),{},{dataKey:r,unit:o,formatter:i,name:a||r,color:mA(e),value:fA(t,r),type:s,payload:t,chartType:l,hide:c})};function RA(e){return(RA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_A(Object(n),!0).forEach(function(t){zA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zA(e,t,n){var r;return r=function(e,t){if("object"!=RA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=RA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==RA(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BA=Math.PI/180,FA=function(e){return 180*e/Math.PI},UA=function(e,t,n,r){return{x:e+Math.cos(-BA*r)*n,y:t+Math.sin(-BA*r)*n}},qA=function(e,t){var n=e.x,r=e.y,a=t.cx,o=t.cy,i=function(e,t){var n=e.x,r=e.y,a=t.x,o=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-o,2))}({x:n,y:r},{x:a,y:o});if(i<=0)return{radius:i};var s=(n-a)/i,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:i,angle:FA(l),angleInRadian:l}},HA=function(e,t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(a,o)},WA=function(e,t){var n=e.x,r=e.y,a=qA({x:n,y:r},t),o=a.radius,i=a.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),a=Math.floor(n/360),o=Math.min(r,a);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=u.startAngle,p=u.endAngle,f=i;if(d<=p){for(;f>p;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=p}else{for(;f>d;)f-=360;for(;f<p;)f+=360;c=f>=p&&f<=d}return c?LA(LA({},t),{},{radius:o,angle:HA(f,t)}):null};function VA(e){return(VA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $A=["offset"];function GA(e){return function(e){if(Array.isArray(e))return KA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return KA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XA(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(t){ZA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZA(e,t,n){var r;return r=function(e,t){if("object"!=VA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=VA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==VA(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JA(){return JA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JA.apply(this,arguments)}var eS=function(e,t,n){var r,a,i=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,p=u.cy,f=u.innerRadius,h=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(f+h)/2,b=function(e,t){return jc(t-e)*Math.min(Math.abs(t-e),360)}(m,g),x=b>=0?1:-1;"insideStart"===i?(r=m+x*l,a=y):"insideEnd"===i?(r=g-x*l,a=!y):"end"===i&&(r=g+x*l,a=y),a=b<=0?a:!a;var w=UA(d,p,v,r),C=UA(d,p,v,r+359*(a?1:-1)),j="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(a?0:1,",\n    ").concat(C.x,",").concat(C.y),k=rc(e.id)?Tc("recharts-radial-line-"):e.id;return o.createElement("text",JA({},n,{dominantBaseline:"central",className:Si("recharts-radial-bar-label",c)}),o.createElement("defs",null,o.createElement("path",{id:k,d:j})),o.createElement("textPath",{xlinkHref:"#".concat(k)},t))};function tS(e){var t,n=e.offset,r=QA({offset:void 0===n?5:n},XA(e,$A)),a=r.viewBox,i=r.position,s=r.value,l=r.children,c=r.content,u=r.className,d=void 0===u?"":u,p=r.textBreakAll;if(!a||rc(s)&&rc(l)&&!o.isValidElement(c)&&!sc(c))return null;if(o.isValidElement(c))return o.cloneElement(c,r);if(sc(c)){if(t=o.createElement(c,r),o.isValidElement(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=rc(e.children)?t:e.children;return sc(n)?n(r):r}(r);var f=function(e){return"cx"in e&&Ac(e.cx)}(a),h=nu(r,!0);if(f&&("insideStart"===i||"insideEnd"===i||"end"===i))return eS(r,t,h);var m=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,a=t,o=a.cx,i=a.cy,s=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===r){var u=UA(o,i,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=UA(o,i,(s+l)/2,c);return{x:p.x,y:p.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,a=e.position,o=t,i=o.x,s=o.y,l=o.width,c=o.height,u=c>=0?1:-1,d=u*r,p=u>0?"end":"start",f=u>0?"start":"end",h=l>=0?1:-1,m=h*r,g=h>0?"end":"start",y=h>0?"start":"end";if("top"===a)return QA(QA({},{x:i+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===a)return QA(QA({},{x:i+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===a){var v={x:i-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return QA(QA({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===a){var b={x:i+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return QA(QA({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var x=n?{width:l,height:c}:{};return"insideLeft"===a?QA({x:i+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},x):"insideRight"===a?QA({x:i+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},x):"insideTop"===a?QA({x:i+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},x):"insideBottom"===a?QA({x:i+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:p},x):"insideTopLeft"===a?QA({x:i+m,y:s+d,textAnchor:y,verticalAnchor:f},x):"insideTopRight"===a?QA({x:i+l-m,y:s+d,textAnchor:g,verticalAnchor:f},x):"insideBottomLeft"===a?QA({x:i+m,y:s+c-d,textAnchor:y,verticalAnchor:p},x):"insideBottomRight"===a?QA({x:i+l-m,y:s+c-d,textAnchor:g,verticalAnchor:p},x):lc(a)&&(Ac(a.x)||kc(a.x))&&(Ac(a.y)||kc(a.y))?QA({x:i+Ec(a.x,l),y:s+Ec(a.y,c),textAnchor:"end",verticalAnchor:"end"},x):QA({x:i+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(r);return o.createElement(Lv,JA({className:Si("recharts-label",d)},h,m,{breakAll:p}),t)}tS.displayName="Label";var nS,rS,aS=function(e){var t=e.cx,n=e.cy,r=e.angle,a=e.startAngle,o=e.endAngle,i=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,p=e.top,f=e.left,h=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(Ac(h)&&Ac(m)){if(Ac(u)&&Ac(d))return{x:u,y:d,width:h,height:m};if(Ac(p)&&Ac(f))return{x:p,y:f,width:h,height:m}}return Ac(u)&&Ac(d)?{x:u,y:d,width:0,height:0}:Ac(t)&&Ac(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||i||0,clockWise:g}:e.viewBox?e.viewBox:{}};tS.parseViewBox=aS,tS.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=aS(e),i=Qc(r,tS).map(function(e,n){return o.cloneElement(e,{viewBox:t||a,key:"label-".concat(n)})});if(!n)return i;var s=function(e,t){return e?!0===e?o.createElement(tS,{key:"label-implicit",viewBox:t}):Sc(e)?o.createElement(tS,{key:"label-implicit",viewBox:t,value:e}):o.isValidElement(e)?e.type===tS?o.cloneElement(e,{key:"label-implicit",viewBox:t}):o.createElement(tS,{key:"label-implicit",content:e,viewBox:t}):sc(e)?o.createElement(tS,{key:"label-implicit",content:e,viewBox:t}):lc(e)?o.createElement(tS,JA({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||a);return[s].concat(GA(i))};const oS=kl(rS?nS:(rS=1,nS=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}));function iS(e){return(iS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var sS=["valueAccessor"],lS=["data","dataKey","clockWise","id","textBreakAll"];function cS(e){return function(e){if(Array.isArray(e))return uS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return uS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uS(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dS.apply(this,arguments)}function pS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pS(Object(n),!0).forEach(function(t){hS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hS(e,t,n){var r;return r=function(e,t){if("object"!=iS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=iS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==iS(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mS(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var gS=function(e){return Array.isArray(e.value)?oS(e.value):e.value};function yS(e){var t=e.valueAccessor,n=void 0===t?gS:t,r=mS(e,sS),a=r.data,i=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,u=mS(r,lS);return a&&a.length?o.createElement(Eu,{className:"recharts-label-list"},a.map(function(e,t){var r=rc(i)?n(e,t):fA(e&&e.payload,i),a=rc(l)?{}:{id:"".concat(l,"-").concat(t)};return o.createElement(tS,dS({},nu(e,!0),u,a,{parentViewBox:e.parentViewBox,value:r,textBreakAll:c,viewBox:tS.parseViewBox(rc(s)?e:fS(fS({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))})):null}yS.displayName="LabelList",yS.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=Qc(e.children,yS).map(function(e,n){return o.cloneElement(e,{data:t,key:"labelList-".concat(n)})});return n?[function(e,t){return e?!0===e?o.createElement(yS,{key:"labelList-implicit",data:t}):o.isValidElement(e)||sc(e)?o.createElement(yS,{key:"labelList-implicit",data:t,content:e}):lc(e)?o.createElement(yS,dS({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(cS(r)):r};var vS=["component"];function bS(e){return(bS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xS(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wS(e){var t,n=e.component,r=xS(e,vS);return o.isValidElement(n)?t=o.cloneElement(n,r):sc(n)?t=o.createElement(n,r):Nu(!1,"Customized's props `component` must be React.element or Function, but got %s.",bS(n)),o.createElement(Eu,{className:"recharts-customized-wrapper"},t)}function CS(e){return(CS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jS(){return jS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jS.apply(this,arguments)}function kS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kS(Object(n),!0).forEach(function(t){SS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function SS(e,t,n){var r;return r=function(e,t){if("object"!=CS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=CS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==CS(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}wS.displayName="Customized";var OS=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.angle,o=e.sign,i=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(i?1:-1)+r,u=Math.asin(s/c)/BA,d=l?a:a+o*u,p=l?a-o*u:a;return{center:UA(t,n,c,d),circleTangency:UA(t,n,r,d),lineTangency:UA(t,n,c*Math.cos(u*BA),p),theta:u}},TS=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,o=e.startAngle,i=function(e,t){return jc(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+i,l=UA(t,n,a,o),c=UA(t,n,a,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(i)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=UA(t,n,r,o),p=UA(t,n,r,s);u+="L ".concat(p.x,",").concat(p.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(i)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},ES={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MS=function(e){var t=AS(AS({},ES),e),n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,p=t.className;if(i<a||u===d)return null;var f,h=Si("recharts-sector",p),m=i-a,g=Ec(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,i=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=jc(c-l),d=OS({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),p=d.circleTangency,f=d.lineTangency,h=d.theta,m=OS({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-h-v;if(b<0)return i?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):TS({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var x="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=OS({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),C=w.circleTangency,j=w.lineTangency,k=w.theta,A=OS({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),S=A.circleTangency,O=A.lineTangency,T=A.theta,E=s?Math.abs(l-c):Math.abs(l-c)-k-T;if(E<0&&0===o)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(O.x,",").concat(O.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(C.x,",").concat(C.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):TS({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),o.createElement("path",jS({},nu(t,!0),{className:h,d:f,role:"img"}))};function NS(e){return(NS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PS(){return PS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PS.apply(this,arguments)}function IS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IS(Object(n),!0).forEach(function(t){RS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RS(e,t,n){var r;return r=function(e,t){if("object"!=NS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=NS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==NS(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _S,LS={curveBasisClosed:function(e){return new jd(e)},curveBasisOpen:function(e){return new kd(e)},curveBasis:function(e){return new Cd(e)},curveBumpX:function(e){return new nd(e,!0)},curveBumpY:function(e){return new nd(e,!1)},curveLinearClosed:function(e){return new Ad(e)},curveLinear:Qu,curveMonotoneX:function(e){return new Md(e)},curveMonotoneY:function(e){return new Nd(e)},curveNatural:function(e){return new Id(e)},curveStep:function(e){return new Rd(e,.5)},curveStepAfter:function(e){return new Rd(e,1)},curveStepBefore:function(e){return new Rd(e,0)}},zS=function(e){return e.x===+e.x&&e.y===+e.y},BS=function(e){return e.x},FS=function(e){return e.y},US=function(e){var t,n=e.type,r=void 0===n?"linear":n,a=e.points,o=void 0===a?[]:a,i=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(sc(e))return e;var n="curve".concat(Ru(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?LS[n]||Qu:LS["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?o.filter(function(e){return zS(e)}):o;if(Array.isArray(i)){var p=c?i.filter(function(e){return zS(e)}):i,f=d.map(function(e,t){return DS(DS({},e),{},{base:p[t]})});return(t="vertical"===s?td().y(FS).x1(BS).x0(function(e){return e.base.x}):td().x(BS).y1(FS).y0(function(e){return e.base.y})).defined(zS).curve(u),t(f)}return(t="vertical"===s&&Ac(i)?td().y(FS).x1(BS).x0(i):Ac(i)?td().x(BS).y1(FS).y0(i):ed().x(BS).y(FS)).defined(zS).curve(u),t(d)},qS=function(e){var t=e.className,n=e.points,r=e.path,a=e.pathRef;if(!(n&&n.length||r))return null;var o=n&&n.length?US(e):r;return O.createElement("path",PS({},nu(e,!1),Fc(e),{className:Si("recharts-curve",t),d:o,ref:a}))},HS={exports:{}},WS={exports:{}},VS={};var $S,GS,KS,XS,YS,QS,ZS,JS,eO,tO,nO,rO,aO,oO,iO,sO={};function lO(){return GS||(GS=1,"production"===process.env.NODE_ENV?WS.exports=function(){if(_S)return VS;_S=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,h=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,v=e?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var p=e.$$typeof;switch(p){case t:switch(e=e.type){case l:case c:case r:case o:case a:case d:return e;default:switch(e=e&&e.$$typeof){case s:case u:case h:case f:case i:return e;default:return p}}case n:return p}}}function x(e){return b(e)===c}return VS.AsyncMode=l,VS.ConcurrentMode=c,VS.ContextConsumer=s,VS.ContextProvider=i,VS.Element=t,VS.ForwardRef=u,VS.Fragment=r,VS.Lazy=h,VS.Memo=f,VS.Portal=n,VS.Profiler=o,VS.StrictMode=a,VS.Suspense=d,VS.isAsyncMode=function(e){return x(e)||b(e)===l},VS.isConcurrentMode=x,VS.isContextConsumer=function(e){return b(e)===s},VS.isContextProvider=function(e){return b(e)===i},VS.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},VS.isForwardRef=function(e){return b(e)===u},VS.isFragment=function(e){return b(e)===r},VS.isLazy=function(e){return b(e)===h},VS.isMemo=function(e){return b(e)===f},VS.isPortal=function(e){return b(e)===n},VS.isProfiler=function(e){return b(e)===o},VS.isStrictMode=function(e){return b(e)===a},VS.isSuspense=function(e){return b(e)===d},VS.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===c||e===o||e===a||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===f||e.$$typeof===i||e.$$typeof===s||e.$$typeof===u||e.$$typeof===g||e.$$typeof===y||e.$$typeof===v||e.$$typeof===m)},VS.typeOf=b,VS}():WS.exports=($S||($S=1,"production"!==process.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,h=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,v=e?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var p=e.$$typeof;switch(p){case t:var m=e.type;switch(m){case l:case c:case r:case o:case a:case d:return m;default:var g=m&&m.$$typeof;switch(g){case s:case u:case h:case f:case i:return g;default:return p}}case n:return p}}}var x=l,w=c,C=s,j=i,k=t,A=u,S=r,O=h,T=f,E=n,M=o,N=a,P=d,I=!1;function D(e){return b(e)===c}sO.AsyncMode=x,sO.ConcurrentMode=w,sO.ContextConsumer=C,sO.ContextProvider=j,sO.Element=k,sO.ForwardRef=A,sO.Fragment=S,sO.Lazy=O,sO.Memo=T,sO.Portal=E,sO.Profiler=M,sO.StrictMode=N,sO.Suspense=P,sO.isAsyncMode=function(e){return I||(I=!0),D(e)||b(e)===l},sO.isConcurrentMode=D,sO.isContextConsumer=function(e){return b(e)===s},sO.isContextProvider=function(e){return b(e)===i},sO.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},sO.isForwardRef=function(e){return b(e)===u},sO.isFragment=function(e){return b(e)===r},sO.isLazy=function(e){return b(e)===h},sO.isMemo=function(e){return b(e)===f},sO.isPortal=function(e){return b(e)===n},sO.isProfiler=function(e){return b(e)===o},sO.isStrictMode=function(e){return b(e)===a},sO.isSuspense=function(e){return b(e)===d},sO.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===c||e===o||e===a||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===f||e.$$typeof===i||e.$$typeof===s||e.$$typeof===u||e.$$typeof===g||e.$$typeof===y||e.$$typeof===v||e.$$typeof===m)},sO.typeOf=b}()),sO)),WS.exports}function cO(){if(XS)return KS;XS=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;return KS=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(r,a){for(var o,i,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(r),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))t.call(o,c)&&(s[c]=o[c]);if(e){i=e(o);for(var u=0;u<i.length;u++)n.call(o,i[u])&&(s[i[u]]=o[i[u]])}}return s},KS}function uO(){if(QS)return YS;QS=1;return YS="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function dO(){return JS?ZS:(JS=1,ZS=Function.call.bind(Object.prototype.hasOwnProperty))}function pO(){if(tO)return eO;tO=1;var e=function(){};if("production"!==process.env.NODE_ENV){var t=uO(),n={},r=dO();e=function(e){var t="Warning: "+e;try{throw new Error(t)}catch(n){}}}function a(a,o,i,s,l){if("production"!==process.env.NODE_ENV)for(var c in a)if(r(a,c)){var u;try{if("function"!=typeof a[c]){var d=Error((s||"React class")+": "+i+" type `"+c+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[c]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw d.name="Invariant Violation",d}u=a[c](o,c,s,i,null,t)}catch(f){u=f}if(!u||u instanceof Error||e((s||"React class")+": type specification of "+i+" `"+c+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof u+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),u instanceof Error&&!(u.message in n)){n[u.message]=!0;var p=l?l():"";e("Failed "+i+" type: "+u.message+(null!=p?p:""))}}}return a.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(n={})},eO=a}function fO(){if(rO)return nO;rO=1;var e=lO(),t=cO(),n=uO(),r=dO(),a=pO(),o=function(){};function i(){return null}return"production"!==process.env.NODE_ENV&&(o=function(e){var t="Warning: "+e;try{throw new Error(t)}catch(n){}}),nO=function(s,l){var c="function"==typeof Symbol&&Symbol.iterator;var u="<<anonymous>>",d={array:m("array"),bigint:m("bigint"),bool:m("boolean"),func:m("function"),number:m("number"),object:m("object"),string:m("string"),symbol:m("symbol"),any:h(i),arrayOf:function(e){return h(function(t,r,a,o,i){if("function"!=typeof e)return new f("Property `"+i+"` of component `"+a+"` has invalid PropType notation inside arrayOf.");var s=t[r];if(!Array.isArray(s))return new f("Invalid "+o+" `"+i+"` of type `"+v(s)+"` supplied to `"+a+"`, expected an array.");for(var l=0;l<s.length;l++){var c=e(s,l,a,o,i+"["+l+"]",n);if(c instanceof Error)return c}return null})},element:h(function(e,t,n,r,a){var o=e[t];return s(o)?null:new f("Invalid "+r+" `"+a+"` of type `"+v(o)+"` supplied to `"+n+"`, expected a single ReactElement.")}),elementType:h(function(t,n,r,a,o){var i=t[n];return e.isValidElementType(i)?null:new f("Invalid "+a+" `"+o+"` of type `"+v(i)+"` supplied to `"+r+"`, expected a single ReactElement type.")}),instanceOf:function(e){return h(function(t,n,r,a,o){if(!(t[n]instanceof e)){var i=e.name||u;return new f("Invalid "+a+" `"+o+"` of type `"+(((s=t[n]).constructor&&s.constructor.name?s.constructor.name:u)+"` supplied to `")+r+"`, expected instance of `"+i+"`.")}var s;return null})},node:h(function(e,t,n,r,a){return y(e[t])?null:new f("Invalid "+r+" `"+a+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(e){return h(function(t,a,o,i,s){if("function"!=typeof e)return new f("Property `"+s+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var l=t[a],c=v(l);if("object"!==c)return new f("Invalid "+i+" `"+s+"` of type `"+c+"` supplied to `"+o+"`, expected an object.");for(var u in l)if(r(l,u)){var d=e(l,u,o,i,s+"."+u,n);if(d instanceof Error)return d}return null})},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&o(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),i;return h(function(t,n,r,a,o){for(var i=t[n],s=0;s<e.length;s++)if(p(i,e[s]))return null;var l=JSON.stringify(e,function(e,t){return"symbol"===b(t)?String(t):t});return new f("Invalid "+a+" `"+o+"` of value `"+String(i)+"` supplied to `"+r+"`, expected one of "+l+".")})},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&o("Invalid argument supplied to oneOfType, expected an instance of array."),i;for(var t=0;t<e.length;t++){var a=e[t];if("function"!=typeof a)return o("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+x(a)+" at index "+t+"."),i}return h(function(t,a,o,i,s){for(var l=[],c=0;c<e.length;c++){var u=(0,e[c])(t,a,o,i,s,n);if(null==u)return null;u.data&&r(u.data,"expectedType")&&l.push(u.data.expectedType)}return new f("Invalid "+i+" `"+s+"` supplied to `"+o+"`"+(l.length>0?", expected one of type ["+l.join(", ")+"]":"")+".")})},shape:function(e){return h(function(t,r,a,o,i){var s=t[r],l=v(s);if("object"!==l)return new f("Invalid "+o+" `"+i+"` of type `"+l+"` supplied to `"+a+"`, expected `object`.");for(var c in e){var u=e[c];if("function"!=typeof u)return g(a,o,i,c,b(u));var d=u(s,c,a,o,i+"."+c,n);if(d)return d}return null})},exact:function(e){return h(function(a,o,i,s,l){var c=a[o],u=v(c);if("object"!==u)return new f("Invalid "+s+" `"+l+"` of type `"+u+"` supplied to `"+i+"`, expected `object`.");var d=t({},a[o],e);for(var p in d){var h=e[p];if(r(e,p)&&"function"!=typeof h)return g(i,s,l,p,b(h));if(!h)return new f("Invalid "+s+" `"+l+"` key `"+p+"` supplied to `"+i+"`.\nBad object: "+JSON.stringify(a[o],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var m=h(c,p,i,s,l+"."+p,n);if(m)return m}return null})}};function p(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e,t){this.message=e,this.data=t&&"object"==typeof t?t:{},this.stack=""}function h(e){if("production"!==process.env.NODE_ENV)var t={},r=0;function a(a,i,s,c,d,p,h){if(c=c||u,p=p||s,h!==n){if(l){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var g=c+":"+s;!t[g]&&r<3&&(o("You are manually calling a React.PropTypes validation function for the `"+p+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),t[g]=!0,r++)}}return null==i[s]?a?null===i[s]?new f("The "+d+" `"+p+"` is marked as required in `"+c+"`, but its value is `null`."):new f("The "+d+" `"+p+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(i,s,c,d,p)}var i=a.bind(null,!1);return i.isRequired=a.bind(null,!0),i}function m(e){return h(function(t,n,r,a,o,i){var s=t[n];return v(s)!==e?new f("Invalid "+a+" `"+o+"` of type `"+b(s)+"` supplied to `"+r+"`, expected `"+e+"`.",{expectedType:e}):null})}function g(e,t,n,r,a){return new f((e||"React class")+": "+t+" type `"+n+"."+r+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+a+"`.")}function y(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(y);if(null===e||s(e))return!0;var t=function(e){var t=e&&(c&&e[c]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!y(n.value))return!1}else for(;!(n=r.next()).done;){var a=n.value;if(a&&!y(a[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function b(e){if(null==e)return""+e;var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function x(e){var t=b(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return f.prototype=Error.prototype,d.checkPropTypes=a,d.resetWarningCache=a.resetWarningCache,d.PropTypes=d,d},nO}function hO(){if(oO)return aO;oO=1;var e=uO();function t(){}function n(){}return n.resetWarningCache=t,aO=function(){function r(t,n,r,a,o,i){if(i!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function a(){return r}r.isRequired=r;var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o}}function mO(){if(iO)return HS.exports;if(iO=1,"production"!==process.env.NODE_ENV){var e=lO();HS.exports=fO()(e.isElement,true)}else HS.exports=hO()();return HS.exports}const gO=kl(mO());var yO=Object.getOwnPropertyNames,vO=Object.getOwnPropertySymbols,bO=Object.prototype.hasOwnProperty;function xO(e,t){return function(n,r,a){return e(n,r,a)&&t(n,r,a)}}function wO(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);var a=r.cache,o=a.get(t),i=a.get(n);if(o&&i)return o===n&&i===t;a.set(t,n),a.set(n,t);var s=e(t,n,r);return a.delete(t),a.delete(n),s}}function CO(e){return yO(e).concat(vO(e))}var jO=Object.hasOwn||function(e,t){return bO.call(e,t)};function kO(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var AO=Object.getOwnPropertyDescriptor,SO=Object.keys;function OO(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function TO(e,t){return kO(e.getTime(),t.getTime())}function EO(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function MO(e,t){return e===t}function NO(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,o,i=new Array(r),s=e.entries(),l=0;(a=s.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;)if(i[d])d++;else{var p=a.value,f=o.value;if(n.equals(p[0],f[0],l,d,e,t,n)&&n.equals(p[1],f[1],p[0],f[0],e,t,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var PO=kO;function IO(e,t,n){var r=SO(e),a=r.length;if(SO(t).length!==a)return!1;for(;a-- >0;)if(!FO(e,t,n,r[a]))return!1;return!0}function DO(e,t,n){var r,a,o,i=CO(e),s=i.length;if(CO(t).length!==s)return!1;for(;s-- >0;){if(!FO(e,t,n,r=i[s]))return!1;if(a=AO(e,r),o=AO(t,r),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable))return!1}return!0}function RO(e,t){return kO(e.valueOf(),t.valueOf())}function _O(e,t){return e.source===t.source&&e.flags===t.flags}function LO(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,o,i=new Array(r),s=e.values();(a=s.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(a.value,o.value,a.value,o.value,e,t,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function zO(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function BO(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function FO(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||jO(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var UO=Array.isArray,qO="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,HO=Object.assign,WO=Object.prototype.toString.call.bind(Object.prototype.toString);var VO=$O();function $O(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,a=e.createInternalComparator,o=e.createState,i=e.strict,s=void 0!==i&&i,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?DO:OO,areDatesEqual:TO,areErrorsEqual:EO,areFunctionsEqual:MO,areMapsEqual:r?xO(NO,DO):NO,areNumbersEqual:PO,areObjectsEqual:r?DO:IO,arePrimitiveWrappersEqual:RO,areRegExpsEqual:_O,areSetsEqual:r?xO(LO,DO):LO,areTypedArraysEqual:r?DO:zO,areUrlsEqual:BO};if(n&&(a=HO({},a,n(a))),t){var o=wO(a.areArraysEqual),i=wO(a.areMapsEqual),s=wO(a.areObjectsEqual),l=wO(a.areSetsEqual);a=HO({},a,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,o=e.areMapsEqual,i=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(e,f,h){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?i(e,f,h):"function"===m&&a(e,f,h);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return s(e,f,h);if(UO(e))return t(e,f,h);if(null!=qO&&qO(e))return d(e,f,h);if(g===Date)return n(e,f,h);if(g===RegExp)return c(e,f,h);if(g===Map)return o(e,f,h);if(g===Set)return u(e,f,h);var y=WO(e);return"[object Date]"===y?n(e,f,h):"[object RegExp]"===y?c(e,f,h):"[object Map]"===y?o(e,f,h):"[object Set]"===y?u(e,f,h):"[object Object]"===y?"function"!=typeof e.then&&"function"!=typeof f.then&&s(e,f,h):"[object URL]"===y?p(e,f,h):"[object Error]"===y?r(e,f,h):"[object Arguments]"===y?s(e,f,h):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,h)}}(l);return function(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,o=e.strict;if(r)return function(e,i){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,i,{cache:c,equals:a,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var i={cache:void 0,equals:a,meta:void 0,strict:o};return function(e,t){return n(e,t,i)}}({circular:r,comparator:c,createState:o,equals:a?a(c):(t=c,function(e,n,r,a,o,i,s){return t(e,n,s)}),strict:s})}function GO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(a){n<0&&(n=a),a-n>t?(e(a),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function KO(e){return(KO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XO(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return YO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QO(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var a=XO(r),o=a[0],i=a.slice(1);return"number"==typeof o?void GO(n.bind(null,i),o):(n(o),void GO(n.bind(null,i)))}"object"===KO(r)&&e(r),"function"==typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function ZO(e){return(ZO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JO(Object(n),!0).forEach(function(t){tT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ZO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==ZO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ZO(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$O({strict:!0}),$O({circular:!0}),$O({circular:!0,strict:!0}),$O({createInternalComparator:function(){return kO}}),$O({strict:!0,createInternalComparator:function(){return kO}}),$O({circular:!0,createInternalComparator:function(){return kO}}),$O({circular:!0,createInternalComparator:function(){return kO},strict:!0});var nT=function(e){return e},rT=function(e,t){return Object.keys(t).reduce(function(n,r){return eT(eT({},n),{},tT({},r,e(r,t[r])))},{})},aT=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")},oT="production"!==process.env.NODE_ENV,iT=function(e,t,n,r,a,o,i,s){if(oT&&"undefined"!=typeof console&&console.warn&&!e)if(void 0===t);else;};function sT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||cT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lT(e){return function(e){if(Array.isArray(e))return uT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cT(e,t){if(e){if("string"==typeof e)return uT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uT(e,t):void 0}}function uT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dT=1e-4,pT=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},fT=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},hT=function(e,t){return function(n){var r=pT(e,t);return fT(r,n)}},mT=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2],i=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,a=0,o=1,i=1;break;case"ease":r=.25,a=.1,o=.25,i=1;break;case"ease-in":r=.42,a=0,o=1,i=1;break;case"ease-out":r=.42,a=0,o=.58,i=1;break;case"ease-in-out":r=0,a=0,o=.58,i=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=sT(s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);r=l[0],a=l[1],o=l[2],i=l[3]}else iT(!1,"[configBezier]: arguments should be one of oneOf 'linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out','cubic-bezier(x1,y1,x2,y2)', instead received %s")}iT([r,o,a,i].every(function(e){return"number"==typeof e&&e>=0&&e<=1}),"[configBezier]: arguments should be x1, y1, x2, y2 of [0, 1] instead received %s");var c,u,d=hT(r,o),p=hT(a,i),f=(c=r,u=o,function(e){var t=pT(c,u),n=[].concat(lT(t.map(function(e,t){return e*t}).slice(1)),[0]);return fT(n,e)}),h=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=d(n)-t,o=f(n);if(Math.abs(a-t)<dT||o<dT)return p(n);n=h(n-a/o)}return p(n)};return m.isStepper=!1,m},gT=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mT(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,a=void 0===r?8:r,o=e.dt,i=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*a)*i/1e3,s=r*i/1e3+e;return Math.abs(s-t)<dT&&Math.abs(o)<dT?[t,0]:[s,o]};return s.isStepper=!0,s.dt=i,s}();default:if("cubic-bezier"===r.split("(")[0])return mT(r);iT(!1,"[configEasing]: first argument should be one of 'ease', 'ease-in', 'ease-out', 'ease-in-out','cubic-bezier(x1,y1,x2,y2)', 'linear' and 'spring', instead  received %s")}return"function"==typeof r?r:(iT(!1,"[configEasing]: first argument type should be function or string, instead received %s"),null)};function yT(e){return(yT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vT(e){return function(e){if(Array.isArray(e))return kT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bT(Object(n),!0).forEach(function(t){wT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==yT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==yT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yT(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||jT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jT(e,t){if(e){if("string"==typeof e)return kT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kT(e,t):void 0}}function kT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var AT=function(e,t,n){return e+(t-e)*n},ST=function(e){return e.from!==e.to},OT=function e(t,n,r){var a=rT(function(e,n){if(ST(n)){var r=CT(t(n.from,n.to,n.velocity),2),a=r[0],o=r[1];return xT(xT({},n),{},{from:a,velocity:o})}return n},n);return r<1?rT(function(e,t){return ST(t)?xT(xT({},t),{},{velocity:AT(t.velocity,a[e].velocity,r),from:AT(t.from,a[e].from,r)}):t},n):e(t,a,r-1)};const TT=function(e,t,n,r,a){var o,i,s,l,c=(o=e,i=t,[Object.keys(o),Object.keys(i)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return xT(xT({},n),{},wT({},r,[e[r],t[r]]))},{}),d=c.reduce(function(n,r){return xT(xT({},n),{},wT({},r,{from:e[r],velocity:0,to:t[r]}))},{}),p=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;d=OT(n,d,o),a(xT(xT(xT({},e),t),rT(function(e,t){return t.from},d))),s=r,Object.values(d).filter(ST).length&&(p=requestAnimationFrame(f))}:function(o){l||(l=o);var i=(o-l)/r,s=rT(function(e,t){return AT.apply(void 0,vT(t).concat([n(i)]))},u);if(a(xT(xT(xT({},e),t),s)),i<1)p=requestAnimationFrame(f);else{var c=rT(function(e,t){return AT.apply(void 0,vT(t).concat([n(1)]))},u);a(xT(xT(xT({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(p)}}};function ET(e){return(ET="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var MT=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function NT(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function PT(e){return function(e){if(Array.isArray(e))return IT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return IT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DT(Object(n),!0).forEach(function(t){_T(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _T(e,t,n){return(t=zT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LT(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zT(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zT(e){var t=function(e,t){if("object"!==ET(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==ET(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ET(t)?t:String(t)}function BT(e,t){return(BT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function FT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=HT(e);if(t){var a=HT(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return UT(this,n)}}function UT(e,t){if(t&&("object"===ET(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qT(e)}function qT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HT(e){return(HT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var WT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BT(e,t)}(n,e);var t=FT(n);function n(e,r){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o=(a=t.call(this,e,r)).props,i=o.isActive,s=o.attributeName,l=o.from,c=o.to,u=o.steps,d=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(qT(a)),a.changeStyle=a.changeStyle.bind(qT(a)),!i||p<=0)return a.state={style:{}},"function"==typeof d&&(a.state={style:c}),UT(a);if(u&&u.length)a.state={style:u[0].style};else if(l){if("function"==typeof d)return a.state={style:l},UT(a);a.state={style:s?_T({},s,l):l}}else a.state={style:{}};return a}return LT(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,a=t.attributeName,o=t.shouldReAnimate,i=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(VO(e.to,i)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?s:e.to;if(this.state&&l){var d={style:a?_T({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(RT(RT({},this.props),{},{from:u,begin:0}))}}else{var p={style:a?_T({},a,i):i};this.state&&l&&(a&&l[a]!==i||!a&&l!==i)&&this.setState(p)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,a=e.duration,o=e.easing,i=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=TT(n,r,gT(o),a,this.changeStyle);this.manager.start([l,i,function(){t.stopJSAnimation=c()},a,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,a=e.onAnimationStart,o=n[0],i=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([a].concat(PT(n.reduce(function(e,r,a){if(0===a)return e;var o=r.duration,i=r.easing,s=void 0===i?"ease":i,l=r.style,c=r.properties,u=r.onAnimationEnd,d=a>0?n[a-1]:r,p=c||Object.keys(l);if("function"==typeof s||"spring"===s)return[].concat(PT(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:o,easing:s}),o]);var f=aT(p,o,s),h=RT(RT(RT({},d.style),l),{},{transition:f});return[].concat(PT(e),[h,o,u]).filter(nT)},[i,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=QO());var t=e.begin,n=e.duration,r=e.attributeName,a=e.to,o=e.easing,i=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof o&&"function"!=typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var d=r?_T({},r,a):a,p=aT(Object.keys(d),n,o);u.start([i,t,RT(RT({},d),{},{transition:p}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var n=e.duration;e.attributeName,e.easing;var r=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var a=NT(e,MT),i=o.Children.count(t),s=this.state.style;if("function"==typeof t)return t(s);if(!r||0===i||n<=0)return t;var l=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,i=t.className;return o.cloneElement(e,RT(RT({},a),{},{style:RT(RT({},r),s),className:i}))};return 1===i?l(o.Children.only(t)):o.createElement("div",null,o.Children.map(t,function(e){return l(e)}))}}]),n}(o.PureComponent);function VT(e){return(VT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $T(){return $T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$T.apply(this,arguments)}function GT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return KT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XT(Object(n),!0).forEach(function(t){QT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QT(e,t,n){var r;return r=function(e,t){if("object"!=VT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=VT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==VT(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}WT.displayName="Animate",WT.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},WT.propTypes={from:gO.oneOfType([gO.object,gO.string]),to:gO.oneOfType([gO.object,gO.string]),attributeName:gO.string,duration:gO.number,begin:gO.number,easing:gO.oneOfType([gO.string,gO.func]),steps:gO.arrayOf(gO.shape({duration:gO.number.isRequired,style:gO.object.isRequired,easing:gO.oneOfType([gO.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gO.func]),properties:gO.arrayOf("string"),onAnimationEnd:gO.func})),children:gO.oneOfType([gO.node,gO.func]),isActive:gO.bool,canBegin:gO.bool,onAnimationEnd:gO.func,shouldReAnimate:gO.bool,onAnimationStart:gO.func,onAnimationReStart:gO.func};var ZT=function(e,t,n,r,a){var o,i=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>i?i:a[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(i>0&&a===+a&&a>0){var p=Math.min(i,a);o="M ".concat(e,",").concat(t+s*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(t,"\n            L ").concat(e+n-l*p,",").concat(t,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*p,"\n            L ").concat(e+n,",").concat(t+r-s*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+n-l*p,",").concat(t+r,"\n            L ").concat(e+l*p,",").concat(t+r,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*p," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},JT=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,a=t.x,o=t.y,i=t.width,s=t.height;if(Math.abs(i)>0&&Math.abs(s)>0){var l=Math.min(a,a+i),c=Math.max(a,a+i),u=Math.min(o,o+s),d=Math.max(o,o+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},eE={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tE=function(e){var t=YT(YT({},eE),e),n=o.useRef(),r=GT(o.useState(-1),2),a=r[0],i=r[1];o.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var s=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,p=t.className,f=t.animationEasing,h=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,y=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=Si("recharts-rectangle",p);return y?o.createElement(WT,{canBegin:a>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:h,animationEasing:f,isActive:y},function(e){var r=e.width,i=e.height,s=e.x,l=e.y;return o.createElement(WT,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:g,easing:f},o.createElement("path",$T({},nu(t,!0),{className:v,d:ZT(s,l,r,i,d),ref:n})))}):o.createElement("path",$T({},nu(t,!0),{className:v,d:ZT(s,l,c,u,d)}))};function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nE.apply(this,arguments)}var rE=function(e){var t=e.cx,n=e.cy,r=e.r,a=Si("recharts-dot",e.className);return t===+t&&n===+n&&r===+r?O.createElement("circle",nE({},nu(e,!1),Fc(e),{className:a,cx:t,cy:n,r:r})):null};function aE(e){return(aE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var oE=["x","y","top","left","width","height","className"];function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iE.apply(this,arguments)}function sE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lE(e,t,n){var r;return r=function(e,t){if("object"!=aE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=aE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==aE(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cE(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var uE,dE,pE,fE,hE=function(e,t,n,r,a,o){return"M".concat(e,",").concat(a,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},mE=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,a=void 0===r?0:r,i=e.top,s=void 0===i?0:i,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,p=e.height,f=void 0===p?0:p,h=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sE(Object(n),!0).forEach(function(t){lE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:a,top:s,left:c,width:d,height:f},cE(e,oE));return Ac(n)&&Ac(a)&&Ac(d)&&Ac(f)&&Ac(s)&&Ac(c)?o.createElement("path",iE({},nu(m,!0),{className:Si("recharts-cross",h),d:hE(n,a,d,f,s,c)})):null};const gE=kl(function(){if(fE)return pE;fE=1;var e=El(),t=function(){if(dE)return uE;dE=1;var e=sm()(Object.getPrototypeOf,Object);return uE=e}(),n=Ml(),r=Function.prototype,a=Object.prototype,o=r.toString,i=a.hasOwnProperty,s=o.call(Object);return pE=function(r){if(!n(r)||"[object Object]"!=e(r))return!1;var a=t(r);if(null===a)return!0;var l=i.call(a,"constructor")&&a.constructor;return"function"==typeof l&&l instanceof l&&o.call(l)==s}}());var yE,vE;const bE=kl(function(){if(vE)return yE;vE=1;var e=El(),t=Ml();return yE=function(n){return!0===n||!1===n||t(n)&&"[object Boolean]"==e(n)}}());function xE(e){return(xE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wE(){return wE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wE.apply(this,arguments)}function CE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kE(Object(n),!0).forEach(function(t){SE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function SE(e,t,n){var r;return r=function(e,t){if("object"!=xE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=xE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==xE(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OE,TE,EE,ME,NE,PE,IE,DE,RE=function(e,t,n,r,a){var o,i=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-i/2,",").concat(t+a),o+="L ".concat(e+n-i/2-r,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z")},_E={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LE=function(e){var t=AE(AE({},_E),e),n=o.useRef(),r=CE(o.useState(-1),2),a=r[0],i=r[1];o.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var s=t.x,l=t.y,c=t.upperWidth,u=t.lowerWidth,d=t.height,p=t.className,f=t.animationEasing,h=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=Si("recharts-trapezoid",p);return g?o.createElement(WT,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:h,animationEasing:f,isActive:g},function(e){var r=e.upperWidth,i=e.lowerWidth,s=e.height,l=e.x,c=e.y;return o.createElement(WT,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},o.createElement("path",wE({},nu(t,!0),{className:y,d:RE(l,c,r,i,s),ref:n})))}):o.createElement("g",null,o.createElement("path",wE({},nu(t,!0),{className:y,d:RE(s,l,c,u,d)})))},zE=["option","shapeType","propTransformer","activeClassName","isActive"];function BE(e){return(BE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FE(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function UE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UE(Object(n),!0).forEach(function(t){HE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HE(e,t,n){var r;return r=function(e,t){if("object"!=BE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=BE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==BE(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WE(e,t){return qE(qE({},t),e)}function VE(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return o.createElement(tE,n);case"trapezoid":return o.createElement(LE,n);case"sector":return o.createElement(MS,n);case"symbols":if(function(e){return"symbols"===e}(t))return o.createElement(Xd,n);break;default:return null}}function $E(e){var t,n=e.option,r=e.shapeType,a=e.propTransformer,i=void 0===a?WE:a,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=FE(e,zE);if(o.isValidElement(n))t=o.cloneElement(n,qE(qE({},u),function(e){return o.isValidElement(e)?e.props:e}(n)));else if(sc(n))t=n(u);else if(gE(n)&&!bE(n)){var d=i(n,u);t=o.createElement(VE,{shapeType:r,elementProps:d})}else{var p=u;t=o.createElement(VE,{shapeType:r,elementProps:p})}return c?o.createElement(Eu,{className:l},t):t}function GE(e,t){return null!=t&&"trapezoids"in e.props}function KE(e,t){return null!=t&&"sectors"in e.props}function XE(e,t){return null!=t&&"points"in e.props}function YE(e,t){var n,r,a=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return a&&o}function QE(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function ZE(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function JE(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=function(e,t){var n;return GE(e,t)?n="trapezoids":KE(e,t)?n="sectors":XE(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return GE(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:KE(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:XE(e,t)?t.payload:{}}(n,t),i=r.filter(function(e,r){var i=Bj(o,e),s=n.props[a].filter(function(e){var r=function(e,t){var n;return GE(e,t)?n=YE:KE(e,t)?n=QE:XE(e,t)&&(n=ZE),n}(n,t);return r(e,t)}),l=n.props[a].indexOf(s[s.length-1]);return i&&r===l});return r.indexOf(i[i.length-1])}function eM(){if(ME)return EE;ME=1;var e=Wy(),t=1/0;return EE=function(n){return n?(n=e(n))===t||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}}function tM(){if(PE)return NE;PE=1;var e=function(){if(TE)return OE;TE=1;var e=Math.ceil,t=Math.max;return OE=function(n,r,a,o){for(var i=-1,s=t(e((r-n)/(a||1)),0),l=Array(s);s--;)l[o?s:++i]=n,n+=a;return l}}(),t=Wg(),n=eM();return NE=function(r){return function(a,o,i){return i&&"number"!=typeof i&&t(a,o,i)&&(o=i=void 0),a=n(a),void 0===o?(o=a,a=0):o=n(o),i=void 0===i?a<o?1:-1:n(i),e(a,o,i,r)}}}const nM=kl(function(){if(DE)return IE;DE=1;var e=tM()();return IE=e}());function rM(e){return(rM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aM(Object(n),!0).forEach(function(t){iM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iM(e,t,n){var r;return r=function(e,t){if("object"!=rM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=rM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==rM(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sM=["Webkit","Moz","O","ms"];function lM(e){return(lM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cM(){return cM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cM.apply(this,arguments)}function uM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uM(Object(n),!0).forEach(function(t){yM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vM(r.key),r)}}function fM(e,t,n){return t=mM(t),function(e,t){if(t&&("object"===lM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hM()?Reflect.construct(t,n||[],mM(e).constructor):t.apply(e,n))}function hM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(hM=function(){return!!e})()}function mM(e){return(mM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gM(e,t){return(gM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function yM(e,t,n){return(t=vM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vM(e){var t=function(e,t){if("object"!=lM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=lM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==lM(t)?t:t+""}var bM,xM,wM,CM,jM=function(e){return e.changedTouches&&!!e.changedTouches.length},kM=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yM(n=fM(this,t,[e]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),yM(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),yM(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,a=e.startIndex;null==r||r({endIndex:t,startIndex:a})}),n.detachDragEndListener()}),yM(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),yM(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),yM(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),yM(n,"handleSlideDragStart",function(e){var t=jM(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gM(e,t)}(t,e),n=t,a=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,a=e.height,i=e.stroke,s=Math.floor(n+a/2)-1;return o.createElement(o.Fragment,null,o.createElement("rect",{x:t,y:n,width:r,height:a,fill:i,stroke:"none"}),o.createElement("line",{x1:t+1,y1:s,x2:t+r-1,y2:s,fill:"none",stroke:"#fff"}),o.createElement("line",{x1:t+1,y1:s+2,x2:t+r-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return o.isValidElement(e)?o.cloneElement(e,n):sc(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,a=e.x,o=e.travellerWidth,i=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||i!==t.prevUpdateId)return dM({prevData:n,prevTravellerWidth:o,prevUpdateId:i,prevX:a,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,a=e.x,o=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=pb().domain(nM(0,s)).range([a,a+o-i]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:a,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||a!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([a,a+r-o]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:o,prevUpdateId:i,prevX:a,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var a=Math.floor((n+r)/2);e[a]>t?r=a:n=a}return t>=e[r]?r:n}}],(r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,a=this.state.scaleValues,o=this.props,i=o.gap,s=o.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=t.getIndexInRange(a,l),d=t.getIndexInRange(a,c);return{startIndex:u-u%i,endIndex:d===s?s:d-d%i}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,a=t.dataKey,o=fA(n[e],a,e);return sc(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,a=t.endX,o=this.props,i=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,d=o.onChange,p=e.pageX-n;p>0?p=Math.min(p,i+s-l-a,i+s-l-r):p<0&&(p=Math.max(p,i-r,i-a));var f=this.getIndex({startX:r+p,endX:a+p});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+p,endX:a+p,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=jM(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,a=t.endX,o=t.startX,i=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,p=s.gap,f=s.data,h={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-i):m<0&&(m=Math.max(m,l-i)),h[r]=i+m;var g=this.getIndex(h),y=g.startIndex,v=g.endIndex;this.setState(yM(yM({},r,i+m),"brushMoveStartX",e.pageX),function(){var e;d&&(e=f.length-1,("startX"===r&&(a>o?y%p===0:v%p===0)||a<o&&v===e||"endX"===r&&(a>o?v%p===0:y%p===0)||a>o&&v===e)&&d(g))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,a=r.scaleValues,o=r.startX,i=r.endX,s=this.state[t],l=a.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=i||"endX"===t&&u<=o||this.setState(yM({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,i=e.fill,s=e.stroke;return o.createElement("rect",{stroke:s,fill:i,x:t,y:n,width:r,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,i=e.data,s=e.children,l=e.padding,c=o.Children.only(s);return c?o.cloneElement(c,{x:t,y:n,width:r,height:a,margin:l,compact:!0,data:i}):null}},{key:"renderTravellerLayer",value:function(e,n){var r,a,i=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,p=s.ariaLabel,f=s.data,h=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),y=dM(dM({},nu(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=p||"Min value: ".concat(null===(r=f[h])||void 0===r?void 0:r.name,", Max value: ").concat(null===(a=f[m])||void 0===a?void 0:a.name);return o.createElement(Eu,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,a=n.height,i=n.stroke,s=n.travellerWidth,l=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return o.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:l,y:r,width:c,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,a=e.height,i=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return o.createElement(Eu,{className:"recharts-brush-texts"},o.createElement(Lv,cM({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:r+a/2},d),this.getTextOfTick(t)),o.createElement(Lv,cM({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+i+5,y:r+a/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,a=e.x,i=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,p=u.endX,f=u.isTextActive,h=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!t||!t.length||!Ac(a)||!Ac(i)||!Ac(s)||!Ac(l)||s<=0||l<=0)return null;var y,v,b,x,w=Si("recharts-brush",n),C=1===o.Children.count(r),j=(v="none",b=(y="userSelect").replace(/(\w)/,function(e){return e.toUpperCase()}),(x=sM.reduce(function(e,t){return oM(oM({},e),{},iM({},t+b,v))},{}))[y]=v,x);return o.createElement(Eu,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(d,p),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(p,"endX"),(f||h||m||g||c)&&this.renderText())}}])&&pM(n.prototype,r),a&&pM(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(o.PureComponent);yM(kM,"displayName","Brush"),yM(kM,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});const AM=kl(function(){if(CM)return wM;CM=1;var e=af(),t=Cm(),n=function(){if(xM)return bM;xM=1;var e=_g();return bM=function(t,n){var r;return e(t,function(e,t,a){return!(r=n(e,t,a))}),!!r}}(),r=Al(),a=Wg();return wM=function(o,i,s){var l=r(o)?e:n;return s&&a(o,i,s)&&(i=void 0),l(o,t(i,3))}}());var SM,OM,TM,EM,MM=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t};const NM=kl(function(){if(EM)return TM;EM=1;var e=function(){if(OM)return SM;OM=1;var e=Ug();return SM=function(t,n,r){"__proto__"==n&&e?e(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}}(),t=Rg(),n=Cm();return TM=function(r,a){var o={};return a=n(a,3),t(r,function(t,n,r){e(o,n,a(t,n,r))}),o}}());var PM,IM,DM,RM,_M,LM;const zM=kl(function(){if(LM)return _M;LM=1;var e=IM?PM:(IM=1,PM=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}),t=function(){if(RM)return DM;RM=1;var e=_g();return DM=function(t,n){var r=!0;return e(t,function(e,t,a){return r=!!n(e,t,a)}),r}}(),n=Cm(),r=Al(),a=Wg();return _M=function(o,i,s){var l=r(o)?e:t;return s&&a(o,i,s)&&(i=void 0),l(o,n(i,3))}}());var BM=["x","y"];function FM(e){return(FM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UM(){return UM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UM.apply(this,arguments)}function qM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qM(Object(n),!0).forEach(function(t){WM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WM(e,t,n){var r;return r=function(e,t){if("object"!=FM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=FM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==FM(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VM(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $M(e,t){var n=e.x,r=e.y,a=VM(e,BM),o="".concat(n),i=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),p=parseInt(d,10);return HM(HM(HM(HM(HM({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function GM(e){return o.createElement($E,UM({shapeType:"rectangle",propTransformer:$M,activeClassName:"recharts-active-bar"},e))}var KM,XM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"==typeof e)return e;var a=Ac(n)||function(e){return rc(e)}(n);return a?e(n,r):(a||("production"!==process.env.NODE_ENV?Uk(0,"minPointSize callback function received a value with type of ".concat(FM(n),". Currently only numbers or null/undefined are supported.")):Uk()),t)}},YM=["value","background"];function QM(e){return(QM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZM(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function JM(){return JM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JM.apply(this,arguments)}function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(n),!0).forEach(function(t){sN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lN(r.key),r)}}function rN(e,t,n){return t=oN(t),function(e,t){if(t&&("object"===QM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aN()?Reflect.construct(t,n||[],oN(e).constructor):t.apply(e,n))}function aN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(aN=function(){return!!e})()}function oN(e){return(oN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iN(e,t){return(iN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sN(e,t,n){return(t=lN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lN(e){var t=function(e,t){if("object"!=QM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=QM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==QM(t)?t:t+""}var cN=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return sN(e=rN(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),sN(e,"id",Tc("recharts-bar-")),sN(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),sN(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iN(e,t)}(t,e),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(r=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,a=n.dataKey,i=n.activeIndex,s=n.activeBar,l=nu(this.props,!1);return e&&e.map(function(e,n){var c=n===i,u=c?s:r,d=tN(tN(tN({},l),e),{},{isActive:c,option:u,index:n,dataKey:a,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return o.createElement(Eu,JM({className:"recharts-bar-rectangle"},Uc(t.props,e,n),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(n)}),o.createElement(GM,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,a=t.isAnimationActive,i=t.animationBegin,s=t.animationDuration,l=t.animationEasing,c=t.animationId,u=this.state.prevData;return o.createElement(WT,{begin:i,duration:s,isActive:a,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,i=n.map(function(e,t){var n=u&&u[t];if(n){var o=Nc(n.x,e.x),i=Nc(n.y,e.y),s=Nc(n.width,e.width),l=Nc(n.height,e.height);return tN(tN({},e),{},{x:o(a),y:i(a),width:s(a),height:l(a)})}if("horizontal"===r){var c=Nc(0,e.height)(a);return tN(tN({},e),{},{y:e.y+e.height-c,height:c})}var d=Nc(0,e.width)(a);return tN(tN({},e),{},{width:d})});return o.createElement(Eu,null,e.renderRectanglesStatically(i))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&Bj(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,a=t.activeIndex,i=nu(this.props.background,!1);return n.map(function(t,n){t.value;var s=t.background,l=ZM(t,YM);if(!s)return null;var c=tN(tN(tN(tN(tN({},l),{},{fill:"#eee"},s),i),Uc(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return o.createElement(GM,JM({key:"background-bar-".concat(n),option:e.props.background,isActive:n===a},c))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,a=n.xAxis,i=n.yAxis,s=n.layout,l=Qc(n.children,tA);if(!l)return null;var c="vertical"===s?r[0].height/2:r[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:fA(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return o.createElement(Eu,d,l.map(function(e){return o.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:a,yAxis:i,layout:s,offset:c,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,a=e.xAxis,i=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,p=e.background,f=e.id;if(t||!n||!n.length)return null;var h=this.state.isAnimationFinished,m=Si("recharts-bar",r),g=a&&a.allowDataOverflow,y=i&&i.allowDataOverflow,v=g||y,b=rc(f)?this.id:f;return o.createElement(Eu,{className:m},g||y?o.createElement("defs",null,o.createElement("clipPath",{id:"clipPath-".concat(b)},o.createElement("rect",{x:g?s:s-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,o.createElement(Eu,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!d||h)&&yS.renderCallByParent(this.props,n))}}])&&nN(n.prototype,r),a&&nN(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(o.PureComponent);function uN(e){return(uN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mN(r.key),r)}}function pN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pN(Object(n),!0).forEach(function(t){hN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hN(e,t,n){return(t=mN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mN(e){var t=function(e,t){if("object"!=uN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=uN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uN(t)?t:t+""}KM=cN,sN(cN,"displayName","Bar"),sN(cN,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!vy,animationBegin:0,animationDuration:400,animationEasing:"ease"}),sN(cN,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,p=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var h=t.layout,m=n.type.defaultProps,g=void 0!==m?tN(tN({},m),n.props):n.props,y=g.dataKey,v=g.children,b=g.minPointSize,x="horizontal"===h?i:o,w=c?x.scale.domain():null,C=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]}({numericAxis:x}),j=Qc(v,ev),k=d.map(function(e,t){var r,d,p,m,g,v;c?r=function(e,t){if(!t||2!==t.length||!Ac(t[0])||!Ac(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Ac(e[0])||e[0]<n)&&(a[0]=n),(!Ac(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a}(c[u+t],w):(r=fA(e,y),Array.isArray(r)||(r=[C,r]));var x=XM(b,KM.defaultProps.minPointSize)(r[1],t);if("horizontal"===h){var k,A=[i.scale(r[0]),i.scale(r[1])],S=A[0],O=A[1];d=OA({axis:o,ticks:s,bandSize:a,offset:f.offset,entry:e,index:t}),p=null!==(k=null!=O?O:S)&&void 0!==k?k:void 0,m=f.size;var T=S-O;if(g=Number.isNaN(T)?0:T,v={x:d,y:i.y,width:m,height:i.height},Math.abs(x)>0&&Math.abs(g)<Math.abs(x)){var E=jc(g||x)*(Math.abs(x)-Math.abs(g));p-=E,g+=E}}else{var M=[o.scale(r[0]),o.scale(r[1])],N=M[0],P=M[1];if(d=N,p=OA({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:e,index:t}),m=P-N,g=f.size,v={x:o.x,y:p,width:o.width,height:g},Math.abs(x)>0&&Math.abs(m)<Math.abs(x))m+=jc(m||x)*(Math.abs(x)-Math.abs(m))}return tN(tN(tN({},e),{},{x:d,y:p,width:m,height:g,value:c?r:r[1],payload:e,background:v},j&&j[t]&&j[t].props),{},{tooltipPayload:[DA(n,e)],tooltipPosition:{x:d+m/2,y:p+g/2}})});return tN({data:k,layout:h},p)});var gN=function(e,t){var n=e.x,r=e.y,a=t.x,o=t.y;return{x:Math.min(n,a),y:Math.min(r,o),width:Math.abs(a-n),height:Math.abs(o-r)}},yN=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&dN(t.prototype,n),r&&dN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();hN(yN,"EPS",1e-4);var vN=function(e){var t=Object.keys(e).reduce(function(t,n){return fN(fN({},t),{},hN({},n,yN.create(e[n])))},{});return fN(fN({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,a=n.position;return NM(e,function(e,n){return t[n].apply(e,{bandAware:r,position:a})})},isInRange:function(e){return zM(e,function(e,n){return t[n].isInRange(e)})}})};var bN,xN,wN,CN,jN,kN,AN,SN;function ON(){if(kN)return jN;kN=1;var e=jm(),t=Cm(),n=function(){if(CN)return wN;CN=1;var e=eM();return wN=function(t){var n=e(t),r=n%1;return n==n?r?n-r:n:0}}(),r=Math.max;return jN=function(a,o,i){var s=null==a?0:a.length;if(!s)return-1;var l=null==i?0:n(i);return l<0&&(l=r(s+l,0)),e(a,t(o,3),l)}}const TN=kl(function(){if(SN)return AN;SN=1;var e=function(){if(xN)return bN;xN=1;var e=Cm(),t=cm(),n=um();return bN=function(r){return function(a,o,i){var s=Object(a);if(!t(a)){var l=e(o,3);a=n(a),o=function(e){return l(s[e],e,s)}}var c=r(a,o,i);return c>-1?s[l?a[c]:c]:void 0}}}()(ON());return AN=e}());var EN=kl($l())(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});function MN(e){return(MN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var NN=o.createContext(void 0),PN=o.createContext(void 0),IN=o.createContext(void 0),DN=o.createContext({}),RN=o.createContext(void 0),_N=o.createContext(0),LN=o.createContext(0),zN=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,a=t.offset,i=e.clipPathId,s=e.children,l=e.width,c=e.height,u=EN(a);return o.createElement(NN.Provider,{value:n},o.createElement(PN.Provider,{value:r},o.createElement(DN.Provider,{value:a},o.createElement(IN.Provider,{value:u},o.createElement(RN.Provider,{value:i},o.createElement(_N.Provider,{value:c},o.createElement(LN.Provider,{value:l},s)))))))};function BN(e){var t=Object.keys(e);return 0===t.length?"There are no available ids.":"Available ids are: ".concat(t,".")}var FN=function(e){var t=o.useContext(NN);null==t&&("production"!==process.env.NODE_ENV?Uk(0,"Could not find Recharts context; are you sure this is rendered inside a Recharts wrapper component?"):Uk());var n=t[e];return null==n&&("production"!==process.env.NODE_ENV?Uk(0,'Could not find xAxis by id "'.concat(e,'" [').concat(MN(e),"]. ").concat(BN(t))):Uk()),n},UN=function(e){var t=o.useContext(PN);null==t&&("production"!==process.env.NODE_ENV?Uk(0,"Could not find Recharts context; are you sure this is rendered inside a Recharts wrapper component?"):Uk());var n=t[e];return null==n&&("production"!==process.env.NODE_ENV?Uk(0,'Could not find yAxis by id "'.concat(e,'" [').concat(MN(e),"]. ").concat(BN(t))):Uk()),n},qN=function(){return o.useContext(LN)},HN=function(){return o.useContext(_N)};function WN(e){return(WN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VN(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JN(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $N(e,t,n){return t=KN(t),function(e,t){if(t&&("object"===WN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,GN()?Reflect.construct(t,n||[],KN(e).constructor):t.apply(e,n))}function GN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(GN=function(){return!!e})()}function KN(e){return(KN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XN(e,t){return(XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function YN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YN(Object(n),!0).forEach(function(t){ZN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZN(e,t,n){return(t=JN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JN(e){var t=function(e,t){if("object"!=WN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=WN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==WN(t)?t:t+""}function eP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nP(){return nP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nP.apply(this,arguments)}function rP(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=o.useContext(RN),d=FN(a),p=UN(i),f=o.useContext(IN);if(!u||!f)return null;Nu(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=function(e,t,n,r,a,o,i,s,l){var c=a.x,u=a.y,d=a.width,p=a.height;if(n){var f=l.y,h=e.y.apply(f,{position:o});if(MM(l,"discard")&&!e.y.isInRange(h))return null;var m=[{x:c+d,y:h},{x:c,y:h}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:o});if(MM(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+p},{x:y,y:u}];return"top"===i?v.reverse():v}if(r){var b=l.segment.map(function(t){return e.apply(t,{position:o})});return MM(l,"discard")&&AM(b,function(t){return!e.isInRange(t)})?null:b}return null}(vN({x:d.scale,y:p.scale}),Sc(t),Sc(n),r&&2===r.length,f,e.position,d.orientation,p.orientation,e);if(!h)return null;var m=eP(h,2),g=m[0],y=g.x,v=g.y,b=m[1],x=b.x,w=b.y,C=QN(QN({clipPath:MM(e,"hidden")?"url(#".concat(u,")"):void 0},nu(e,!0)),{},{x1:y,y1:v,x2:x,y2:w});return o.createElement(Eu,{className:Si("recharts-reference-line",l)},function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):sc(e)?e(t):o.createElement("line",nP({},t,{className:"recharts-reference-line-line"}))}(s,C),tS.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2;return gN({x:t,y:n},{x:r,y:a})}({x1:y,y1:v,x2:x,y2:w})))}var aP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$N(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XN(e,t)}(t,e),VN(t,[{key:"render",value:function(){return o.createElement(rP,this.props)}}])}(o.Component);function oP(){return oP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oP.apply(this,arguments)}function iP(e){return(iP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(t){hP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cP(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mP(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uP(e,t,n){return t=pP(t),function(e,t){if(t&&("object"===iP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dP()?Reflect.construct(t,n||[],pP(e).constructor):t.apply(e,n))}function dP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(dP=function(){return!!e})()}function pP(e){return(pP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fP(e,t){return(fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function hP(e,t,n){return(t=mP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mP(e){var t=function(e,t){if("object"!=iP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=iP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==iP(t)?t:t+""}ZN(aP,"displayName","ReferenceLine"),ZN(aP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var gP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uP(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fP(e,t)}(t,e),cP(t,[{key:"render",value:function(){var e=this.props,n=e.x,r=e.y,a=e.r,i=e.alwaysShow,s=e.clipPathId,l=Sc(n),c=Sc(r);if(Nu(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,a=e.yAxis,o=vN({x:r.scale,y:a.scale}),i=o.apply({x:t,y:n},{bandAware:!0});return MM(e,"discard")&&!o.isInRange(i)?null:i}(this.props);if(!u)return null;var d=u.x,p=u.y,f=this.props,h=f.shape,m=f.className,g=lP(lP({clipPath:MM(this.props,"hidden")?"url(#".concat(s,")"):void 0},nu(this.props,!0)),{},{cx:d,cy:p});return o.createElement(Eu,{className:Si("recharts-reference-dot",m)},t.renderDot(h,g),tS.renderCallByParent(this.props,{x:d-a,y:p-a,width:2*a,height:2*a}))}}])}(o.Component);function yP(){return yP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yP.apply(this,arguments)}function vP(e){return(vP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bP(Object(n),!0).forEach(function(t){SP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wP(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OP(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CP(e,t,n){return t=kP(t),function(e,t){if(t&&("object"===vP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jP()?Reflect.construct(t,n||[],kP(e).constructor):t.apply(e,n))}function jP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(jP=function(){return!!e})()}function kP(e){return(kP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AP(e,t){return(AP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function SP(e,t,n){return(t=OP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OP(e){var t=function(e,t){if("object"!=vP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=vP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==vP(t)?t:t+""}hP(gP,"displayName","ReferenceDot"),hP(gP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),hP(gP,"renderDot",function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):sc(e)?e(t):o.createElement(rE,oP({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var TP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),CP(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AP(e,t)}(t,e),wP(t,[{key:"render",value:function(){var e=this.props,n=e.x1,r=e.x2,a=e.y1,i=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;Nu(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Sc(n),d=Sc(r),p=Sc(a),f=Sc(i),h=this.props.shape;if(!(u||d||p||f||h))return null;var m=function(e,t,n,r,a){var o=a.x1,i=a.x2,s=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=vN({x:c.scale,y:u.scale}),p={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(i,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!MM(a,"discard")||d.isInRange(p)&&d.isInRange(f)?gN(p,f):null}(u,d,p,f,this.props);if(!m&&!h)return null;var g=MM(this.props,"hidden")?"url(#".concat(c,")"):void 0;return o.createElement(Eu,{className:Si("recharts-reference-area",s)},t.renderRect(h,xP(xP({clipPath:g},nu(this.props,!0)),m)),tS.renderCallByParent(this.props,m))}}])}(o.Component);function EP(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function MP(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,o=Math.atan(n/t),i=a>o&&a<Math.PI-o?n/Math.sin(a):t/Math.cos(a);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},n)}function NP(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-a)<=0}function PP(e){return(PP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IP(Object(n),!0).forEach(function(t){RP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RP(e,t,n){var r;return r=function(e,t){if("object"!=PP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=PP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==PP(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _P(e,t,n){var r=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!r)return[];if(Ac(l)||vy)return function(e,t){return EP(e,t+1)}(a,"number"==typeof l&&Ac(l)?l:0);var p=[],f="top"===s||"bottom"===s?"width":"height",h=u&&"width"===f?lv(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var a=sc(c)?c(e.value,r):e.value;return"width"===f?MP(lv(a,{fontSize:t,letterSpacing:n}),h,d):lv(a,{fontSize:t,letterSpacing:n})[f]},g=a.length>=2?jc(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,a=e.x,o=e.y,i=e.width,s=e.height;return 1===t?{start:r?a:o,end:r?a+i:o+s}:{start:r?a+i:o+s,end:r?a:o}}(o,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,a){for(var o,i=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,p=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:EP(r,u)};var o,i=c,p=function(){return void 0===o&&(o=n(t,i)),o},f=t.coordinate,h=0===c||NP(e,f,p,d,l);h||(c=0,d=s,u+=1),h&&(d=f+e*(p()/2+a),c+=u)};u<=i.length;)if(o=p())return o.v;return[]}(g,y,m,a,i):(p="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,a,o){var i=(r||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var u=r[s-1],d=n(u,s-1),p=e*(u.coordinate+e*d/2-c);i[s-1]=u=DP(DP({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate}),NP(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+a),i[s-1]=DP(DP({},u),{},{isShow:!0}))}for(var f=o?s-1:s,h=function(t){var r,o=i[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*s()/2-l);i[t]=o=DP(DP({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else i[t]=o=DP(DP({},o),{},{tickCoord:o.coordinate});NP(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+a),i[t]=DP(DP({},o),{},{isShow:!0}))},m=0;m<f;m++)h(m);return i}(g,y,m,a,i,"preserveStartEnd"===l):function(e,t,n,r,a){for(var o=(r||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(t){var r,c=o[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===i-1){var d=e*(c.coordinate+e*u()/2-l);o[t]=c=DP(DP({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=DP(DP({},c),{},{tickCoord:c.coordinate});NP(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),o[t]=DP(DP({},c),{},{isShow:!0}))},u=i-1;u>=0;u--)c(u);return o}(g,y,m,a,i),p.filter(function(e){return e.isShow}))}SP(TP,"displayName","ReferenceArea"),SP(TP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),SP(TP,"renderRect",function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):sc(e)?e(t):o.createElement(tE,yP({},t,{className:"recharts-reference-area-rect"}))});var LP=["viewBox"],zP=["viewBox"],BP=["ticks"];function FP(e){return(FP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UP(){return UP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UP.apply(this,arguments)}function qP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qP(Object(n),!0).forEach(function(t){YP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WP(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function VP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QP(r.key),r)}}function $P(e,t,n){return t=KP(t),function(e,t){if(t&&("object"===FP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,GP()?Reflect.construct(t,n||[],KP(e).constructor):t.apply(e,n))}function GP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(GP=function(){return!!e})()}function KP(e){return(KP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XP(e,t){return(XP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function YP(e,t,n){return(t=QP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QP(e){var t=function(e,t){if("object"!=FP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=FP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==FP(t)?t:t+""}var ZP=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=$P(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XP(e,t)}(t,e),n=t,a=[{key:"renderTickItem",value:function(e,t,n){var r=Si(t.className,"recharts-cartesian-axis-tick-value");return o.isValidElement(e)?o.cloneElement(e,HP(HP({},t),{},{className:r})):sc(e)?e(HP(HP({},t),{},{className:r})):o.createElement(Lv,UP({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(r=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=WP(e,LP),a=this.props,o=a.viewBox,i=WP(a,zP);return!Dc(n,o)||!Dc(r,i)||!Dc(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,a,o,i,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,p=s.orientation,f=s.tickSize,h=s.mirror,m=s.tickMargin,g=h?-1:1,y=e.tickSize||f,v=Ac(e.tickCoord)?e.tickCoord:e.coordinate;switch(p){case"top":t=n=e.coordinate,i=(r=(a=c+ +!h*d)-g*y)-g*m,o=v;break;case"left":r=a=e.coordinate,o=(t=(n=l+ +!h*u)-g*y)-g*m,i=v;break;case"right":r=a=e.coordinate,o=(t=(n=l+ +h*u)+g*y)+g*m,i=v;break;default:t=n=e.coordinate,i=(r=(a=c+ +h*d)+g*y)+g*m,o=v}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:o,y:i}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,i=e.orientation,s=e.mirror,l=e.axisLine,c=HP(HP(HP({},nu(this.props,!1)),nu(l,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var u=+("top"===i&&!s||"bottom"===i&&s);c=HP(HP({},c),{},{x1:t,y1:n+u*a,x2:t+r,y2:n+u*a})}else{var d=+("left"===i&&!s||"right"===i&&s);c=HP(HP({},c),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+a})}return o.createElement("line",UP({},c,{className:Si("recharts-cartesian-axis-line",ec(l,"className"))}))}},{key:"renderTicks",value:function(e,n,r){var a=this,i=this.props,s=i.tickLine,l=i.stroke,c=i.tick,u=i.tickFormatter,d=i.unit,p=_P(HP(HP({},this.props),{},{ticks:e}),n,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=nu(this.props,!1),g=nu(c,!1),y=HP(HP({},m),{},{fill:"none"},nu(s,!1)),v=p.map(function(e,n){var r=a.getTickLineCoord(e),i=r.line,v=r.tick,b=HP(HP(HP(HP({textAnchor:f,verticalAnchor:h},m),{},{stroke:"none",fill:l},g),v),{},{index:n,payload:e,visibleTicksCount:p.length,tickFormatter:u});return o.createElement(Eu,UP({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Uc(a.props,e,n)),s&&o.createElement("line",UP({},y,i,{className:Si("recharts-cartesian-axis-tick-line",ec(s,"className"))})),c&&t.renderTickItem(c,b,"".concat(sc(u)?u(e.value,n):e.value).concat(d||"")))});return o.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,a=t.height,i=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,u=WP(l,BP),d=c;return sc(i)&&(d=c&&c.length>0?i(this.props):i(u)),r<=0||a<=0||!d||!d.length?null:o.createElement(Eu,{className:Si("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),tS.renderCallByParent(this.props))}}])&&VP(n.prototype,r),a&&VP(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(o.Component);YP(ZP,"displayName","CartesianAxis"),YP(ZP,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var JP=["x1","y1","x2","y2","key"],eI=["offset"];function tI(e){return(tI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(t){aI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aI(e,t,n){var r;return r=function(e,t){if("object"!=tI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=tI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tI(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oI(){return oI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oI.apply(this,arguments)}function iI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var sI=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,a=e.y,i=e.width,s=e.height,l=e.ry;return o.createElement("rect",{x:r,y:a,ry:l,width:i,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function lI(e,t){var n;if(o.isValidElement(e))n=o.cloneElement(e,t);else if(sc(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,s=t.y2,l=t.key,c=iI(t,JP),u=nu(c,!1);u.offset;var d=iI(u,eI);n=o.createElement("line",oI({},d,{x1:r,y1:a,x2:i,y2:s,fill:"none",key:l}))}return n}function cI(e){var t=e.x,n=e.width,r=e.horizontal,a=void 0===r||r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(r,o){var i=rI(rI({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(o),index:o});return lI(a,i)});return o.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function uI(e){var t=e.y,n=e.height,r=e.vertical,a=void 0===r||r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(r,o){var i=rI(rI({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(o),index:o});return lI(a,i)});return o.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function dI(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var u=l.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==u[0]&&u.unshift(0);var d=u.map(function(e,l){var c=!u[l+1]?a+s-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return o.createElement("rect",{key:"react-".concat(l),y:e,x:r,height:c,width:i,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return o.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function pI(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==d[0]&&d.unshift(0);var p=d.map(function(e,t){var n=!d[t+1]?i+l-e:d[t+1]-e;if(n<=0)return null;var u=t%r.length;return o.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:c,stroke:"none",fill:r[u],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return o.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var fI=function(e,t){var n=e.xAxis,r=e.width,a=e.height,o=e.offset;return bA(_P(rI(rI(rI({},ZP.defaultProps),n),{},{ticks:xA(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),o.left,o.left+o.width,t)},hI=function(e,t){var n=e.yAxis,r=e.width,a=e.height,o=e.offset;return bA(_P(rI(rI(rI({},ZP.defaultProps),n),{},{ticks:xA(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),o.top,o.top+o.height,t)},mI={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function gI(e){var t,n,r,a,i,s,l,c,u=qN(),d=HN(),p=o.useContext(DN),f=rI(rI({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:mI.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:mI.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:mI.horizontal,horizontalFill:null!==(a=e.horizontalFill)&&void 0!==a?a:mI.horizontalFill,vertical:null!==(i=e.vertical)&&void 0!==i?i:mI.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:mI.verticalFill,x:Ac(e.x)?e.x:p.left,y:Ac(e.y)?e.y:p.top,width:Ac(e.width)?e.width:p.width,height:Ac(e.height)?e.height:p.height}),h=f.x,m=f.y,g=f.width,y=f.height,v=f.syncWithTicks,b=f.horizontalValues,x=f.verticalValues,w=(l=o.useContext(NN),Mc(l)),C=(c=o.useContext(PN),TN(c,function(e){return zM(e.domain,Number.isFinite)})||Mc(c));if(!Ac(g)||g<=0||!Ac(y)||y<=0||!Ac(h)||h!==+h||!Ac(m)||m!==+m)return null;var j=f.verticalCoordinatesGenerator||fI,k=f.horizontalCoordinatesGenerator||hI,A=f.horizontalPoints,S=f.verticalPoints;if((!A||!A.length)&&sc(k)){var O=b&&b.length,T=k({yAxis:C?rI(rI({},C),{},{ticks:O?b:C.ticks}):void 0,width:u,height:d,offset:p},!!O||v);Nu(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(tI(T),"]")),Array.isArray(T)&&(A=T)}if((!S||!S.length)&&sc(j)){var E=x&&x.length,M=j({xAxis:w?rI(rI({},w),{},{ticks:E?x:w.ticks}):void 0,width:u,height:d,offset:p},!!E||v);Nu(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(tI(M),"]")),Array.isArray(M)&&(S=M)}return o.createElement("g",{className:"recharts-cartesian-grid"},o.createElement(sI,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),o.createElement(cI,oI({},f,{offset:p,horizontalPoints:A,xAxis:w,yAxis:C})),o.createElement(uI,oI({},f,{offset:p,verticalPoints:S,xAxis:w,yAxis:C})),o.createElement(dI,oI({},f,{horizontalPoints:A})),o.createElement(pI,oI({},f,{verticalPoints:S})))}gI.displayName="CartesianGrid";var yI=["type","layout","connectNulls","ref"],vI=["key"];function bI(e){return(bI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wI(){return wI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wI.apply(this,arguments)}function CI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CI(Object(n),!0).forEach(function(t){NI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kI(e){return function(e){if(Array.isArray(e))return AI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return AI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AI(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PI(r.key),r)}}function OI(e,t,n){return t=EI(t),function(e,t){if(t&&("object"===bI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,TI()?Reflect.construct(t,n||[],EI(e).constructor):t.apply(e,n))}function TI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(TI=function(){return!!e})()}function EI(e){return(EI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MI(e,t){return(MI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function NI(e,t,n){return(t=PI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PI(e){var t=function(e,t){if("object"!=bI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=bI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==bI(t)?t:t+""}var II=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return NI(e=OI(this,t,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),NI(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),NI(e,"getStrokeDasharray",function(n,r,a){var o=a.reduce(function(e,t){return e+t});if(!o)return e.generateSimpleStrokeDasharray(r,n);for(var i=Math.floor(n/o),s=n%o,l=r-n,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>s){c=[].concat(kI(a.slice(0,u)),[s-d]);break}var p=c.length%2==0?[0,l]:[l];return[].concat(kI(t.repeat(a,i)),kI(c),p).map(function(e){return"".concat(e,"px")}).join(", ")}),NI(e,"id",Tc("recharts-line-")),NI(e,"pathRef",function(t){e.mainCurve=t}),NI(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),NI(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MI(e,t)}(t,e),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(kI(e),[0]):e,r=[],a=0;a<t;++a)r=[].concat(kI(r),kI(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(o.isValidElement(e))n=o.cloneElement(e,t);else if(sc(e))n=e(t);else{var r=t.key,a=xI(t,vI),i=Si("recharts-line-dot","boolean"!=typeof e?e.className:"");n=o.createElement(rE,wI({key:r},a,{className:i}))}return n}}],(r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,a=n.xAxis,i=n.yAxis,s=n.layout,l=Qc(n.children,tA);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:fA(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return o.createElement(Eu,u,l.map(function(e){return o.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:a,yAxis:i,layout:s,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.dot,s=a.points,l=a.dataKey,c=nu(this.props,!1),u=nu(i,!0),d=s.map(function(e,n){var r=jI(jI(jI({key:"dot-".concat(n),r:3},c),u),{},{index:n,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return t.renderDotItem(i,r)}),p={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return o.createElement(Eu,wI({className:"recharts-line-dots",key:"dots"},p),d)}},{key:"renderCurveStatically",value:function(e,t,n,r){var a=this.props,i=a.type,s=a.layout,l=a.connectNulls;a.ref;var c=xI(a,yI),u=jI(jI(jI({},nu(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:i,layout:s,connectNulls:l});return o.createElement(qS,wI({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,a=r.points,i=r.strokeDasharray,s=r.isAnimationActive,l=r.animationBegin,c=r.animationDuration,u=r.animationEasing,d=r.animationId,p=r.animateNewValues,f=r.width,h=r.height,m=this.state,g=m.prevPoints,y=m.totalLength;return o.createElement(WT,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var o=r.t;if(g){var s=g.length/a.length,l=a.map(function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],a=Nc(r.x,e.x),i=Nc(r.y,e.y);return jI(jI({},e),{},{x:a(o),y:i(o)})}if(p){var l=Nc(2*f,e.x),c=Nc(h/2,e.y);return jI(jI({},e),{},{x:l(o),y:c(o)})}return jI(jI({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var c,u=Nc(0,y)(o);if(i){var d="".concat(i).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(u,y,d)}else c=n.generateSimpleStrokeDasharray(y,u);return n.renderCurveStatically(a,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,a=n.isAnimationActive,o=this.state,i=o.prevPoints,s=o.totalLength;return a&&r&&r.length&&(!i&&s>0||!Bj(i,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,a=t.points,i=t.className,s=t.xAxis,l=t.yAxis,c=t.top,u=t.left,d=t.width,p=t.height,f=t.isAnimationActive,h=t.id;if(n||!a||!a.length)return null;var m=this.state.isAnimationFinished,g=1===a.length,y=Si("recharts-line",i),v=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,x=v||b,w=rc(h)?this.id:h,C=null!==(e=nu(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},j=C.r,k=void 0===j?3:j,A=C.strokeWidth,S=void 0===A?2:A,O=(tu(r)?r:{}).clipDot,T=void 0===O||O,E=2*k+S;return o.createElement(Eu,{className:y},v||b?o.createElement("defs",null,o.createElement("clipPath",{id:"clipPath-".concat(w)},o.createElement("rect",{x:v?u:u-d/2,y:b?c:c-p/2,width:v?d:2*d,height:b?p:2*p})),!T&&o.createElement("clipPath",{id:"clipPath-dots-".concat(w)},o.createElement("rect",{x:u-E/2,y:c-E/2,width:d+E,height:p+E}))):null,!g&&this.renderCurve(x,w),this.renderErrorBar(x,w),(g||r)&&this.renderDots(x,T,w),(!f||m)&&yS.renderCallByParent(this.props,a))}}])&&SI(n.prototype,r),a&&SI(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(o.PureComponent);NI(II,"displayName","Line"),NI(II,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!vy,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),NI(II,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout;return jI({points:l.map(function(e,t){var l=fA(e,i);return"horizontal"===u?{x:SA({axis:n,ticks:a,bandSize:s,entry:e,index:t}),y:rc(l)?null:r.scale(l),value:l,payload:e}:{x:rc(l)?null:n.scale(l),y:SA({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:l,payload:e}}),layout:u},c)});var DI,RI=["layout","type","stroke","connectNulls","isRange","ref"],_I=["key"];function LI(e){return(LI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function BI(){return BI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BI.apply(this,arguments)}function FI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FI(Object(n),!0).forEach(function(t){GI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KI(r.key),r)}}function HI(e,t,n){return t=VI(t),function(e,t){if(t&&("object"===LI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,WI()?Reflect.construct(t,n||[],VI(e).constructor):t.apply(e,n))}function WI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(WI=function(){return!!e})()}function VI(e){return(VI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $I(e,t){return($I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function GI(e,t,n){return(t=KI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KI(e){var t=function(e,t){if("object"!=LI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=LI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LI(t)?t:t+""}var XI=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return GI(e=HI(this,t,[].concat(r)),"state",{isAnimationFinished:!0}),GI(e,"id",Tc("recharts-area-")),GI(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),sc(t)&&t()}),GI(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),sc(t)&&t()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$I(e,t)}(t,e),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(r=[{key:"renderDots",value:function(e,n,r){var a=this.props.isAnimationActive,i=this.state.isAnimationFinished;if(a&&!i)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=nu(this.props,!1),p=nu(l,!0),f=c.map(function(e,n){var r=UI(UI(UI({key:"dot-".concat(n),r:3},d),p),{},{index:n,cx:e.x,cy:e.y,dataKey:u,value:e.value,payload:e.payload,points:c});return t.renderDotItem(l,r)}),h={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return o.createElement(Eu,BI({className:"recharts-area-dots"},h),f)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,a=t.strokeWidth,i=r[0].x,s=r[r.length-1].x,l=e*Math.abs(i-s),c=Sj(r.map(function(e){return e.y||0}));return Ac(n)&&"number"==typeof n?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(Sj(n.map(function(e){return e.y||0})),c)),Ac(c)?o.createElement("rect",{x:i<s?i:i-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,a=t.strokeWidth,i=r[0].y,s=r[r.length-1].y,l=e*Math.abs(i-s),c=Sj(r.map(function(e){return e.x||0}));return Ac(n)&&"number"==typeof n?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(Sj(n.map(function(e){return e.x||0})),c)),Ac(c)?o.createElement("rect",{x:0,y:i<s?i:i-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,n,r){var a=this.props,i=a.layout,s=a.type,l=a.stroke,c=a.connectNulls,u=a.isRange;a.ref;var d=zI(a,RI);return o.createElement(Eu,{clipPath:n?"url(#clipPath-".concat(r,")"):null},o.createElement(qS,BI({},nu(d,!0),{points:e,connectNulls:c,type:s,baseLine:t,layout:i,stroke:"none",className:"recharts-area-area"})),"none"!==l&&o.createElement(qS,BI({},nu(this.props,!1),{className:"recharts-area-curve",layout:i,type:s,connectNulls:c,fill:"none",points:e})),"none"!==l&&u&&o.createElement(qS,BI({},nu(this.props,!1),{className:"recharts-area-curve",layout:i,type:s,connectNulls:c,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var n=this,r=this.props,a=r.points,i=r.baseLine,s=r.isAnimationActive,l=r.animationBegin,c=r.animationDuration,u=r.animationEasing,d=r.animationId,p=this.state,f=p.prevPoints,h=p.prevBaseLine;return o.createElement(WT,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var s=r.t;if(f){var l,c=f.length/a.length,u=a.map(function(e,t){var n=Math.floor(t*c);if(f[n]){var r=f[n],a=Nc(r.x,e.x),o=Nc(r.y,e.y);return UI(UI({},e),{},{x:a(s),y:o(s)})}return e});return l=Ac(i)&&"number"==typeof i?Nc(h,i)(s):rc(i)||wc(i)?Nc(h,0)(s):i.map(function(e,t){var n=Math.floor(t*c);if(h[n]){var r=h[n],a=Nc(r.x,e.x),o=Nc(r.y,e.y);return UI(UI({},e),{},{x:a(s),y:o(s)})}return e}),n.renderAreaStatically(u,l,e,t)}return o.createElement(Eu,null,o.createElement("defs",null,o.createElement("clipPath",{id:"animationClipPath-".concat(t)},n.renderClipRect(s))),o.createElement(Eu,{clipPath:"url(#animationClipPath-".concat(t,")")},n.renderAreaStatically(a,i,e,t)))})}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,a=n.baseLine,o=n.isAnimationActive,i=this.state,s=i.prevPoints,l=i.prevBaseLine,c=i.totalLength;return o&&r&&r.length&&(!s&&c>0||!Bj(s,r)||!Bj(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,a,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,a=t.points,i=t.className,s=t.top,l=t.left,c=t.xAxis,u=t.yAxis,d=t.width,p=t.height,f=t.isAnimationActive,h=t.id;if(n||!a||!a.length)return null;var m=this.state.isAnimationFinished,g=1===a.length,y=Si("recharts-area",i),v=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,x=v||b,w=rc(h)?this.id:h,C=null!==(e=nu(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},j=C.r,k=void 0===j?3:j,A=C.strokeWidth,S=void 0===A?2:A,O=(tu(r)?r:{}).clipDot,T=void 0===O||O,E=2*k+S;return o.createElement(Eu,{className:y},v||b?o.createElement("defs",null,o.createElement("clipPath",{id:"clipPath-".concat(w)},o.createElement("rect",{x:v?l:l-d/2,y:b?s:s-p/2,width:v?d:2*d,height:b?p:2*p})),!T&&o.createElement("clipPath",{id:"clipPath-dots-".concat(w)},o.createElement("rect",{x:l-E/2,y:s-E/2,width:d+E,height:p+E}))):null,g?null:this.renderArea(x,w),(r||g)&&this.renderDots(x,T,w),(!f||m)&&yS.renderCallByParent(this.props,a))}}])&&qI(n.prototype,r),a&&qI(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(o.PureComponent);function YI(e){return(YI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QI(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rD(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZI(e,t,n){return t=eD(t),function(e,t){if(t&&("object"===YI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JI()?Reflect.construct(t,n||[],eD(e).constructor):t.apply(e,n))}function JI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(JI=function(){return!!e})()}function eD(e){return(eD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tD(e,t){return(tD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nD(e,t,n){return(t=rD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rD(e){var t=function(e,t){if("object"!=YI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=YI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YI(t)?t:t+""}DI=XI,GI(XI,"displayName","Area"),GI(XI,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!vy,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),GI(XI,"getBaseValue",function(e,t,n,r){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=null!=i?i:o;if(Ac(s)&&"number"==typeof s)return s;var l="horizontal"===a?r:n,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===s?d:"dataMax"===s||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===s?c[0]:"dataMax"===s?c[1]:c[0]}),GI(XI,"getComposedData",function(e){var t,n=e.props,r=e.item,a=e.xAxis,o=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,p=e.displayedData,f=e.offset,h=n.layout,m=u&&u.length,g=DI.getBaseValue(n,r,a,o),y="horizontal"===h,v=!1,b=p.map(function(e,t){var n;m?n=u[d+t]:(n=fA(e,c),Array.isArray(n)?v=!0:n=[g,n]);var r=null==n[1]||m&&null==fA(e,c);return y?{x:SA({axis:a,ticks:i,bandSize:l,entry:e,index:t}),y:r?null:o.scale(n[1]),value:n,payload:e}:{x:r?null:a.scale(n[1]),y:SA({axis:o,ticks:s,bandSize:l,entry:e,index:t}),value:n,payload:e}});return t=m||v?b.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?o.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}}):y?o.scale(g):a.scale(g),UI({points:b,baseLine:t,layout:h,isRange:v},f)}),GI(XI,"renderDotItem",function(e,t){var n;if(o.isValidElement(e))n=o.cloneElement(e,t);else if(sc(e))n=e(t);else{var r=Si("recharts-area-dot","boolean"!=typeof e?e.className:""),a=t.key,i=zI(t,_I);n=o.createElement(rE,BI({},i,{key:a,className:r}))}return n});var aD=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ZI(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tD(e,t)}(t,e),QI(t,[{key:"render",value:function(){return null}}])}(O.Component);nD(aD,"displayName","ZAxis"),nD(aD,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var oD=["option","isActive"];function iD(){return iD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iD.apply(this,arguments)}function sD(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function lD(e){var t=e.option,n=e.isActive,r=sD(e,oD);return"string"==typeof t?O.createElement($E,iD({option:O.createElement(Xd,iD({type:t},r)),isActive:n,shapeType:"symbols"},r)):O.createElement($E,iD({option:t,isActive:n,shapeType:"symbols"},r))}function cD(e){return(cD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uD(){return uD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uD.apply(this,arguments)}function dD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dD(Object(n),!0).forEach(function(t){vD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bD(r.key),r)}}function hD(e,t,n){return t=gD(t),function(e,t){if(t&&("object"===cD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mD()?Reflect.construct(t,n||[],gD(e).constructor):t.apply(e,n))}function mD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(mD=function(){return!!e})()}function gD(e){return(gD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yD(e,t){return(yD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function vD(e,t,n){return(t=bD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bD(e){var t=function(e,t){if("object"!=cD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=cD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cD(t)?t:t+""}var xD=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return vD(e=hD(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),vD(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0})}),vD(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1})}),vD(e,"id",Tc("recharts-scatter-")),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yD(e,t)}(t,e),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}}],(r=[{key:"renderSymbolsStatically",value:function(e){var t=this,n=this.props,r=n.shape,a=n.activeShape,i=n.activeIndex,s=nu(this.props,!1);return e.map(function(e,n){var l=i===n,c=l?a:r,u=pD(pD({},s),e);return o.createElement(Eu,uD({className:"recharts-scatter-symbol",key:"symbol-".concat(null==e?void 0:e.cx,"-").concat(null==e?void 0:e.cy,"-").concat(null==e?void 0:e.size,"-").concat(n)},Uc(t.props,e,n),{role:"img"}),o.createElement(lD,uD({option:c,isActive:l,key:"symbol-".concat(n)},u)))})}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,t=this.props,n=t.points,r=t.isAnimationActive,a=t.animationBegin,i=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state.prevPoints;return o.createElement(WT,{begin:a,duration:i,isActive:r,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var r=t.t,a=n.map(function(e,t){var n=c&&c[t];if(n){var a=Nc(n.cx,e.cx),o=Nc(n.cy,e.cy),i=Nc(n.size,e.size);return pD(pD({},e),{},{cx:a(r),cy:o(r),size:i(r)})}var s=Nc(0,e.size);return pD(pD({},e),{},{size:s(r)})});return o.createElement(Eu,null,e.renderSymbolsStatically(a))})}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,n=e.isAnimationActive,r=this.state.prevPoints;return!(n&&t&&t.length)||r&&Bj(r,t)?this.renderSymbolsStatically(t):this.renderSymbolsWithAnimation()}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.points,n=e.xAxis,r=e.yAxis,a=Qc(e.children,tA);return a?a.map(function(e,a){var i=e.props,s=i.direction,l=i.dataKey;return o.cloneElement(e,{key:"".concat(s,"-").concat(l,"-").concat(t[a]),data:t,xAxis:n,yAxis:r,layout:"x"===s?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===s?+e.node.x:+e.node.y,errorVal:fA(e,t)}}})}):null}},{key:"renderLine",value:function(){var e,t,n=this.props,r=n.points,a=n.line,i=n.lineType,s=n.lineJointType,l=nu(this.props,!1),c=nu(a,!1);if("joint"===i)e=r.map(function(e){return{x:e.cx,y:e.cy}});else if("fitting"===i){var u=function(e){if(!e||!e.length)return null;for(var t=e.length,n=0,r=0,a=0,o=0,i=1/0,s=-1/0,l=0,c=0,u=0;u<t;u++)n+=l=e[u].cx||0,r+=c=e[u].cy||0,a+=l*c,o+=l*l,i=Math.min(i,l),s=Math.max(s,l);var d=t*o!==n*n?(t*a-n*r)/(t*o-n*n):0;return{xmin:i,xmax:s,a:d,b:(r-d*n)/t}}(r),d=u.xmin,p=u.xmax,f=u.a,h=u.b,m=function(e){return f*e+h};e=[{x:d,y:m(d)},{x:p,y:m(p)}]}var g=pD(pD(pD({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:e});return t=o.isValidElement(a)?o.cloneElement(a,g):sc(a)?a(g):o.createElement(qS,uD({},g,{type:s})),o.createElement(Eu,{className:"recharts-scatter-line",key:"recharts-scatter-line"},t)}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.points,r=e.line,a=e.className,i=e.xAxis,s=e.yAxis,l=e.left,c=e.top,u=e.width,d=e.height,p=e.id,f=e.isAnimationActive;if(t||!n||!n.length)return null;var h=this.state.isAnimationFinished,m=Si("recharts-scatter",a),g=i&&i.allowDataOverflow,y=s&&s.allowDataOverflow,v=g||y,b=rc(p)?this.id:p;return o.createElement(Eu,{className:m,clipPath:v?"url(#clipPath-".concat(b,")"):null},g||y?o.createElement("defs",null,o.createElement("clipPath",{id:"clipPath-".concat(b)},o.createElement("rect",{x:g?l:l-u/2,y:y?c:c-d/2,width:g?u:2*u,height:y?d:2*d}))):null,r&&this.renderLine(),this.renderErrorBar(),o.createElement(Eu,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!f||h)&&yS.renderCallByParent(this.props,n))}}])&&fD(n.prototype,r),a&&fD(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(o.PureComponent);function wD(e){return(wD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CD(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TD(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jD(e,t,n){return t=AD(t),function(e,t){if(t&&("object"===wD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kD()?Reflect.construct(t,n||[],AD(e).constructor):t.apply(e,n))}function kD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(kD=function(){return!!e})()}function AD(e){return(AD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SD(e,t){return(SD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function OD(e,t,n){return(t=TD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TD(e){var t=function(e,t){if("object"!=wD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=wD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==wD(t)?t:t+""}function ED(){return ED=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ED.apply(this,arguments)}function MD(e){var t=e.xAxisId,n=qN(),r=HN(),a=FN(t);return null==a?null:O.createElement(ZP,ED({},a,{className:Si("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return xA(e,!0)}}))}vD(xD,"displayName","Scatter"),vD(xD,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!vy,animationBegin:0,animationDuration:400,animationEasing:"linear"}),vD(xD,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,u=Qc(a.props.children,ev),d=rc(t.dataKey)?a.props.dataKey:t.dataKey,p=rc(n.dataKey)?a.props.dataKey:n.dataKey,f=r&&r.dataKey,h=r?r.range:aD.defaultProps.range,m=h&&h[0],g=t.scale.bandwidth?t.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0,v=o.map(function(e,o){var l=fA(e,d),h=fA(e,p),v=!rc(f)&&fA(e,f)||"-",b=[{name:rc(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:l,payload:e,dataKey:d,type:c},{name:rc(n.dataKey)?a.props.name:n.name||n.dataKey,unit:n.unit||"",value:h,payload:e,dataKey:p,type:c}];"-"!==v&&b.push({name:r.name||r.dataKey,unit:r.unit||"",value:v,payload:e,dataKey:f,type:c});var x=SA({axis:t,ticks:i,bandSize:g,entry:e,index:o,dataKey:d}),w=SA({axis:n,ticks:s,bandSize:y,entry:e,index:o,dataKey:p}),C="-"!==v?r.scale(v):m,j=Math.sqrt(Math.max(C,0)/Math.PI);return pD(pD({},e),{},{cx:x,cy:w,x:x-j,y:w-j,xAxis:t,yAxis:n,zAxis:r,width:2*j,height:2*j,size:C,node:{x:l,y:h,z:v},tooltipPayload:b,tooltipPosition:{x:x,y:w},payload:e},u&&u[o]&&u[o].props)});return pD({points:v},l)});var ND=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jD(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SD(e,t)}(t,e),CD(t,[{key:"render",value:function(){return O.createElement(MD,this.props)}}])}(O.Component);function PD(e){return(PD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ID(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BD(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DD(e,t,n){return t=_D(t),function(e,t){if(t&&("object"===PD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,RD()?Reflect.construct(t,n||[],_D(e).constructor):t.apply(e,n))}function RD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(RD=function(){return!!e})()}function _D(e){return(_D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LD(e,t){return(LD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zD(e,t,n){return(t=BD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BD(e){var t=function(e,t){if("object"!=PD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=PD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==PD(t)?t:t+""}function FD(){return FD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FD.apply(this,arguments)}OD(ND,"displayName","XAxis"),OD(ND,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var UD=function(e){var t=e.yAxisId,n=qN(),r=HN(),a=UN(t);return null==a?null:O.createElement(ZP,FD({},a,{className:Si("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return xA(e,!0)}}))},qD=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),DD(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LD(e,t)}(t,e),ID(t,[{key:"render",value:function(){return O.createElement(UD,this.props)}}])}(O.Component);function HD(e){return function(e){if(Array.isArray(e))return WD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return WD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}zD(qD,"displayName","YAxis"),zD(qD,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var VD,$D=function(e,t,n,r,a){var o=Qc(e,aP),i=Qc(e,gP),s=[].concat(HD(o),HD(i)),l=Qc(e,TP),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[c]===n&&MM(t.props,"extendDomain")&&Ac(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var p="".concat(u,"1"),f="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&MM(t.props,"extendDomain")&&Ac(t.props[p])&&Ac(t.props[f])){var r=t.props[p],a=t.props[f];return[Math.min(e[0],r,a),Math.max(e[1],r,a)]}return e},d)}return a&&a.length&&(d=a.reduce(function(e,t){return Ac(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},GD={exports:{}};var KD=(VD||(VD=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new a(r,o||e,i),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,o=r.length,i=new Array(o);a<o;a++)i[a]=r[a].fn;return i},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,o,i){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,o),!0;case 6:return u.fn.call(u.context,t,r,a,o,i),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return i(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||i(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:i(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(GD)),GD.exports);var XD=new(kl(KD)),YD="recharts.syncMouseEvents";function QD(e){return(QD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZD(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eR(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JD(e,t,n){return(t=eR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eR(e){var t=function(e,t){if("object"!=QD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=QD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==QD(t)?t:t+""}var tR=function(){return ZD(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),JD(this,"activeIndex",0),JD(this,"coordinateList",[]),JD(this,"layout","horizontal")},[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,a=e.container,o=void 0===a?null:a,i=e.layout,s=void 0===i?null:i,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!=r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!=o?o:this.container,this.layout=null!=s?s:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,a=n.y,o=n.height,i=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+i+s,u=a+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])}();function nR(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,o=e.endAngle;return{points:[UA(t,n,r,a),UA(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:a,endAngle:o}}function rR(e,t,n){var r,a,o,i;if("horizontal"===e)o=r=t.x,a=n.top,i=n.top+n.height;else if("vertical"===e)i=a=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return nR(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,p=UA(s,l,c,d),f=UA(s,l,u,d);r=p.x,a=p.y,o=f.x,i=f.y}return[{x:r,y:a},{x:o,y:i}]}function aR(e){return(aR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oR(Object(n),!0).forEach(function(t){sR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sR(e,t,n){var r;return r=function(e,t){if("object"!=aR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=aR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==aR(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lR(e){var t,n,r,a=e.element,i=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,p=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=null!==(t=a.props.cursor)&&void 0!==t?t:null===(n=a.type.defaultProps)||void 0===n?void 0:n.cursor;if(!a||!m||!s||!l||"ScatterChart"!==h&&"axis"!==i)return null;var g=qS;if("ScatterChart"===h)r=l,g=mE;else if("BarChart"===h)r=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,u,p),g=tE;else if("radial"===f){var y=nR(l),v=y.cx,b=y.cy,x=y.radius;r={cx:v,cy:b,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:x,outerRadius:x},g=MS}else r={points:rR(f,l,u)},g=qS;var w=iR(iR(iR(iR({stroke:"#ccc",pointerEvents:"none"},u),r),nu(m,!1)),{},{payload:c,payloadIndex:d,className:Si("recharts-tooltip-cursor",m.className)});return o.isValidElement(m)?o.cloneElement(m,w):o.createElement(g,w)}var cR=["item"],uR=["children","className","width","height","style","compact","title","desc"];function dR(e){return(dR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pR(){return pR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pR.apply(this,arguments)}function fR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||wR(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hR(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mR(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SR(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gR(e,t,n){return t=vR(t),function(e,t){if(t&&("object"===dR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yR()?Reflect.construct(t,n||[],vR(e).constructor):t.apply(e,n))}function yR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(yR=function(){return!!e})()}function vR(e){return(vR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bR(e,t){return(bR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xR(e){return function(e){if(Array.isArray(e))return CR(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wR(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wR(e,t){if(e){if("string"==typeof e)return CR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CR(e,t):void 0}}function CR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jR(Object(n),!0).forEach(function(t){AR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AR(e,t,n){return(t=SR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SR(e){var t=function(e,t){if("object"!=dR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=dR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dR(t)?t:t+""}var OR={xAxis:["bottom","top"],yAxis:["left","right"]},TR={width:"100%",height:"100%"},ER={x:0,y:0};function MR(e){return e}var NR=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,a=t.dataEndIndex,o=(null!=n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(xR(e),xR(n)):e},[]);return o.length>0?o:e&&e.length&&Ac(r)&&Ac(a)?e.slice(r,a+1):[]};function PR(e){return"number"===e?[0,"auto"]:void 0}var IR=function(e,t,n,r){var a=e.graphicalItems,o=e.tooltipAxis,i=NR(t,e);return n<0||!a||!a.length||n>=i.length?null:a.reduce(function(a,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=Pc(void 0===u?i:u,o.dataKey,r):c=u&&u[n]||i[n];return c?[].concat(xR(a),[DA(s,c)]):a},[])},DR=function(e,t,n,r){var a=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,n),i=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,i=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(i<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,l=0;l<i;l++){var c=l>0?r[l-1].coordinate:r[i-1].coordinate,u=r[l].coordinate,d=l>=i-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(jc(u-c)!==jc(d-u)){var f=[];if(jc(d-u)===jc(s[1]-s[0])){p=d;var h=u+s[1]-s[0];f[0]=Math.min(h,(h+c)/2),f[1]=Math.max(h,(h+c)/2)}else{p=c;var m=d+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){o=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){o=r[l].index;break}}}else for(var b=0;b<i;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<i-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===i-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,i,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=IR(e,t,c,u),p=function(e,t,n,r){var a=t.find(function(e){return e&&e.index===n});if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var o=a.coordinate,i=r.radius;return kR(kR(kR({},r),UA(r.cx,r.cy,i,o)),{},{angle:o,radius:i})}var s=a.coordinate,l=r.angle;return kR(kR(kR({},r),UA(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return ER}(n,i,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:p}}return null},RR=function(e,t){var n=t.axes,r=t.graphicalItems,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,p=vA(c,a);return n.reduce(function(t,n){var f,h=void 0!==n.type.defaultProps?kR(kR({},n.type.defaultProps),n.props):n.props,m=h.type,g=h.dataKey,y=h.allowDataOverflow,v=h.allowDuplicatedCategory,b=h.scale,x=h.ticks,w=h.includeHidden,C=h[o];if(t[C])return t;var j,k,A,S=NR(e.data,{graphicalItems:r.filter(function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===C}),dataStartIndex:s,dataEndIndex:l}),O=S.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null==e?void 0:e[0],a=null==e?void 0:e[1];if(r&&a&&Ac(r)&&Ac(a))return!0}return!1})(h.domain,y,m)&&(j=NA(h.domain,null,y),!p||"number"!==m&&"auto"===b||(A=hA(S,g,"category")));var T=PR(m);if(!j||0===j.length){var E,M=null!==(E=h.domain)&&void 0!==E?E:T;if(g){if(j=hA(S,g,m),"category"===m&&p){var N=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(j);v&&N?(k=j,j=nM(0,O)):v||(j=IA(M,j,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(xR(e),[t])},[]))}else if("category"===m)j=v?j.filter(function(e){return""!==e&&!rc(e)}):IA(M,j,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||rc(t)?e:[].concat(xR(e),[t])},[]);else if("number"===m){var P=function(e,t,n,r,a){var o=t.map(function(t){return gA(e,t,n,a,r)}).filter(function(e){return!rc(e)});return o&&o.length?o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(S,r.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===C&&(w||!a)}),g,a,c);P&&(j=P)}!p||"number"!==m&&"auto"===b||(A=hA(S,g,"category"))}else j=p?nM(0,O):i&&i[C]&&i[C].hasStack&&"number"===m?"expand"===d?[0,1]:TA(i[C].stackGroups,s,l):yA(S,r.filter(function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===C&&(w||!n)}),m,c,!0);if("number"===m)j=$D(u,j,C,a,x),M&&(j=NA(M,j,y));else if("category"===m&&M){var I=M;j.every(function(e){return I.indexOf(e)>=0})&&(j=I)}}return kR(kR({},t),{},AR({},C,kR(kR({},h),{},{axisType:a,domain:j,categoricalDomain:A,duplicateDomain:k,originalDomain:null!==(f=h.domain)&&void 0!==f?f:T,isCategorical:p,layout:c})))},{})},_R=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,a=t.AxisComp,o=t.graphicalItems,i=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=Qc(c,a),p={};return d&&d.length?p=RR(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(p=function(e,t){var n=t.graphicalItems,r=t.Axis,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=NR(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),p=d.length,f=vA(c,a),h=-1;return n.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?kR(kR({},t.type.defaultProps),t.props):t.props)[o],y=PR("number");return e[g]?e:(h++,f?m=nM(0,p):i&&i[g]&&i[g].hasStack?(m=TA(i[g].stackGroups,s,l),m=$D(u,m,g,a)):(m=NA(y,yA(d,n.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!a}),"number",c),r.defaultProps.allowDataOverflow),m=$D(u,m,g,a)),kR(kR({},e),{},AR({},g,kR(kR({axisType:a},r.defaultProps),{},{hide:!0,orientation:ec(OR,"".concat(a,".").concat(h%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))},{})}(e,{Axis:a,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:l})),p},LR=function(e){var t=e.children,n=e.defaultShowTooltip,r=Zc(t,kM),a=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},zR=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},BR=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),a=void 0===r?{}:r,o=e.yAxisMap,i=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=Zc(c,kM),p=Zc(c,Pg),f=Object.keys(i).reduce(function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:kR(kR({},e),{},AR({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),h=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:kR(kR({},e),{},AR({},r,ec(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),m=kR(kR({},h),f),g=m.bottom;d&&(m.bottom+=d.props.height||kM.defaultProps.height),p&&t&&(m=function(e,t,n,r){var a=n.children,o=n.width,i=n.margin,s=o-(i.left||0)-(i.right||0),l=iA({children:a,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,p=l.align,f=l.verticalAlign,h=l.layout;if(("vertical"===h||"horizontal"===h&&"middle"===f)&&"center"!==p&&Ac(e[p]))return dA(dA({},e),{},pA({},p,e[p]+(u||0)));if(("horizontal"===h||"vertical"===h&&"center"===p)&&"middle"!==f&&Ac(e[f]))return dA(dA({},e),{},pA({},f,e[f]+(d||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return kR(kR({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},FR=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},UR=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,a=void 0===r?"axis":r,i=e.validateTooltipEventTypes,s=void 0===i?["axis"]:i,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,p=function(e,t){var n=t.graphicalItems,r=t.stackGroups,a=t.offset,o=t.updateId,i=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,p=e.barCategoryGap,f=e.maxBarSize,h=zR(u),m=h.numericAxisName,g=h.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=Gc(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,h){var b=NR(e.data,{graphicalItems:[n],dataStartIndex:i,dataEndIndex:s}),x=void 0!==n.type.defaultProps?kR(kR({},n.type.defaultProps),n.props):n.props,w=x.dataKey,C=x.maxBarSize,j=x["".concat(m,"Id")],k=x["".concat(g,"Id")],A=l.reduce(function(e,r){var a,o,i=t["".concat(r.axisType,"Map")],s=x["".concat(r.axisType,"Id")];i&&i[s]||"zAxis"===r.axisType||("production"!==process.env.NODE_ENV?Uk(0,"Specifying a(n) ".concat(r.axisType,"Id requires a corresponding ").concat(r.axisType,"Id on the targeted graphical component ").concat(null!==(a=null==n||null===(o=n.type)||void 0===o?void 0:o.displayName)&&void 0!==a?a:"")):Uk());var l=i[s];return kR(kR({},e),{},AR(AR({},r.axisType,l),"".concat(r.axisType,"Ticks"),xA(l)))},{}),S=A[g],O=A["".concat(g,"Ticks")],T=r&&r[j]&&r[j].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?dA(dA({},e.type.defaultProps),e.props):e.props).stackId;if(Sc(r)){var a=t[r];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null}(n,r[j].stackGroups),E=Gc(n.type).indexOf("Bar")>=0,M=PA(S,O),N=[],P=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,a=void 0===r?{}:r;if(!a)return{};for(var o={},i=Object.keys(a),s=0,l=i.length;s<l;s++)for(var c=a[i[s]].stackGroups,u=Object.keys(c),d=0,p=u.length;d<p;d++){var f=c[u[d]],h=f.items,m=f.cateAxisId,g=h.filter(function(e){return Gc(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?dA(dA({},y),g[0].props):g[0].props,b=v.barSize,x=v[m];o[x]||(o[x]=[]);var w=rc(b)?t:b;o[x].push({item:g[0],stackList:g.slice(1),barSize:rc(w)?void 0:Ec(w,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:FR(A,g)});if(E){var I,D,R=rc(C)?f:C,_=null!==(I=null!==(D=PA(S,O,!0))&&void 0!==D?D:R)&&void 0!==I?I:0;N=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,a=e.sizeList,o=void 0===a?[]:a,i=e.maxBarSize,s=o.length;if(s<1)return null;var l,c=Ec(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,p=r/s,f=o.reduce(function(e,t){return e+t.barSize||0},0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&p>0&&(d=!0,f=s*(p*=.9));var h={offset:((r-f)/2|0)-c,size:0};l=o.reduce(function(e,t){var n={item:t.item,position:{offset:h.offset+h.size+c,size:d?p:t.barSize}},r=[].concat(lA(e),[n]);return h=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:h})}),r},u)}else{var m=Ec(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=i===+i?Math.min(g,i):g;l=o.reduce(function(e,t,n){var r=[].concat(lA(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:d,barCategoryGap:p,bandSize:_!==M?_:M,sizeList:P[k],maxBarSize:R}),_!==M&&(N=N.map(function(e){return kR(kR({},e),{},{position:kR(kR({},e.position),{},{offset:e.position.offset-_/2})})}))}var L,z,B=n&&n.type&&n.type.getComposedData;B&&v.push({props:kR(kR({},B(kR(kR({},A),{},{displayedData:b,props:e,dataKey:w,item:n,bandSize:M,barPosition:N,offset:a,stackedData:T,layout:u,dataStartIndex:i,dataEndIndex:s}))),{},AR(AR(AR({key:n.key||"item-".concat(h)},m,A[m]),g,A[g]),"animationId",o)),childIndex:(L=n,z=e.children,Yc(z).indexOf(L)),item:n})}),v},f=function(e,r){var a=e.props,o=e.dataStartIndex,i=e.dataEndIndex,s=e.updateId;if(!Jc({props:a}))return null;var c=a.children,d=a.layout,f=a.stackOffset,h=a.data,m=a.reverseStackOrder,g=zR(d),y=g.numericAxisName,v=g.cateAxisName,b=Qc(c,n),x=function(e,t,n,r,a,o){if(!e)return null;var i=(o?t.reverse():t).reduce(function(e,t){var a,o=null!==(a=t.type)&&void 0!==a&&a.defaultProps?dA(dA({},t.type.defaultProps),t.props):t.props,i=o.stackId;if(o.hide)return e;var s=o[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(Sc(i)){var c=l.stackGroups[i]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[i]=c}else l.stackGroups[Tc("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return dA(dA({},e),{},pA({},s,l))},{});return Object.keys(i).reduce(function(t,o){var s=i[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,o){var i=s.stackGroups[o];return dA(dA({},t),{},pA({},o,{numericAxisId:n,cateAxisId:r,items:i.items,stackedData:AA(e,i.items,a)}))},{})),dA(dA({},t),{},pA({},o,s))},{})}(h,b,"".concat(y,"Id"),"".concat(v,"Id"),f,m),w=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return kR(kR({},e),{},AR({},n,_R(a,kR(kR({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&x,dataStartIndex:o,dataEndIndex:i}))))},{}),C=BR(kR(kR({},w),{},{props:a,graphicalItems:b}),null==r?void 0:r.legendBBox);Object.keys(w).forEach(function(e){w[e]=u(a,w[e],C,e.replace("Map",""),t)});var j,k,A=w["".concat(v,"Map")],S=(j=Mc(A),{tooltipTicks:k=xA(j,!1,!0),orderedTooltipTicks:Vg(k,function(e){return e.coordinate}),tooltipAxis:j,tooltipAxisBandSize:PA(j,k)}),O=p(a,kR(kR({},w),{},{dataStartIndex:o,dataEndIndex:i,updateId:s,graphicalItems:b,stackGroups:x,offset:C}));return kR(kR({formattedGraphicalItems:O,graphicalItems:b,offset:C,stackGroups:x},S),w)},h=function(e){function n(e){var r,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),AR(i=gR(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),AR(i,"accessibilityManager",new tR),AR(i,"handleLegendBBoxUpdate",function(e){if(e){var t=i.state,n=t.dataStartIndex,r=t.dataEndIndex,a=t.updateId;i.setState(kR({legendBBox:e},f({props:i.props,dataStartIndex:n,dataEndIndex:r,updateId:a},kR(kR({},i.state),{},{legendBBox:e}))))}}),AR(i,"handleReceiveSyncEvent",function(e,t,n){if(i.props.syncId===e){if(n===i.eventEmitterSymbol&&"function"!=typeof i.props.syncMethod)return;i.applySyncEvent(t)}}),AR(i,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==i.state.dataStartIndex||n!==i.state.dataEndIndex){var r=i.state.updateId;i.setState(function(){return kR({dataStartIndex:t,dataEndIndex:n},f({props:i.props,dataStartIndex:t,dataEndIndex:n,updateId:r},i.state))}),i.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),AR(i,"handleMouseEnter",function(e){var t=i.getMouseInfo(e);if(t){var n=kR(kR({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var r=i.props.onMouseEnter;sc(r)&&r(n,e)}}),AR(i,"triggeredAfterMouseMove",function(e){var t=i.getMouseInfo(e),n=t?kR(kR({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};i.setState(n),i.triggerSyncEvent(n);var r=i.props.onMouseMove;sc(r)&&r(n,e)}),AR(i,"handleItemMouseEnter",function(e){i.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),AR(i,"handleItemMouseLeave",function(){i.setState(function(){return{isTooltipActive:!1}})}),AR(i,"handleMouseMove",function(e){e.persist(),i.throttleTriggeredAfterMouseMove(e)}),AR(i,"handleMouseLeave",function(e){i.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};i.setState(t),i.triggerSyncEvent(t);var n=i.props.onMouseLeave;sc(n)&&n(t,e)}),AR(i,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&$c[t]?$c[t]:null}(e),r=ec(i.props,"".concat(n));n&&sc(r)&&r(null!==(t=/.*touch.*/i.test(n)?i.getMouseInfo(e.changedTouches[0]):i.getMouseInfo(e))&&void 0!==t?t:{},e)}),AR(i,"handleClick",function(e){var t=i.getMouseInfo(e);if(t){var n=kR(kR({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var r=i.props.onClick;sc(r)&&r(n,e)}}),AR(i,"handleMouseDown",function(e){var t=i.props.onMouseDown;sc(t)&&t(i.getMouseInfo(e),e)}),AR(i,"handleMouseUp",function(e){var t=i.props.onMouseUp;sc(t)&&t(i.getMouseInfo(e),e)}),AR(i,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),AR(i,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseDown(e.changedTouches[0])}),AR(i,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseUp(e.changedTouches[0])}),AR(i,"handleDoubleClick",function(e){var t=i.props.onDoubleClick;sc(t)&&t(i.getMouseInfo(e),e)}),AR(i,"handleContextMenu",function(e){var t=i.props.onContextMenu;sc(t)&&t(i.getMouseInfo(e),e)}),AR(i,"triggerSyncEvent",function(e){void 0!==i.props.syncId&&XD.emit(YD,i.props.syncId,e,i.eventEmitterSymbol)}),AR(i,"applySyncEvent",function(e){var t=i.props,n=t.layout,r=t.syncMethod,a=i.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)i.setState(kR({dataStartIndex:o,dataEndIndex:s},f({props:i.props,dataStartIndex:o,dataEndIndex:s,updateId:a},i.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=i.state,p=d.offset,h=d.tooltipTicks;if(!p)return;if("function"==typeof r)u=r(h,e);else if("value"===r){u=-1;for(var m=0;m<h.length;m++)if(h[m].value===e.activeLabel){u=m;break}}var g=kR(kR({},p),{},{x:p.left,y:p.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),b=h[u]&&h[u].value,x=IR(i.state,i.props.data,u),w=h[u]?{x:"horizontal"===n?h[u].coordinate:y,y:"horizontal"===n?v:h[u].coordinate}:ER;i.setState(kR(kR({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:x,activeTooltipIndex:u}))}else i.setState(e)}),AR(i,"renderCursor",function(e){var n,r=i.state,a=r.isTooltipActive,s=r.activeCoordinate,l=r.activePayload,c=r.offset,u=r.activeTooltipIndex,d=r.tooltipAxisBandSize,p=i.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:a,h=i.props.layout,m=e.key||"_recharts-cursor";return o.createElement(lR,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:t,element:e,isActive:f,layout:h,offset:c,tooltipAxisBandSize:d,tooltipEventType:p})}),AR(i,"renderPolarAxis",function(e,t,n){var r=ec(e,"type.axisType"),a=ec(i.state,"".concat(r,"Map")),s=e.type.defaultProps,l=void 0!==s?kR(kR({},s),e.props):e.props,c=a&&a[l["".concat(r,"Id")]];return o.cloneElement(e,kR(kR({},c),{},{className:Si(r,c.className),key:e.key||"".concat(t,"-").concat(n),ticks:xA(c,!0)}))}),AR(i,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,a=t.polarRadius,s=i.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=Mc(l),d=Mc(c),p=d.cx,f=d.cy,h=d.innerRadius,m=d.outerRadius;return o.cloneElement(e,{polarAngles:Array.isArray(r)?r:xA(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(a)?a:xA(u,!0).map(function(e){return e.coordinate}),cx:p,cy:f,innerRadius:h,outerRadius:m,key:e.key||"polar-grid",radialLines:n})}),AR(i,"renderLegend",function(){var e=i.state.formattedGraphicalItems,t=i.props,n=t.children,r=t.width,a=t.height,s=i.props.margin||{},l=r-(s.left||0)-(s.right||0),u=iA({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,p=hR(u,cR);return o.cloneElement(d,kR(kR({},p),{},{chartWidth:r,chartHeight:a,margin:s,onBBoxUpdate:i.handleLegendBBoxUpdate}))}),AR(i,"renderTooltip",function(){var e,t=i.props,n=t.children,r=t.accessibilityLayer,a=Zc(n,qy);if(!a)return null;var s=i.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,p=s.offset,f=null!==(e=a.props.active)&&void 0!==e?e:l;return o.cloneElement(a,{viewBox:kR(kR({},p),{},{x:p.left,y:p.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:r})}),AR(i,"renderBrush",function(e){var t=i.props,n=t.margin,r=t.data,a=i.state,s=a.offset,l=a.dataStartIndex,c=a.dataEndIndex,u=a.updateId;return o.cloneElement(e,{key:e.key||"_recharts-brush",onChange:CA(i.handleBrushChange,e.props.onChange),data:r,x:Ac(e.props.x)?e.props.x:s.left,y:Ac(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:Ac(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),AR(i,"renderReferenceElement",function(e,t,n){if(!e)return null;var r=i.clipPathId,a=i.state,s=a.xAxisMap,l=a.yAxisMap,c=a.offset,u=e.type.defaultProps||{},d=e.props,p=d.xAxisId,f=void 0===p?u.xAxisId:p,h=d.yAxisId,m=void 0===h?u.yAxisId:h;return o.cloneElement(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:r})}),AR(i,"renderActivePoints",function(e){var t=e.item,r=e.activePoint,a=e.basePoint,o=e.childIndex,i=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?kR(kR({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=kR(kR({index:o,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:mA(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},nu(u,!1)),Fc(u));return s.push(n.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(o))),a?s.push(n.renderActiveDot(u,kR(kR({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(o))):i&&s.push(null),s}),AR(i,"renderGraphicChild",function(e,t,n){var r=i.filterFormatItem(e,t,n);if(!r)return null;var a=i.getTooltipEventType(),s=i.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,p=Zc(i.props.children,qy),f=r.props,h=f.points,m=f.isRange,g=f.baseLine,y=void 0!==r.item.type.defaultProps?kR(kR({},r.item.type.defaultProps),r.item.props):r.item.props,v=y.activeDot,b=y.hide,x=y.activeBar,w=y.activeShape,C=Boolean(!b&&l&&p&&(v||x||w)),j={};"axis"!==a&&p&&"click"===p.props.trigger?j={onClick:CA(i.handleItemMouseEnter,e.props.onClick)}:"axis"!==a&&(j={onMouseLeave:CA(i.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:CA(i.handleItemMouseEnter,e.props.onMouseEnter)});var k=o.cloneElement(e,kR(kR({},r.props),j));if(C){if(!(u>=0)){var A,S=(null!==(A=i.getItemByXY(i.state.activeCoordinate))&&void 0!==A?A:{graphicalItem:k}).graphicalItem,O=S.item,T=void 0===O?e:O,E=S.childIndex,M=kR(kR(kR({},r.props),j),{},{activeIndex:E});return[o.cloneElement(T,M),null,null]}var N,P;if(c.dataKey&&!c.allowDuplicatedCategory){var I="function"==typeof c.dataKey?function(e){return"function"==typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());N=Pc(h,I,d),P=m&&g&&Pc(g,I,d)}else N=null==h?void 0:h[u],P=m&&g&&g[u];if(w||x){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[o.cloneElement(e,kR(kR(kR({},r.props),j),{},{activeIndex:D})),null,null]}if(!rc(N))return[k].concat(xR(i.renderActivePoints({item:r,activePoint:N,basePoint:P,childIndex:u,isRange:m})))}return m?[k,null,null]:[k,null]}),AR(i,"renderCustomized",function(e,t,n){return o.cloneElement(e,kR(kR({key:"recharts-customized-".concat(n)},i.props),i.state))}),AR(i,"renderMap",{CartesianGrid:{handler:MR,once:!0},ReferenceArea:{handler:i.renderReferenceElement},ReferenceLine:{handler:MR},ReferenceDot:{handler:i.renderReferenceElement},XAxis:{handler:MR},YAxis:{handler:MR},Brush:{handler:i.renderBrush,once:!0},Bar:{handler:i.renderGraphicChild},Line:{handler:i.renderGraphicChild},Area:{handler:i.renderGraphicChild},Radar:{handler:i.renderGraphicChild},RadialBar:{handler:i.renderGraphicChild},Scatter:{handler:i.renderGraphicChild},Pie:{handler:i.renderGraphicChild},Funnel:{handler:i.renderGraphicChild},Tooltip:{handler:i.renderCursor,once:!0},PolarGrid:{handler:i.renderPolarGrid,once:!0},PolarAngleAxis:{handler:i.renderPolarAxis},PolarRadiusAxis:{handler:i.renderPolarAxis},Customized:{handler:i.renderCustomized}}),i.clipPathId="".concat(null!==(r=e.id)&&void 0!==r?r:Tc("recharts"),"-clip"),i.throttleTriggeredAfterMouseMove=$y(i.triggeredAfterMouseMove,null!==(a=e.throttleDelay)&&void 0!==a?a:1e3/60),i.state={},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bR(e,t)}(n,e),mR(n,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,a=e.layout,o=Zc(t,qy);if(o){var i=o.props.defaultIndex;if(!("number"!=typeof i||i<0||i>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[i]&&this.state.tooltipTicks[i].value,l=IR(this.state,n,i,s),c=this.state.tooltipTicks[i].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},p=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});p&&(d=kR(kR({},d),p.props.points[i].tooltipPosition),l=p.props.points[i].tooltipPayload);var f={activeTooltipIndex:i,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(o),this.accessibilityManager.setIndex(i)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var n,r;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}});return null}},{key:"componentDidUpdate",value:function(e){ru([Zc(e.children,qy)],[Zc(this.props.children,qy)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Zc(this.props.children,qy);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),a={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},i=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,i);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),p=DR(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var f=Mc(c).scale,h=Mc(u).scale,m=f&&f.invert?f.invert(o.chartX):null,g=h&&h.invert?h.invert(o.chartY):null;return kR(kR({},o),{},{xValue:m,yValue:g},p)}return p?kR(kR({},o),p):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,a=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var i=this.state.offset;return a>=i.left&&a<=i.left+i.width&&o>=i.top&&o<=i.top+i.height?{x:a,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=Mc(l);return WA({x:a,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=Zc(e,qy),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),kR(kR({},Fc(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){XD.on(YD,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){XD.removeListener(YD,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,a=0,o=r.length;a<o;a++){var i=r[a];if(i.item===e||i.props.key===e.key||t===Gc(i.item.type)&&n===i.childIndex)return i}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,a=t.height,i=t.width;return o.createElement("defs",null,o.createElement("clipPath",{id:e},o.createElement("rect",{x:n,y:r,height:a,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=fR(t,2),r=n[0],a=n[1];return kR(kR({},e),{},AR({},r,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=fR(t,2),r=n[0],a=n[1];return kR(kR({},e),{},AR({},r,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var a=0,o=n.length;a<o;a++){var i=n[a],s=i.props,l=i.item,c=void 0!==l.type.defaultProps?kR(kR({},l.type.defaultProps),l.props):l.props,u=Gc(l.type);if("Bar"===u){var d=(s.data||[]).find(function(t){return JT(e,t)});if(d)return{graphicalItem:i,payload:d}}else if("RadialBar"===u){var p=(s.data||[]).find(function(t){return WA(e,t)});if(p)return{graphicalItem:i,payload:p}}else if(GE(i,r)||KE(i,r)||XE(i,r)){var f=JE({graphicalItem:i,activeTooltipItem:r,itemData:c.data}),h=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:kR(kR({},i),{},{childIndex:h}),payload:XE(i,r)?c.data[f]:i.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!Jc(this))return null;var t,n,r=this.props,a=r.children,i=r.className,s=r.width,l=r.height,c=r.style,u=r.compact,d=r.title,p=r.desc,f=hR(r,uR),h=nu(f,!1);if(u)return o.createElement(zN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},o.createElement(cu,pR({},h,{width:s,height:l,title:d,desc:p}),this.renderClipPath(),ou(a,this.renderMap)));this.props.accessibilityLayer&&(h.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,h.role=null!==(n=this.props.role)&&void 0!==n?n:"application",h.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},h.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return o.createElement(zN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},o.createElement("div",pR({className:Si("recharts-wrapper",i),style:kR({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),o.createElement(cu,pR({},h,{width:s,height:l,title:d,desc:p,style:TR}),this.renderClipPath(),ou(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(o.Component);AR(h,"displayName",t),AR(h,"defaultProps",kR({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),AR(h,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,a=e.children,o=e.width,i=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var p=LR(e);return kR(kR(kR({},p),{},{updateId:0},f(kR(kR({props:e},p),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:i,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||i!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!Dc(c,t.prevMargin)){var h=LR(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=kR(kR({},DR(t,r,s)),{},{updateId:t.updateId+1}),y=kR(kR(kR({},h),m),g);return kR(kR(kR({},y),f(kR({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:i,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!ru(a,t.prevChildren)){var v,b,x,w,C=Zc(a,kM),j=C&&null!==(v=null===(b=C.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,k=C&&null!==(x=null===(w=C.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:d,A=j!==u||k!==d,S=!rc(r)&&!A?t.updateId:t.updateId+1;return kR(kR({updateId:S},f(kR(kR({props:e},t),{},{updateId:S,dataStartIndex:j,dataEndIndex:k}),t)),{},{prevChildren:a,dataStartIndex:j,dataEndIndex:k})}return null}),AR(h,"renderActiveDot",function(e,t,n){var r;return r=o.isValidElement(e)?o.cloneElement(e,t):sc(e)?e(t):o.createElement(rE,t),o.createElement(Eu,{className:"recharts-active-dot",key:n},r)});var m=o.forwardRef(function(e,t){return o.createElement(h,pR({},e,{ref:t}))});return m.displayName=h.displayName,m}({chartName:"ComposedChart",GraphicalChild:[II,XI,cN,xD],axisComponents:[{axisType:"xAxis",AxisComp:ND},{axisType:"yAxis",AxisComp:qD},{axisType:"zAxis",AxisComp:aD}],formatAxisMap:function(e,t,n,r,a){var o=e.width,i=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:i-n.bottom,bottomMirror:i-n.bottom},d=!!Zc(l,cN);return c.reduce(function(o,i){var l,c,p,f,h,m=t[i],g=m.orientation,y=m.domain,v=m.padding,b=void 0===v?{}:v,x=m.mirror,w=m.reversed,C="".concat(g).concat(x?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var j=y[1]-y[0],k=1/0,A=m.categoricalDomain.sort(Ic);if(A.forEach(function(e,t){t>0&&(k=Math.min((e||0)-(A[t-1]||0),k))}),Number.isFinite(k)){var S=k/j,O="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(l=S*O/2),"no-gap"===m.padding){var T=Ec(e.barCategoryGap,S*O),E=S*O/2;l=E-T-(E-T)/O*T}}}c="xAxis"===r?[n.left+(b.left||0)+(l||0),n.left+n.width-(b.right||0)-(l||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(l||0),n.top+n.height-(b.bottom||0)-(l||0)]:m.range,w&&(c=[c[1],c[0]]);var M=function(e,t,n){var r=e.scale,a=e.type,o=e.layout,i=e.axisType;if("auto"===r)return"radial"===o&&"radiusAxis"===i?{scale:ub(),realScaleType:"band"}:"radial"===o&&"angleAxis"===i?{scale:Ix(),realScaleType:"linear"}:"category"===a&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:pb(),realScaleType:"point"}:"category"===a?{scale:ub(),realScaleType:"band"}:{scale:Ix(),realScaleType:"linear"};if(ic(r)){var s="scale".concat(Ru(r));return{scale:(vj[s]||pb)(),realScaleType:vj[s]?s:"point"}}return sc(r)?{scale:r}:{scale:pb(),realScaleType:"point"}}(m,a,d),N=M.scale,P=M.realScaleType;N.domain(y).range(c),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-jA,o=Math.max(r[0],r[1])+jA,i=e(t[0]),s=e(t[n-1]);(i<a||i>o||s<a||s>o)&&e.domain([t[0],t[n-1]])}}(N);var I=function(e,t){var n=t.realScaleType,r=t.type,a=t.tickCount,o=t.originalDomain,i=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var c=Lk(l,a,i);return e.domain([Nj(c),Sj(c)]),{niceTicks:c}}if(a&&"number"===r){var u=e.domain();return{niceTicks:zk(u,a,i)}}return null}(N,fN(fN({},m),{},{realScaleType:P}));"xAxis"===r?(h="top"===g&&!x||"bottom"===g&&x,p=n.left,f=u[C]-h*m.height):"yAxis"===r&&(h="left"===g&&!x||"right"===g&&x,p=u[C]-h*m.width,f=n.top);var D=fN(fN(fN({},m),I),{},{realScaleType:P,x:p,y:f,scale:N,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return D.bandSize=PA(D,I),m.hide||"xAxis"!==r?m.hide||(u[C]+=(h?-1:1)*D.width):u[C]+=(h?-1:1)*D.height,fN(fN({},o),{},hN({},i,D))},{})}}),qR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},HR=o.createContext&&o.createContext(qR),WR=["attr","size","title"];function VR(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $R(){return $R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$R.apply(this,arguments)}function GR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GR(Object(n),!0).forEach(function(t){XR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XR(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YR(e){return e&&e.map((e,t)=>o.createElement(e.tag,KR({key:t},e.attr),YR(e.child)))}function QR(e){return t=>o.createElement(ZR,$R({attr:KR({},e.attr)},t),YR(e.child))}function ZR(e){var t=t=>{var n,{attr:r,size:a,title:i}=e,s=VR(e,WR),l=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),o.createElement("svg",$R({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:KR(KR({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&o.createElement("title",null,i),e.children)};return void 0!==HR?o.createElement(HR.Consumer,null,e=>t(e)):t(qR)}function JR(e){return QR({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function e_(e){return QR({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function t_(e){return QR({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function n_(e){return QR({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function r_(e){return QR({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function a_(e){return QR({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function o_(e){return QR({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(e)}function i_(e){return QR({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function s_(e){return QR({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}const l_=e=>{if(!(e&&e.height&&e.xAxisMap&&e.yAxisMap&&e.offset&&e.data))return null;const{xAxisMap:t,yAxisMap:n,data:r}=e,o=t[0].scale,i=n.cost.scale;return a.jsx("g",{children:r.timeline.map((e,t)=>{const n=o(e.start),s=o(e.end),l=Math.max(s-n,32);let c;if("session"===e.type){const t=r.cost_timeline.find(t=>t.session_id===e.y_position);c=i(t?.cumulative_cost||0)-10}else{const e=r.timeline.slice(0,t).reverse().findIndex(e=>"session"===e.type);if(-1!==e){const n=r.timeline[t-1-e],a=r.cost_timeline.find(e=>e.session_id===n.y_position);c=i(a?.cumulative_cost||0)-10}else c=i(0)-10}return a.jsxs("g",{children:[a.jsx("rect",{x:n,y:c,width:l,height:20,fill:"session"===e.type?e.color:"#D1D5DB",stroke:"session"===e.type?e.color:"#9CA3AF",strokeWidth:2,rx:8,fillOpacity:.1}),"gap"===e.type&&a.jsx("text",{x:n+l/2,y:c+14,textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",fontWeight:"bold",pointerEvents:"none",children:"human_input_waiting"===e.gap_type?`👤 ${e.real_duration?.toFixed(0)}s`:e.label.split(" ")[0]})]},e.id)})})},c_=({active:e,payload:t})=>{if(!e||!t||0===t.length)return null;const n=t[0].payload;return a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card-content",children:[a.jsxs("div",{className:"font-semibold text-sm",children:["Cumulative Cost: $",n.cumulative_cost?.toFixed(6)]}),a.jsxs("div",{className:"text-xs space-y-0_5",children:[a.jsxs("div",{children:["Session Cost: $",n.session_cost?.toFixed(6)]}),a.jsxs("div",{children:["Session: ",n.session_id]})]})]})})},u_=({data:e,height:t=400})=>{const{isDark:n}=Cn();return a.jsxs("div",{className:"full-width",children:[a.jsx("div",{className:"timeline-grid margin-bottom-10",children:[{label:"Sessions",value:e.summary.total_sessions,icon:JR},{label:"Total Cost",value:`$${e.summary.total_cost.toFixed(6)}`,icon:t_},{label:"Duration",value:`${e.summary.total_time.toFixed(1)}s`,icon:e_},{label:"Agents",value:e.summary.total_agents,icon:i_},{label:"Tokens",value:e.summary.total_tokens?.toLocaleString()||"N/A",icon:a_},{label:"Avg Cost",value:`$${e.summary.avg_cost_per_session.toFixed(6)}`,icon:t_}].map(({label:e,value:t,icon:n})=>a.jsx("div",{className:"card",children:a.jsx("div",{className:"card-content",children:a.jsxs("div",{className:"timeline-top",children:[a.jsx(n,{className:"timeline-icon"}),a.jsxs("div",{className:"timeline-top-content",children:[a.jsx("p",{className:"timeline-label",children:e}),a.jsx("p",{className:"timeline-value",children:t})]})]})})},e))}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"card-header",children:[a.jsx("h3",{className:"card-title",children:"Session Activity Timeline with Cumulative Cost"}),a.jsxs("p",{className:"card-description",children:["Interactive timeline showing agent sessions and cost accumulation (human input periods compressed)",e.summary.compression_info.gaps_compressed>0&&a.jsxs("span",{className:"badge badge-secondary",style:{marginLeft:"0.5rem"},children:[e.summary.compression_info.gaps_compressed," gaps compressed,",e.summary.compression_info.time_saved.toFixed(1),"s saved"]})]})]}),a.jsxs("div",{className:"card-content",children:[a.jsx("div",{className:"full-width",children:a.jsx(Jy,{width:"100%",height:t,children:a.jsxs(UR,{data:e.cost_timeline,margin:{top:40,right:100,bottom:60,left:80},children:[a.jsx(gI,{strokeDasharray:"3 3",stroke:n?"#374151":"#e2e8f0"}),a.jsx(ND,{type:"number",dataKey:"time",domain:e.metadata.time_range,tick:{fill:n?"#9CA3AF":"#64748b"},label:{value:"Compressed Timeline (seconds)",position:"insideBottom",offset:-10,fill:n?"#F3F4F6":"#333",fontWeight:500},tickFormatter:e=>`${e.toFixed(1)}s`}),a.jsx(qD,{yAxisId:"cost",orientation:"right",domain:e.metadata.cost_range,stroke:"#8B5CF6",tick:{fill:"#8B5CF6"},tickFormatter:e=>`${e.toFixed(4)}`,label:{value:"Cumulative Cost ($)",angle:-90,position:"insideright",offset:20,fill:"#8B5CF6",fontWeight:500,dx:50}}),a.jsx(qy,{content:a.jsx(c_,{})}),a.jsx(II,{yAxisId:"cost",type:"monotone",dataKey:"cumulative_cost",stroke:"#8B5CF6",strokeWidth:2,dot:{fill:"#8B5CF6",strokeWidth:2,r:4},connectNulls:!0}),a.jsx(wS,{component:t=>a.jsx(l_,{...t,data:e})})]})})}),e.agents.length>0&&a.jsx("div",{className:"timeline-agent-list",children:e.agents.map(e=>a.jsxs("div",{className:"timeline-agent-item",children:[a.jsx("div",{className:"timeline-agent-dot",style:{backgroundColor:e.color}}),a.jsx("span",{className:"timeline-agent-name",children:e.name.replace(/_/g," ")}),a.jsxs("span",{className:"timeline-agent-class",children:["(",e.class,")"]})]},e.name))})]})]})]})},d_=({isOpen:e,onClose:t,data:n})=>a.jsxs(Uo,{id:"timeline-modal",title:"Chat Timeline",isOpen:e,onClose:t,className:"modal-fullscreen",hasMaximizeBtn:!1,hasCloseBtn:!0,hasUnsavedChanges:!1,preventCloseIfUnsavedChanges:!1,noHeader:!0,children:[a.jsx("div",{className:"timeline-modal fullscreen open no-backdrop",children:a.jsx("div",{className:"modal-body",children:a.jsx(u_,{data:n})})}),a.jsx("button",{type:"button",title:"Close preview",className:"modal-close",onClick:t,"data-testid":"modal-close",children:a.jsx(b.FaX,{size:12})})]}),p_='"""Custom update system message function."""\n\n# provide the function to define the system message before replying\n# complete the `custom_update_system_message` below. Do not change the name or the arguments of the function.\n# only complete the function body and the docstring and return the final message.\n# the function should accept the agent and the messages as arguments.\n# example:\n# def custom_update_system_message(\n#     agent: ConversableAgent,\n#     messages: List[Dict[str, Any]]\n# ) -> str:\n#     return "Hello, I am a custom system message"\n\ndef custom_update_system_message(\n     agent: ConversableAgent,\n     messages: List[Dict[str, Any]]\n) -> str:\n    ...\n',f_=e=>{const{data:t,onDataChange:n,darkMode:r}=e,i=o.useMemo(()=>t.updateAgentStateBeforeReply.length>0,[t.updateAgentStateBeforeReply]),s=o.useMemo(()=>i?t.updateAgentStateBeforeReply[0]:{type:"string",content:""},[i,t.updateAgentStateBeforeReply]),[l,c]=o.useState(i),[u,d]=o.useState(s.type);o.useEffect(()=>{c(i),i&&d(s.type)},[i,s.type]);const p=o.useMemo(()=>[{label:"Text",value:"string"},{label:"Function",value:"callable"}],[]),f=o.useMemo(()=>p.find(e=>e.value===u),[p,u]),h=o.useCallback(e=>{if(c(e),e){n({updateAgentStateBeforeReply:[{type:u,content:"string"===u?"":p_}]})}else n({updateAgentStateBeforeReply:[]})},[n,u]),m=o.useCallback(e=>{if(!e)return void n({updateAgentStateBeforeReply:[]});const t=e.value;d(t);n({updateAgentStateBeforeReply:[{type:t,content:"string"===t?"":p_}]})},[n]),g=o.useCallback(e=>{n({updateAgentStateBeforeReply:[{type:"string",content:e.target.value}]})},[n]),y=o.useCallback(e=>{n({updateAgentStateBeforeReply:[{type:"callable",content:e??p_}]})},[n]),v=o.useMemo(()=>i&&"string"===s.type?s.content:"",[i,s]),b=o.useMemo(()=>i&&"callable"===s.type?s.content:p_,[i,s]);return a.jsxs("div",{className:"agent-panel agent-update-state-panel",children:[a.jsx("div",{className:"info margin-bottom-10",children:"You can update the agent's system message before replying. This can be useful if you need to control the system message based on the current conversation context. If enabled, it can be a string or a function. If text, it will be used as a template and substitute the context variables. If a function, it should accept the agent and messages as arguments and return a string."}),a.jsxs("div",{className:"flex-column",children:[a.jsx(io,{label:"Update system message before reply",isChecked:l,onCheckedChange:h,id:"enable-update-system-message","aria-label":"Enable update system message"}),l&&a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:"update-system-message-type-select-input",children:"Message update type"}),a.jsx(lo,{options:p,value:f,onChange:m,inputId:"update-system-message-type-select-input"}),a.jsx("label",{htmlFor:"update-system-message-string",children:"Message update"}),"string"===u?a.jsx(Oo,{rows:4,value:v,placeholder:"Enter a string template with {variable}s",onChange:g,"data-testid":"update-system-message-string",id:"update-system-message-string"}):a.jsx(So,{value:b,onChange:y,darkMode:r,"data-testid":"update-system-message-callable"})]})]})]})};f_.displayName="UpdateState";const h_=o.memo(e=>{const{children:t,id:n}=e;return a.jsx("div",{className:"wizard-step-view","data-testid":`wizard-step-${n}`,children:t})}),m_=o.memo(e=>{const{children:t,activeStep:n=0,canGoForward:r=!0,canGoBack:i=!0,firstBackTitle:s="Cancel",lastNextTitle:l="Finish",onBack:c,onForward:u}=e,[d,p]=o.useState(n);o.useEffect(()=>{p(n)},[n]);const f=o.useMemo(()=>o.Children.toArray(t).filter(e=>o.isValidElement(e)&&e.type===h_),[t]),h=o.useMemo(()=>"function"==typeof i?i(d):i,[i,d]),m=o.useMemo(()=>"function"==typeof r?r(d):r,[r,d]),g=o.useMemo(()=>0===d&&!c||!h,[d,c,h]),y=o.useMemo(()=>d===f.length-1&&!u||!m,[d,f.length,u,m]),v=o.useMemo(()=>0===d?s:"Back",[d,s]),b=o.useMemo(()=>d===f.length-1?l:"Next",[d,f.length,l]),x=o.useCallback(()=>{d>0&&p(e=>e-1),c&&c(d)},[d,c]),w=o.useCallback(()=>{d<f.length-1&&p(e=>e+1),u&&u(d)},[d,f.length,u]),C=o.useMemo(()=>f.map((e,t)=>{const n=d===t,r=n?"wizard-step--active":"";return a.jsx("div",{role:"tab",className:`wizard-step ${r}`,"data-testid":`step-id-${e.props.id}`,"aria-selected":n,"aria-controls":`wizard-step-${e.props.id}`,children:e},`wizard-step-${t}`)}),[f,d]);return a.jsxs("div",{className:"wizard",children:[a.jsx("div",{className:"wizard-steps",role:"tablist",children:C}),a.jsxs("div",{className:"modal-actions",children:[a.jsx("button",{type:"button",title:v,onClick:x,"data-testid":"wizard-back-btn",disabled:g,className:"wizard-action-btn wizard-action-btn-prev","aria-label":v,children:v}),a.jsx("button",{type:"button",title:b,onClick:w,disabled:y,"data-testid":"wizard-next-btn",className:"wizard-action-btn wizard-action-btn-next primary","aria-label":b,children:b})]})]})});h_.displayName="WizardStep",m_.displayName="Wizard";const g_=(e,t)=>({markerEnd:"nested"!==e?{type:i.MarkerType.ArrowClosed,color:t,width:10,height:10}:void 0,style:{stroke:t,strokeWidth:1}}),y_=(e,t)=>`${e.data.label.slice(0,15)} => ${t.data.label.slice(0,15)}`,v_=e=>{const{flowId:t,hidden:n,positionGetter:r,sourceNode:a,targetNode:o,edges:i}=e;if(((e,t)=>void 0!==e.data.parentId||void 0!==t.data.parentId||"group_manager"===e.data.agentType||"group_manager"===t.data.agentType)(a,o)&&((e,t,n,r)=>{if("string"!=typeof e.data.agentType||"string"!=typeof t.data.agentType)return ga({flowId:r,message:`Could not create a connection from ${e.data.label} to ${t.data.label}`,level:"warning",details:"Invalid agent type",withCloseButton:!0}),!0;if(!e.data.parentId&&!["user_proxy","rag_user_proxy","group_manager"].includes(e.data.agentType))return ga({flowId:r,message:`Invalid source agent type: ${a=e.data.agentType,a.replace(/([A-Z])/g," $1").replace(/([0-9])/g," $1").replace(/_/g," ").replace(/-/g," ").trim().toLowerCase().split(" ").map(e=>J(e)).join(" ")}`,level:"warning",details:void 0,withCloseButton:!0}),!0;var a;if(!e.data.parentId&&t.data.parentId)return ga({flowId:r,message:"A connection from a non-group member to a group member is not allowed",level:"warning",details:void 0,withCloseButton:!0}),!0;if("group_manager"===t.data.agentType&&n.filter(e=>e.target===t.id).length>0)return ga({flowId:r,message:"A connection to this group manager already exists",level:"warning",details:void 0,withCloseButton:!0}),!0;return!1})(a,o,i,t))return null;const s=a.data.agentType,{chat:l,chatType:c}=b_(a,o,n,r),u=kr(l),d=pn[s];return{...u,type:c,animated:!!a.data.parentId&&!o.data.parentId,selected:!0,...g_(c,d)}},b_=(e,t,n,r)=>{const a=y_(e,t),o=e.data.agentType,i=t.data.agentType,s=new xe;s.sourceType=o,s.targetType=i,s.description=`${e.data.label} to ${t.data.label}`,s.condition={conditionType:"string_llm",prompt:""},s.name=a,s.order=-1;const l=((e,t,n)=>n?"hidden":"group_manager"===e.data.agentType||"group_manager"===t.data.agentType||void 0!==e.data.parentId||void 0!==t.data.parentId?"group":"chat")(e,t,n);s.position=r(l);return{chat:new we({id:`wc-${Y()}`,data:s,type:l,source:e.id,target:t.id,rest:{}}),chatType:l}},x_=(e,t)=>{const n=e.filter(e=>e.type===t),r={};return n.forEach(e=>{r[e.source]||(r[e.source]=[]),r[e.source].push(e)}),n.map((e,t)=>({...e,data:{...e.data,position:t+1}}))},w_=(e,t)=>{k_(e,t),j_(e,t)},C_=(e,t,n)=>{const r=(new Date).toISOString(),a=new Map(e.map(e=>[e.id,e])),o=t=>t.data&&t.data.prerequisites&&0!==t.data.prerequisites.length?Math.max(...t.data.prerequisites.map(t=>{const n=e.find(e=>e.id===t);return n?.data?.order??0}))+1:0;let i=!0;for(;i;){i=!1;for(const t of e){const e=o(t);a.get(t.id).data?.order!==e&&(a.get(t.id).data.order=e,i=!0)}}const s=Array.from(a.values()),l=t().edges.filter(e=>!s.find(t=>t.id===e.id)).map(e=>({...e,data:{...e.data,order:-1,prerequisites:[]}}));n({edges:[...s,...l],updatedAt:r})},j_=(e,t)=>{!0===e().isAsync?((e,t)=>{const n=e().edges.filter(e=>void 0!==e.data?.order&&e.data.order>=0);C_(n,e,t)})(e,t):((e,t)=>{const n=e().edges.slice().sort((e,t)=>(e.data?.order??-1)-(t.data?.order??-1)),r=new Set;t({edges:n.map(e=>{let t=e.data?.order;if(!t||t<0)return{...e,data:{...e.data,order:t}};for(;t>0&&r.has(t);)t++;return r.add(t),{...e,data:{...e.data,order:t}}}),updatedAt:(new Date).toISOString()})})(e,t)},k_=(e,t)=>{const n=e().edges.map(e=>({...e,data:{...e.data,position:1}})),r=(e=>x_(e,"chat"))(n),a=(e=>x_(e,"nested"))(n),o=(e=>x_(e,"hidden"))(n),i=(e=>x_(e,"group"))(n),s=[...r,...a,...o,...i],l=s.map(e=>e.id),c=Array.from(new Set(l));t({edges:s.filter(e=>c.includes(e.id)),updatedAt:(new Date).toISOString()}),((e,t)=>{const n=e().nodes.filter(e=>"agent"===e.type),r=[],a=[];n.forEach(t=>{(t.data.nestedChats??[]).forEach(t=>{const n=t.messages;let o=0;n.forEach(t=>{const n=e().edges.find(e=>e.id===t.id);n&&"nested"===n.type&&!a.includes(n.id)&&(r.push({...n,data:{...n.data,position:o+1}}),a.push(n.id),o++)})})}),t({edges:[...e().edges.filter(e=>!a.includes(e.id)),...r],updatedAt:(new Date).toISOString()})})(e,t)},A_=(e,t)=>Array.from(new Set([...e,...t])),S_=(e,t)=>Array.from(new Set([...e,...t])),O_=(e,t,n)=>{if(0===e.length&&0===t.length)return n.map(t=>{const n=N_(t,e),r="hidden"===t.type;return{...t,animated:n,hidden:r}});const r=n.map(e=>({...e,data:{...e.data,order:-1}})).filter(e=>!t.find(t=>t.id===e.id));return[...t,...r].map(t=>{const n=N_(t,e),r="hidden"===t.type;return{...t,animated:n,hidden:r}})},T_=(e,t,n)=>{const r=t.filter(t=>!e.find(e=>e.id===t.id));return[...e,...r].map(e=>e.type===n?{...e,hidden:!1}:{...e,hidden:!0})},E_=(e,t,n,r)=>0===n.length&&0===r.length?t:e,M_=(e,t,n,r,a)=>{e.name&&(a.name=n.name),e.description&&(a.description=n.description),e.tags&&(a.tags=A_(t.tags,n.tags)),e.requirements&&(a.requirements=S_(t.requirements,n.requirements)),e.isAsync&&(a.isAsync=n.isAsync??t.isAsync),e.cacheSeed&&(a.cacheSeed=n.cacheSeed??t.cacheSeed??42);const o=[...e.nodes.models,...e.nodes.tools,...e.nodes.agents].map(e=>e.id),i=n.nodes.filter(e=>o.includes(e.id)),s=e.override?i:T_(t.nodes,i,r);a.nodes=s;const l=e.override?n.edges:O_(s,t.edges,n.edges);a.edges=l},N_=(e,t)=>{if("nested"===e.type)return!0;t.find(t=>t.id===e.source),t.find(t=>t.id===e.target);return!1},P_=(e,t)=>{const n=Aa(e().nodes,e().flowId,"model",e().rfInstance);return t({nodes:n,updatedAt:(new Date).toISOString()}),n},I_=(e,t)=>{const n=Aa(e().nodes,e().flowId,"tool",e().rfInstance);return t({nodes:n,updatedAt:(new Date).toISOString()}),n};class D_{get;set;constructor(e,t){this.get=e,this.set=t}static create(e,t){return new D_(e,t)}getAgents=()=>this.get().nodes.filter(e=>"agent"===e.type);getAgentById=e=>{const t=this.get().nodes.find(t=>t.id===e);return t&&"agent"===t.type?t:null};addAgent=(e,t,n)=>{const r=((e,t,n)=>{const r=ee.create(e),a=In(r,t);if(a.data.parentId=n,"rag_user_proxy"===e){const e=new he;a.data={...a.data,...e}}else if("reasoning"===e){const e=new ye;a.data={...a.data,...e}}else if("captain"===e){const e=new ce;a.data={...a.data,...e}}else if("group_manager"===e){const e=new de;e.groupName="Group",a.data={...a.data,...e}}return n&&(a.parentId=n,a.extent="parent"),a})(e,t,n);return r.style={width:"group_manager"===e?En.width:"user_proxy"!==e?Mn.width:Tn.width},"group_manager"===e?this.set({nodes:[r,...this.get().nodes],updatedAt:(new Date).toISOString()}):this.set({nodes:[...this.get().nodes,r],updatedAt:(new Date).toISOString()}),r};cloneAgent=e=>{const t=this.get().nodes.find(t=>t.id===e);if(t){const e=t.data.label+" (copy)",n={x:t.position.x+(t.width??100)+40,y:t.position.y+(t.height??100)+40},r={...t,position:n,id:Y(),data:{...t.data,label:e}};return this.set({nodes:[...this.get().nodes,r],updatedAt:(new Date).toISOString()}),setTimeout(()=>{this.set({nodes:this.get().nodes.map(e=>e.id===r.id?{...e,selected:!0}:{...e,selected:!1})})},10),r}return null};updateAgentData=(e,t)=>{this.set({nodes:this.get().nodes.map(n=>n.id===e?(t.parentId!==n.data.parentId&&(n.parentId=t.parentId??void 0,n.extent=t.parentId?"parent":void 0),{...n,data:{...n.data,...t}}):n),updatedAt:(new Date).toISOString()}),w_(this.get,this.set)};deleteAgent=e=>{const t=this.get().nodes.find(t=>t.id===e);if(t){const n=[e],r=[];if("group_manager"===t.data.agentType){const t=this.getGroupMembers(e);r.push(...t.map(e=>e.id))}this.set({nodes:this.get().nodes.filter(e=>!n.includes(e.id)).map(e=>(r.includes(e.id)&&(e.parentId=void 0,e.data.parentId=void 0,e.extent=void 0),e)),edges:this.get().edges.filter(e=>!n.includes(e.source)&&!n.includes(e.target)).map(e=>r.includes(e.source)||r.includes(e.target)?{...e,animated:!1,type:"chat"}:e),updatedAt:(new Date).toISOString()})}else this.set({nodes:this.get().nodes.filter(t=>t.id!==e),edges:this.get().edges.filter(t=>t.source!==e&&t.target!==e),updatedAt:(new Date).toISOString()});w_(this.get,this.set)};importAgent=(e,t,n,r,a=!0)=>{const o=Nn(e,t),i=In(o,r,n);return r&&(i.position=r),a&&this.set({nodes:[...this.get().nodes,{...i}],updatedAt:(new Date).toISOString()}),i};exportAgent=(e,t)=>{const n=this.get().nodes.find(t=>t.id===e);return n?Pn(n,t):{}};getAgentConnections=(e,t)=>(t||(t={sourcesOnly:!1,targetsOnly:!1}),((e,t,n,r)=>{r||(r={sourcesOnly:!1,targetsOnly:!1});const a=[],o=[],i=[],s=[];for(const l of t){const{sourceNode:t,targetNode:c}=Ca(n,l,e,r);t&&(a.push(t),o.push(l)),c&&(i.push(c),s.push(l))}return{sources:{nodes:a,edges:o},targets:{nodes:i,edges:s}}})(this.get().nodes,this.get().edges,e,t));setAgentGroup=(e,t,n)=>{this.set({nodes:this.get().nodes.map(r=>r.id===e?{...r,position:n??r.position,parentId:t,extent:"parent",data:{...r.data,parentId:t}}:r),updatedAt:(new Date).toISOString()})};getGroupMembers=e=>this.get().nodes.filter(t=>"agent"===t.type&&t.data.parentId===e);addGroupMember=(e,t,n)=>{this.set({nodes:this.get().nodes.map(r=>r.id===t?{...r,position:n||r.position,parentId:e,extent:"parent",data:{...r.data,parentId:e}}:r),updatedAt:(new Date).toISOString()}),w_(this.get,this.set)};removeGroupMember=(e,t)=>{const n=[...this.get().nodes.map(n=>(n.id===t&&n.data.parentId===e&&(n.data.parentId=void 0,n.parentId=void 0,n.extent=void 0,n.position={x:n.position.x+50,y:n.position.y+50}),{...n}))];this.set({nodes:n,updatedAt:(new Date).toISOString()}),w_(this.get,this.set)}}class R_{get;set;constructor(e,t){this.get=e,this.set=t}static create(e,t){return new R_(e,t)}getEdges=()=>this.get().edges;getEdgeById=e=>this.get().edges.find(t=>t.id===e);deleteEdge=e=>{const t=this.get().nodes.filter(e=>"agent"===e.type),n=[...this.get().nodes.filter(e=>"agent"!==e.type),...t.map(t=>{const n=t.data.nestedChats??[];return{...t,data:{...t.data,nestedChats:n.map(t=>({...t,messages:t.messages.filter(t=>t.id!==e),triggeredBy:t.triggeredBy}))}}})],r=this.get().edges.filter(t=>t.id!==e);this.set({nodes:n,edges:r.map((e,t)=>({...e,data:{...e.data,position:t+1}})),updatedAt:(new Date).toISOString()}),this.resetEdgeOrdersAndPositions()};updateEdgeData=(e,t)=>{const n=this.get().edges.find(t=>t.id===e);if(n){const r={...n,data:{...n.data,...t}},a=this.get().edges.map(t=>t.id===e?r:t);this.set({edges:a,updatedAt:(new Date).toISOString()}),this.resetEdgeOrdersAndPositions()}};updateEdgeType=(e,t)=>{this.set({edges:this.get().edges.map(n=>{if(n.id===e){const r=this.get().nodes.find(e=>e.id===n.source);if(!r)throw new Error(`Source node not found for edge ${e}`);const a=pn[r.data.agentType];return{...n,type:t,hidden:!1,data:{...n.data,type:t,order:"nested"===t?-1:n.data?.order??-1,prerequisites:"nested"===t?[]:n.data?.prerequisites??[]},animated:"nested"===t,...g_(t,a)}}return n}),updatedAt:(new Date).toISOString()}),this.resetEdgeOrdersAndPositions()};updateEdgePath=(e,t)=>{const n=this.get().edges.find(t=>t.id===e);if(!n)return;const r=n.type,a=pn[t],{style:o,markerEnd:i}=g_(r,a);this.set({edges:this.get().edges.map(t=>t.id===e?{...t,style:o,markerEnd:i}:{...t}),updatedAt:(new Date).toISOString()}),this.resetEdgeOrdersAndPositions()};addEdge=e=>{const{flowId:t,connection:n,hidden:r}=e,a=this.get().nodes,o=this.get().edges,{source:i,target:s,sourceHandle:l,targetHandle:c}=n,{sourceNode:u,targetNode:d}=((e,t,n)=>{const r=e.find(e=>e.id===t);if(!r)return{sourceNode:null,targetNode:null};const a=e.find(e=>e.id===n);return a?{sourceNode:r,targetNode:a}:{sourceNode:null,targetNode:null}})(a,i,s);if(!u||!d)return null;const p=v_({flowId:t,hidden:r,sourceNode:u,targetNode:d,positionGetter:e=>o.filter(t=>t.type===e).length,edges:o});if(!p)return null;this.set({edges:[...this.get().edges,{...p,sourceHandle:l,targetHandle:c}],updatedAt:(new Date).toISOString()}),this.resetEdgeOrdersAndPositions();return this.get().edges.find(e=>e.id===p.id)??p};onEdgeDoubleClick=(e,t)=>{if(document.querySelectorAll("dialog[open]").length>0)return;const n=Z(this.get().flowId);if(n){const e=n.querySelector(`[data-edge-node-id="${t.source}"]`);if(e)e.setAttribute("data-edge-id",t.id),e.click();else{const e=n.querySelector(`[data-edge-node-id="${t.target}"]`);e&&(e.setAttribute("data-edge-id",t.id),e.click())}}};getEdgeSourceAgent=e=>{const t=this.get().nodes.find(t=>t.id===e.source);if(t&&"agent"===t.type)return t};getEdgeTargetAgent=e=>{const t=this.get().nodes.find(t=>t.id===e.target);if(t&&"agent"===t.type)return t};onReconnect=(e,t)=>{const n=this.get().nodes;if(!((e,t)=>{const n=t.find(t=>t.id===e.target);return!(!t.find(t=>t.id===e.source)||!n)})(t,n))return;const{oldSourceNode:r,oldTargetNode:a,newSourceNode:o,newTargetNode:i,color:s}=((e,t,n)=>{let r,a,o,i,s;for(const l of n)if(l.id===e.source&&(r=l),l.id===e.target&&(a=l),l.id===t.source&&(o=l,s=pn[o.data.agentType]),l.id===t.target&&(i=l),r&&a&&o&&i)break;return{oldSourceNode:r,oldTargetNode:a,newSourceNode:o,newTargetNode:i,color:s}})(e,t,n);if(!(r&&a&&o&&i))return;if(!s)return!1;const l=e.data?.label;e.data&&l===`${r.data.agentType} => ${a.data.agentType}`&&(e.data.label=y_(o,i)),this.set({edges:[...this.get().edges.map(n=>n.id!==e.id?n:{...e,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle,...g_(e.type,s),data:{...n.data,realSource:o.id,realTarget:i.id,sourceType:o.data.agentType,targetType:i.data.agentType}})],updatedAt:(new Date).toISOString()}),this.resetEdgeOrdersAndPositions()};onEdgesChange=e=>{const t=i.applyEdgeChanges(e,this.get().edges);this.set({edges:t,updatedAt:(new Date).toISOString()})};resetEdgeOrdersAndPositions=()=>{w_(this.get,this.set)}}class __{get;set;constructor(e,t){this.get=e,this.set=t}static create(e,t){return new __(e,t)}getViewport=()=>this.get().viewport;getRfInstance=()=>this.get().rfInstance;setRfInstance=e=>{const t=this.get().rfInstance;this.set({rfInstance:e}),t||(P_(this.get,this.set),I_(this.get,this.set))};getFlowInfo=()=>{const{flowId:e,storageId:t,name:n,description:r,tags:a,requirements:o,createdAt:i,updatedAt:s,isAsync:l,cacheSeed:c}=this.get();return{flowId:e,storageId:t??e,name:n??"Untitled Flow",description:r??"A new Waldiez flow",tags:a??[],requirements:o??[],createdAt:i,updatedAt:s,isAsync:l??!1,cacheSeed:void 0!==c?c:42}};onFlowChanged=()=>{const{onChange:e}=this.get(),t=this.exportFlow(!1);return e&&e(JSON.stringify(t)),t};getFlowEdges=()=>{const e=this.get().edges.filter(e=>"chat"===e.type),t=[],n=[];e.forEach(e=>{let r;r="number"==typeof e.data?.order?e.data.order:-1,r>=0?t.push(e):n.push(e)});return{used:t.sort((e,t)=>(e.data?.order??0)-(t.data?.order??0)),remaining:n}};saveFlow=()=>{const{onSave:e}=this.get();if("function"==typeof e){const t=this.exportFlow(!1);e(JSON.stringify(t))}};onViewportChange=(e,t)=>{if("model"===t||"tool"===t){if(e.zoom!==this.get().viewport?.zoom){const{nodes:n,rfInstance:r,flowId:a}=this.get();this.set({nodes:Aa(n,a,t,r),updatedAt:(new Date).toISOString()}),setTimeout(()=>{ka(this.get().rfInstance),this.set({viewport:e})},100)}}else this.set({viewport:e})};importFlow=(e,t,n)=>{const{storageId:r,name:a,description:o,tags:i,requirements:s,nodes:l,edges:c,isAsync:u,rfInstance:d}=this.get(),p={name:a??"Untitled Flow",description:o??"A new Waldiez flow",tags:i??[],requirements:s??[],nodes:l,edges:c,isAsync:u??!1},{name:f,createdAt:h,description:m,tags:g,requirements:y,isAsync:v,nodes:b,edges:x}=((e,t,n,r)=>{let a=e.override?{...n,nodes:[],edges:[]}:{...t};if(e.everything){const c=e.override?n.nodes:T_(t.nodes,n.nodes,r);a=e.override?n:{...a,name:(o=t.name,i=n.name,s=t.nodes,l=t.edges,0===s.length&&0===l.length?i:o),description:E_(t.description,n.description,t.nodes,t.edges),tags:A_(t.tags,n.tags),requirements:S_(t.requirements,n.requirements),isAsync:n.isAsync??t.isAsync,cacheSeed:n.cacheSeed??t.cacheSeed??42,nodes:c,edges:O_(c,t.edges,n.edges)}}else M_(e,t,n,r,a);var o,i,s,l;return a})(e,p,t,n);this.set({name:f,description:m,tags:g,requirements:y,isAsync:v,storageId:r??`wf-${Y()}`,createdAt:h??(new Date).toISOString(),updatedAt:(new Date).toISOString(),nodes:b,edges:x}),w_(this.get,this.set),P_(this.get,this.set),I_(this.get,this.set),setTimeout(()=>{d?.fitView({includeHiddenNodes:!1,padding:.2,duration:100})},200)};exportFlow=e=>{const{isAsync:t,cacheSeed:n,viewport:r,rfInstance:a,name:o,description:i,tags:s,requirements:l,createdAt:c,updatedAt:u,flowId:d,storageId:p}=this.get(),f={nodes:this.get().nodes,edges:this.get().edges,viewport:a?.getViewport()??r??{zoom:1,x:20,y:20},name:o??"Untitled Flow",description:i??"A new Waldiez flow",tags:s??[],requirements:l??[],createdAt:c??(new Date).toISOString(),updatedAt:u??(new Date).toISOString(),flowId:d,storageId:p??d,isAsync:t??!1,cacheSeed:n};return oa.exportFlow(f,e,!1)};updateFlowOrder=e=>{const t=(new Date).toISOString();this.set({edges:this.get().edges.map(t=>{const n=e.find(e=>e.id===t.id)?.order??t.data?.order??-1;return{...t,data:{...t.data,order:n}}}),updatedAt:t})};updateFlowPrerequisites=e=>{C_(e,this.get,this.set)};updateFlowInfo=e=>{this.set({name:e.name,description:e.description,tags:e.tags,requirements:e.requirements,updatedAt:(new Date).toISOString(),isAsync:e.isAsync,cacheSeed:e.cacheSeed})}}class L_{get;set;constructor(e,t){this.get=e,this.set=t}static create(e,t){return new L_(e,t)}getModels=()=>this.get().nodes.filter(e=>"model"===e.type);getModelById=e=>{const t=this.get().nodes.find(t=>t.id===e);return t&&"model"===t.type?t:null};addModel=()=>{const e=this.get().nodes.filter(e=>"model"===e.type).length,t=this.get().flowId,n=this.get().rfInstance,r=ja(e,t,n),a=Me.create(),o=Nr(a,r);this.set({nodes:[...this.get().nodes,{...o,type:"model"}],updatedAt:(new Date).toISOString()}),P_(this.get,this.set),ka(n);return this.get().nodes.find(e=>e.id===o.id)};cloneModel=e=>{const t=this.get().nodes.find(t=>t.id===e);if(!t||"model"!==t.type)return null;const n=this.get().rfInstance;P_(this.get,this.set),ka(n);const r=t.data.label+" (copy)",a=this.getClonedModel(e,n);a.data.label=r,this.set({nodes:[...this.get().nodes.map(t=>t.id===e?{...t,selected:!1}:t),{...a,type:"model",selected:!0}],updatedAt:(new Date).toISOString()}),P_(this.get,this.set),ka(n);return this.get().nodes.find(e=>e.id===a.id)};updateModelData=(e,t)=>{const n=this.get().nodes.find(t=>t.id===e);if(!n||"model"!==n.type)return;const r=(new Date).toISOString();this.set({nodes:[...this.get().nodes.map(n=>n.id===e?{...n,data:{...n.data,...t,updatedAt:r}}:n)],updatedAt:r})};deleteModel=e=>{const t=this.get().rfInstance,n=this.getNodesAfterModelDeletion(e,t);this.set({nodes:n,updatedAt:(new Date).toISOString()}),P_(this.get,this.set),ka(t)};importModel=(e,t,n,r=!0)=>{const a=Er(e),o=Nr(a,n);return o.id=t,n&&(o.position=n),r&&this.set({nodes:this.get().nodes.map(e=>e.id===t?o:e)}),o};exportModel=(e,t)=>{const n=this.get().nodes.find(t=>t.id===e);if(!n||"model"!==n.type)throw new Error(`Model with id ${e} not found`);return Mr(n,t)};getClonedModel=(e,t)=>{if(!this.get().nodes.find(t=>t.id===e))throw new Error(`Model with id ${e} not found`);const n=this.get().nodes.filter(e=>"model"===e.type).length,r=this.get().flowId,a=ja(n,r,t),o=Me.create();return Nr(o,a)};getNodesAfterModelDeletion=(e,t)=>{const n=this.get().nodes.filter(t=>"model"===t.type&&t.id!==e),r=n.length,a=this.get().flowId;for(let s=0;s<r;s++){const e=n[s],r=ja(s,a,t);n[s]={...e,position:r}}const o=n.concat(this.get().nodes.filter(e=>"model"!==e.type)),i=[];return o.forEach(t=>{if("agent"===t.type){const n=t;n.data.modelIds.includes(e)?i.push({...n,data:{...n.data,modelIds:n.data.modelIds.filter(t=>t!==e)}}):i.push(n)}else i.push(t)}),i}}class z_{get;set;constructor(e,t){this.get=e,this.set=t}static create(e,t){return new z_(e,t)}showNodes=e=>{"agent"!==e?(this.isShowingAgents()&&this.storePreviousViewport(),ka(this.get().rfInstance)):this.restorePreviousViewport(),this.set({nodes:this.get().nodes.map(t=>t.type===e?{...t,hidden:!1}:{...t,hidden:!0})})};isShowingAgents=()=>this.get().nodes.some(e=>"agent"===e.type&&!1===e.hidden);storePreviousViewport=()=>{const e=this.get().rfInstance;let t;t=e?{x:e.getViewport().x,y:e.getViewport().y,zoom:e.getViewport().zoom}:this.get().viewport,this.set({previousViewport:t,updatedAt:(new Date).toISOString()})};restorePreviousViewport=()=>{const e=this.get().previousViewport;if(e){this.set({viewport:e,updatedAt:(new Date).toISOString()});const t=this.get().rfInstance;t&&t.setViewport(e)}};onNodesChange=e=>{const t=i.applyNodeChanges(e,this.get().nodes);this.set({nodes:t,updatedAt:(new Date).toISOString()})};onNodeDoubleClick=(e,t)=>{if(document.querySelectorAll("dialog[open]").length>0)return;const n=this.get().flowId,r=Z(n);if(r){const e=r.querySelector(`[data-node-id="${t.id}"]`);e&&e.click()}};reselectNode=e=>{const t=this.get().nodes.find(t=>t.id===e);t&&(t.selected&&this.set({nodes:this.get().nodes.map(t=>t.id===e?{...t,selected:!1}:t)}),this.set({nodes:this.get().nodes.map(t=>t.id===e?{...t,selected:!0}:{...t,selected:!1})}))};highlightNode=e=>{this.set({nodes:this.get().nodes.map(t=>({...t,className:t.id===e?"highlight":""}))})};clearNodeHighlight=()=>{this.set({nodes:this.get().nodes.map(e=>({...e,className:""}))})}}class B_{get;set;constructor(e,t){this.get=e,this.set=t}static create(e,t){return new B_(e,t)}getTools=()=>this.get().nodes.filter(e=>"tool"===e.type);getToolById=e=>{const t=this.get().nodes.find(t=>t.id===e);return t&&"tool"===t.type?t:null};addTool=()=>{const e=this.get().nodes.filter(e=>"tool"===e.type),t=this.get().flowId,n=this.get().rfInstance,r=e.length,a=ja(r,t,n),o=De.create(),i=zr(o,a);this.set({nodes:[...this.get().nodes,{...i,type:"tool"}],updatedAt:(new Date).toISOString()}),I_(this.get,this.set),ka(n);return this.get().nodes.find(e=>e.id===i.id)};cloneTool=e=>{const t=this.get().nodes.find(t=>t.id===e);if(!t||"tool"!==t.type)return null;const n=this.get().rfInstance,r=this.getClonedTool(t,n);this.set({nodes:[...this.get().nodes.map(t=>t.id===e?{...t,selected:!1}:t),{...r,type:"tool",selected:!0}],updatedAt:(new Date).toISOString()}),I_(this.get,this.set),ka(n);return this.get().nodes.find(e=>e.id===r.id)};updateToolData=(e,t)=>{const n=this.get().nodes.find(t=>t.id===e);if(!n||"tool"!==n.type)return;const r=(new Date).toISOString();this.set({nodes:[...this.get().nodes.map(a=>"tool"===a.type&&a.id===e?{...a,data:{...n.data,...t,updatedAt:r}}:a)],updatedAt:r})};deleteTool=e=>{const t=this.get().rfInstance,n=this.getAgentsAfterToolDeletion(e,t);this.set({nodes:n,updatedAt:(new Date).toISOString()}),I_(this.get,this.set),ka(t)};importTool=(e,t,n,r)=>{const a=_r(e),o=zr(a,n);return o.id=t,n&&(o.position=n),r&&this.set({nodes:this.get().nodes.map(e=>e.id===t?o:e)}),o};exportTool=(e,t)=>{const n=this.get().nodes.find(t=>t.id===e);return n&&"tool"===n.type?Lr(n,t):{}};getClonedTool=(e,t)=>{const n=(new Date).toISOString(),r=n,a=this.get().nodes.filter(e=>"tool"===e.type).length,o=this.get().flowId,i=ja(a,o,t),s=e.data.label+" (copy)";return{...e,id:`wt-${Y()}`,data:{...e.data,label:s,createdAt:n,updatedAt:r},position:i}};getAgentAfterToolDeletion=(e,t)=>{const n=t.data.tools.filter(t=>t.id!==e),r=t.data.codeExecutionConfig;if("boolean"==typeof r)return{...t,data:{...t.data,tools:n}};const a=(r.functions??[]).filter(t=>t!==e);return{...t,data:{...t.data,tools:n,codeExecutionConfig:{...r,functions:a}}}};getAgentsAfterToolDeletion=(e,t)=>{const n=this.get().nodes.filter(t=>"tool"===t.type&&t.id!==e),r=n.length,a=this.get().flowId;for(let s=0;s<r;s++){const e=n[s],r=ja(s,a,t);n[s]={...e,position:r}}const o=n.concat(this.get().nodes.filter(e=>"tool"!==e.type)),i=[];return o.forEach(t=>{if("agent"===t.type){const n=this.getAgentAfterToolDeletion(e,t);i.push(n)}else i.push(t)}),i}}const F_=(e,t)=>{const n=h(e,t);if(0===n.length)return!0;return n.every(e=>("CREATE"!==e.type||2!==e.path.length)&&((1!==e.path.length||"string"!=typeof e.path[0]||!["name","description","tags","requirements"].includes(e.path[0]))&&((!e.path.includes("nodes")||!e.path.includes("data"))&&!(e.path.includes("edges")&&e.path.includes("data")&&!e.path.includes("position")))))};function U_({children:e,...t}){const n=o.useRef(void 0),r="boolean"==typeof t.isReadOnly&&t.isReadOnly,i=t.nodes,s=t.edges,l=t.flowId,c=t.name,u=t.description,d=t.tags,p=t.requirements,f=t.createdAt,h=t.updatedAt,y=t.storageId,v=t.onUpload??null,b=t.onChange??null,x=t.onSave??null,w=t.onRun??null,C=t.onConvert??null,j=t.rfInstance,k=t.isAsync??!1;t.cacheSeed;const A=o.useMemo(()=>(n.current=(e=>{const{flowId:t=`wf-${Y()}`,isAsync:n=!1,isReadOnly:r=!1,skipExport:a=!1,skipImport:o=!1,edges:i=[],nodes:s=[],name:l="Untitled Flow",description:c="A new Waldiez flow",tags:u=[],requirements:d=[],createdAt:p=(new Date).toISOString(),updatedAt:f=(new Date).toISOString(),viewport:h={zoom:1,x:50,y:50},onUpload:y=null,onChange:v=null,onSave:b=null,onRun:x=null,onConvert:w=null}=e,C=e.storageId??t;return g.createStore()(m.temporal((m,g)=>({rfInstance:e?.rfInstance,flowId:t,isAsync:n,isReadOnly:r,skipExport:a,skipImport:o,storageId:C,name:l,description:c,tags:u,requirements:d,createdAt:p,updatedAt:f,viewport:h,nodes:s,edges:i,onUpload:y,onChange:v,onSave:b,onRun:x,onConvert:w,...D_.create(g,m),...L_.create(g,m),...B_.create(g,m),...z_.create(g,m),...R_.create(g,m),...__.create(g,m)}),{equality:F_,partialize:e=>{const{flowId:t,nodes:n,edges:r,name:a,description:o,requirements:i,tags:s}=e;return{flowId:t,nodes:n,edges:r,name:a,description:o,requirements:i,tags:s}}}))})({flowId:l,isAsync:k,isReadOnly:r,name:c,description:u,tags:d,requirements:p,storageId:y,createdAt:f,updatedAt:h,nodes:i,edges:s,rfInstance:j,onUpload:v,onChange:b,onSave:x,onRun:w,onConvert:C}),n.current),[l]);return a.jsx(xa.Provider,{value:A,children:e})}const q_=(e,t)=>{const{undo:n,redo:r,futureStates:a,pastStates:i}=(e=>{const t=o.useContext(xa);if(!t)throw new Error("Missing WaldiezContext.Provider in the tree");return f.useStoreWithEqualityFn(t.temporal,e,p.shallow)})(e=>e),s=!0===wa(e=>e.isReadOnly),c=wa(e=>e.deleteAgent),u=wa(e=>e.deleteEdge),d=wa(e=>e.deleteModel),h=wa(e=>e.deleteTool),m=wa(e=>e.saveFlow),g="function"==typeof t&&!1===s,y=()=>{const t=Z(e);if(!t)return!1;const n=t.getBoundingClientRect();return n.width>0&&n.height>0};l.useHotkeys("mod+z",()=>{i.length>0&&y()&&n()},{scopes:e}),l.useHotkeys(["shift+mod+z","mod+y"],()=>{a.length>0&&y()&&r()},{scopes:e}),g&&l.useHotkeys("mod+s",e=>{y()&&(e.preventDefault(),m())},{scopes:e});const v=e=>{const t=e.getAttribute("data-id");if(t){const n=e.classList.contains("react-flow__node-agent"),r=e.classList.contains("react-flow__node-model"),a=e.classList.contains("react-flow__node-tool");n?c(t):r?d(t):a&&h(t)}},b=e=>{const t=e.getAttribute("data-id");t&&u(t)};return{onKeyDown:e=>{s||"Delete"!==e?.key&&"Backspace"!==e?.key||y()&&(e=>{if(s)return;const t=e.target;t instanceof Element&&t.classList.contains("react-flow__node")?v(t):t instanceof Element&&(t.classList.contains("react-flow__edge")||t.classList.contains("edge-data-view"))&&b(t)})(e)}}};function H_(e){return QR({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M435.9 64.9l-367.1 160c-6.5 3.1-6.3 12.4.3 15.3l99.3 56.1c5.9 3.3 13.2 2.6 18.3-1.8l195.8-168.8c1.3-1.1 4.4-3.2 5.6-2 1.3 1.3-.7 4.3-1.8 5.6L216.9 320.1c-4.7 5.3-5.4 13.1-1.6 19.1l64.9 104.1c3.2 6.3 12.3 6.2 15.2-.2L447.2 76c3.3-7.2-4.2-14.5-11.3-11.1z"},child:[]}]})(e)}const W_=o.memo(e=>{const{flowId:t,chat:n}=e,[r,i]=o.useState(""),[s,l]=o.useState(!1),[c,u]=o.useState(null),[d,p]=o.useState(!1),[f,h]=o.useState(!1),[m,g]=o.useState(!0),v=o.useRef(null);o.useEffect(()=>{n?.showUI&&(g(!0),i(""),u(null),requestAnimationFrame(()=>{n.activeRequest?.request_id?v.current?.focus():v.current?.blur()}))},[n?.showUI,n?.activeRequest?.request_id,n?.messages]);const b=o.useCallback((e=!0)=>{const a=[];return e&&(a.push({content:{type:"text",text:r.trim()}}),c&&a.push({content:{type:"image_url",image_url:{url:c}}})),{id:`${t}-${Date.now()}`,request_id:n?.activeRequest?.request_id||"",type:"input_response",timestamp:(new Date).toISOString(),data:a}},[t,n?.activeRequest,r,c]),x=o.useCallback(()=>{n?.handlers?.onUserInput?.(b()),setTimeout(()=>{i(""),u(null)},10)},[n?.handlers,b]),w=o.useCallback(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),x())},[x]),C=o.useCallback(e=>{i(e.target.value)},[]),k=o.useCallback(e=>{const t=e.target.files?.[0];if(t){const e=new FileReader;e.onloadend=()=>{u(e.result)},e.readAsDataURL(t)}e.target.value="",l(!1)},[]),A=o.useCallback(()=>{u(null)},[]),S=o.useCallback(()=>{i(""),u(null),n?.handlers?.onClose?n.handlers.onClose():g(!1)},[n?.handlers]),O=o.useCallback(()=>{l(!0)},[]),T=o.useCallback(()=>{l(!1),setTimeout(()=>{v.current?.focus()},0)},[]),E=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),s?l(!1):S()},[s,S]),M=o.useCallback(()=>{p(!0)},[]),N=`rf-${t}-chat-modal-input`,P=`rf-${t}-chat-modal-image`,I=`rf-${t}-chat-modal`,D=m&&(!0===n?.showUI||void 0!==n&&n.messages.length>0),R=n?.handlers?.onInterrupt?a.jsx("div",{role:"button",className:"chat-modal-action clickable",onClick:n.handlers.onInterrupt,title:"Interrupt",children:a.jsx(y.FaStop,{size:18})}):n?.timeline?a.jsx("div",{role:"button",className:"chat-modal-action clickable",onClick:M,title:"View Timeline","data-testid":`rf-${t}-chat-modal-timeline`,children:a.jsx(j.MdTimeline,{size:18})}):void 0,_=!n||!n?.mediaConfig||n?.mediaConfig?.allowedTypes.includes("image");return d&&n?.timeline?a.jsx(d_,{isOpen:d,onClose:()=>p(!1),data:n.timeline}):a.jsx(Uo,{id:I,title:"Chat",isOpen:D,onClose:S,onCancel:E,beforeTitle:R,className:"chat-modal",hasMaximizeBtn:!0,hasCloseBtn:!1===n?.showUI,dataTestId:I,hasUnsavedChanges:!1,preventCloseIfUnsavedChanges:!1,children:a.jsxs("div",{className:"modal-body",children:[n?.messages&&n.messages.length>0&&a.jsx("div",{className:"chat-wrapper","data-flow-id":t,children:a.jsx(wo,{isDarkMode:!1,messages:n.messages,userParticipants:n.userParticipants,activeRequest:n.activeRequest})}),a.jsx("div",{className:"input-prompt",children:n?.activeRequest?.prompt}),void 0!==n?.activeRequest?.request_id&&a.jsxs("div",{className:"chat-input-container",children:[c&&a.jsx("div",{className:"chat-image-preview",children:a.jsxs("div",{className:"chat-image-wrapper",children:[a.jsx("img",{src:c,alt:"Preview",className:"chat-preview-image"}),a.jsx("button",{type:"button",className:"chat-remove-image-button",onClick:A,title:"Remove Image","aria-label":"Remove uploaded image",children:a.jsx(s_,{size:14})})]})}),a.jsx("div",{className:"chat-input-field-container",children:!0===n?.activeRequest?.password?a.jsxs("div",{className:"password-toggle-container",children:[a.jsx("input",{type:f?"text":"password",ref:v,placeholder:"Enter your password",id:N,"data-testid":N,value:r,disabled:void 0===n?.activeRequest?.request_id,onKeyDown:w,onChange:C,className:"chat-text-input password-input",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none","aria-label":"Password input"}),a.jsx("button",{type:"button",className:"password-toggle-button",onClick:()=>h(!f),title:f?"Hide password":"Show password","aria-label":f?"Hide password":"Show password",disabled:void 0===n?.activeRequest?.request_id,children:f?a.jsx(n_,{size:18}):a.jsx(r_,{size:18})})]}):a.jsx("input",{type:"text",ref:v,placeholder:"Enter your message here",id:N,"data-testid":N,value:r,disabled:void 0===n?.activeRequest?.request_id,onKeyDown:w,onChange:C,className:"chat-text-input",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none","aria-label":"User input"})}),void 0!==n?.activeRequest?.request_id&&a.jsxs("div",{className:"chat-input-actions",children:[_?a.jsxs("label",{htmlFor:P,className:"chat-upload-button",children:[a.jsx(o_,{size:18,"aria-hidden":"true"}),a.jsx("span",{className:"hidden",children:"Upload an image"}),a.jsx("input",{type:"file",disabled:void 0===n?.activeRequest?.request_id,"aria-label":"Upload an image",id:P,"data-testid":P,accept:"image/*",className:"chat-upload-input",onChange:k,onClick:O,onBlur:T})]}):a.jsx("div",{className:"chat-upload-button"}),a.jsx("button",{type:"button",title:"Send",disabled:void 0===n?.activeRequest?.request_id,onClick:x,className:"chat-send-button","data-testid":`rf-${t}-chat-modal-submit`,"aria-label":"Send message",children:a.jsx(H_,{size:20,"aria-hidden":"true"})})]})]})]})})});W_.displayName="ChatModal";const V_="https://hub.waldiez.io/api/files",$_=o.memo(e=>{const{flowId:t,isOpen:n,onClose:r,onExport:i,onDownload:s}=e,[l,c]=o.useState(!1),[u,d]=o.useState(""),[p,f]=o.useState(null),[h,m]=o.useState(!1),g=o.useCallback(e=>{c(e)},[]),y=o.useCallback(e=>{d(e.target.value)},[]),v=o.useCallback(e=>{ga({flowId:t,message:e,level:"error",details:null,duration:5e3})},[t]),b=o.useCallback(async e=>{if(!h)try{m(!0);const e=i();if(!e)return void v("Error exporting flow.");const n=new Blob([e],{type:"application/json"}),r=new FormData;r.append("file",n,`${t}.waldiez`);const a=await fetch(`${V_}/upload`,{method:"POST",headers:{Authorization:`Bearer ${u}`,content_type:"application/waldiez"},body:r,signal:AbortSignal.timeout(1e4)});if(!a.ok)throw new Error(`Error uploading to hub: ${a.statusText}`);const o=await a.json();if(p){const e=new FormData;e.append("file",p,p.name);const t=await fetch(`${V_}/${o.id}/example`,{method:"POST",headers:{Authorization:`Bearer ${u}`,content_type:"application/csv"},body:e,signal:AbortSignal.timeout(3e4)});if(!t.ok)throw new Error(`Error uploading additional file: ${t.statusText}`)}ga({flowId:t,message:"Flow uploaded to hub.",level:"success",details:null,duration:5e3})}catch(n){v("Error uploading to hub.")}finally{m(!1)}},[t,i,u,p,h,v]),x=o.useCallback(e=>{if(0===e.length)return void f(null);const t=e[0];if(t.size>5242880)return void v("File size exceeds 5MB.");const n=t.name.split(".").pop()?.toLowerCase();"csv"===n?f(t):v("File is not a CSV.")},[v]);return a.jsxs(Uo,{isOpen:n,onClose:r,title:"Export Flow",dataTestId:`export-flow-modal-${t}`,children:[a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"padding-10",children:[a.jsx(io,{id:`export-flow-modal-upload-${t}`,label:a.jsx("span",{className:"checkbox-label-view",children:a.jsxs("div",{children:["Share this flow to"," ",a.jsx("a",{href:"https://hub.waldiez.io",target:"_blank",rel:"noopener noreferrer",className:"link",children:"Waldiez hub"})]})}),isChecked:l,onCheckedChange:g,"data-testid":`export-flow-modal-upload-checkbox-${t}`}),l&&a.jsxs("div",{className:"flex full-width flex-column",children:[a.jsx("div",{className:"margin-top-10 full-width",children:a.jsx(Mo,{label:a.jsx("div",{className:"no-padding margin-bottom-5",children:"Hub API Token:"}),value:u,name:"hub-api-token",onChange:y,placeholder:"Enter your hub API token",dataTestId:`hub-api-token-${t}`,className:"full-width",isPassword:!0})}),a.jsxs("div",{className:"margin-top-10 margin-bottom-20 full-width",children:[a.jsx("div",{className:"margin-bottom-10 padding-10 center",children:"Additional CSV file (results.csv) to include:"}),a.jsx(Ao,{allowedFileExtensions:[".csv"],flowId:t,onUpload:x,multiple:!1})]})]})]})}),a.jsxs("div",{className:"modal-actions",children:[a.jsx("button",{type:"reset",className:"modal-action-cancel",onClick:r,children:"Cancel"}),a.jsxs("div",{className:"flex flex-row",children:[l&&a.jsx("button",{type:"button",className:"save margin-right-20",onClick:b,"data-testid":`upload-to-hub-${t}`,disabled:h||!u,children:h?"Uploading...":"Upload to Hub"}),a.jsx("button",{type:"button",className:"primary",onClick:s,children:"Download"})]})]})]})});$_.displayName="ExportFlowModal";const G_={searchTerm:"",remoteUrl:"",loadedFlowData:null,selectedProps:{everything:!0,override:!0,name:!1,description:!1,tags:!1,requirements:!1,isAsync:!1,nodes:{models:[],tools:[],agents:[]},edges:[]}},K_=e=>{const{flowId:t,state:n}=e,{remoteUrl:r,loadedFlowData:i}=n,{onUpload:s,onRemoteUrlChange:l,onRemoteUrlSubmit:c,onClearLoadedFlowData:u}=(e=>{const{flowId:t,state:n,initialState:r,onStateChange:a}=e,i=o.useCallback(e=>{a({loadedFlowData:e})},[a]),s=o.useCallback(e=>{a({remoteUrl:e})},[a]),l=o.useCallback(e=>{try{const n=oa.toReactFlow(oa.importFlow(e,t));if(0===n.nodes.length&&0===n.edges.length)return i(null),void ga({flowId:t,message:"Failed to load flow",level:"error",details:null,duration:3e3});i(n)}catch(n){i(null),ga({flowId:t,message:"Failed to parse flow data",level:"error",details:null,duration:3e3})}},[t,i]);return{onUpload:o.useCallback(e=>{if(!e.length)return;const n=e[0];try{const e=new FileReader;e.onload=()=>{const t=e.result;"string"==typeof t&&l(t)},e.onerror=()=>{i(null),ga({flowId:t,message:"Failed to read file",level:"error",details:null,duration:3e3})},e.readAsText(n)}catch(r){i(null),ga({flowId:t,message:"Failed to upload file",level:"error",details:null,duration:3e3})}},[t,l,i]),onRemoteUrlChange:o.useCallback(e=>{s(e.target.value)},[s]),onRemoteUrlSubmit:o.useCallback(()=>{const e=new AbortController,o=e.signal;i(null);const s=setTimeout(()=>{e.abort()},3e4);fetch(n.remoteUrl,{signal:o,mode:"cors",redirect:"follow",headers:{Accept:"application/json"}}).then(e=>{if(!e.ok)throw new Error(`Server responded with ${e.status}: ${e.statusText}`);return e.json()}).then(e=>{l(e)}).catch(e=>{ga({flowId:t,message:`Failed to load flow: ${e.message}`,level:"error",duration:5e3}),a(r)}).finally(()=>{clearTimeout(s)})},[t,n.remoteUrl,l,i,a,r]),onSelectedPropsChange:o.useCallback(e=>{a({selectedProps:{...n.selectedProps,...e}})},[n.selectedProps,a]),onClearLoadedFlowData:o.useCallback(()=>{i(null)},[i])}})(e);return a.jsxs(a.Fragment,{children:[a.jsx(Co,{title:"Upload a file",dataTestId:`import-flow-modal-collapsible-local-${t}`,expanded:!0,children:a.jsx("div",{className:"padding-10 margin-left--10 margin-right--10",children:a.jsx(Ao,{flowId:t,onUpload:s,allowedFileExtensions:[".waldiez",".json"]})})}),a.jsx(Co,{title:"Import from URL",dataTestId:`import-flow-modal-collapsible-url-${t}`,children:a.jsxs("div",{className:"margin-top-10 full-width flex-column",children:[a.jsx("div",{className:"warning margin-bottom-10",children:a.jsx("span",{children:"Warning: Importing from an untrusted source can be harmful"})}),a.jsxs("div",{className:"margin-top-10 full-width flex",children:[a.jsx("input",{type:"text",className:"text-input full-width margin-right-10",placeholder:"Enter URL",onChange:l,value:n.remoteUrl,"data-testid":`import-flow-modal-url-input-${t}`}),a.jsx("button",{type:"button",title:"Load flow from URL",className:"modal-action-submit",onClick:c,"data-testid":`import-flow-modal-url-submit-${t}`,disabled:!r.startsWith("https://"),children:"Load"})]})]})}),a.jsx("div",{className:"margin-top-20 center",children:i?a.jsxs("div",{className:"flex-center",children:["Loaded flow: ",a.jsx("span",{className:"bold italic",children:i.name}),a.jsx(b.FaXmark,{className:"margin-left-10 clickable","data-testid":"clear-loaded-flow-data",onClick:u})]}):a.jsx("div",{children:"No flow loaded"})})]})},X_=e=>{const{flowId:t,state:n}=e,{selectedProps:r}=n,{agentNodes:i,onAgentsChange:s,onAllNoneAgentsChange:l}=(e=>{const{flowId:t,state:n,onStateChange:r}=e,{selectedProps:a,loadedFlowData:i}=n,s=o.useMemo(()=>i?.nodes.filter(e=>"agent"===e.type)||[],[i?.nodes]),l=o.useCallback(e=>{r({selectedProps:{...a,...e}})},[a,r]),c=o.useCallback(()=>{const e=document.getElementById(`import-flow-modal-agents-all-none-${t}`);if(e)if(a.nodes.agents.length>0){const t=a.nodes.agents.length===s.length;e.indeterminate=!t,e.checked=t}else e.indeterminate=!1,e.checked=!1},[t,a.nodes.agents.length,s.length]);o.useEffect(()=>{c()},[c]);const u=o.useCallback(e=>{const t=a.nodes.agents.some(t=>t.id===e.id);l({nodes:{models:a.nodes.models,tools:a.nodes.tools,agents:t?a.nodes.agents.filter(t=>t.id!==e.id):[...a.nodes.agents,e]}})},[a.nodes,l]),d=o.useCallback(e=>{l({nodes:{models:a.nodes.models,tools:a.nodes.tools,agents:e?s:[]}})},[s,a.nodes.models,a.nodes.tools,l]);return{agentNodes:s,onAgentsChange:u,onAllNoneAgentsChange:d}})(e);return a.jsxs("div",{className:"flow-data-preview-body-section",children:[a.jsx("h4",{children:"Agents"}),i&&i?.length>1&&a.jsx("div",{className:"flow-data-preview-body-section-row",children:a.jsx(io,{label:a.jsx("div",{className:"bold",children:"Select All | None"}),isChecked:r.nodes.agents.length===i.length,onCheckedChange:l,id:`import-flow-modal-agents-all-none-${t}`,"data-testid":`import-flow-modal-agent-all-none-${t}`})}),i?.map(e=>{const t=e;return a.jsx("div",{className:"flow-data-preview-body-section-row",children:a.jsx(io,{label:a.jsxs("div",{children:[t.data.label,": ",t.data.description]}),id:`import-flow-modal-agent-checkbox-${e.id}`,isChecked:r.nodes.agents.some(t=>t.id===e.id),onCheckedChange:s.bind(null,e),"data-testid":`import-flow-modal-agent-checkbox-${e.id}`})},e.id)}),0===i?.length&&a.jsx("div",{children:"No agents in this flow"})]})},Y_=e=>{const{flowId:t,state:n}=e,{loadedFlowData:r,selectedProps:i}=n,s=r?.tags.length?r?.tags.join(", "):"None",l=r?.requirements.length?r?.requirements.join(", "):"None",{onOverrideChange:c,onAllNoneInfoChange:u,onNameChange:d,onDescriptionChange:p,onIsASyncChange:f,onTagsChange:h,onRequirementsChange:m,onImportEverythingChange:g}=(e=>{const{flowId:t,state:n,onStateChange:r}=e,{selectedProps:a}=n,i=o.useCallback(e=>{r({selectedProps:{...a,...e}})},[a,r]),s=o.useMemo(()=>{const e=[a.name,a.description,a.tags,a.requirements],t=e.filter(Boolean).length;return{anySelected:t>0,allSelected:t===e.length,partiallySelected:t>0&&t<e.length}},[a.name,a.description,a.tags,a.requirements]),l=o.useCallback(()=>{const e=document.getElementById(`import-flow-info-all-none-${t}`);e&&(s.anySelected?(e.indeterminate=s.partiallySelected,e.checked=s.allSelected):(e.indeterminate=!1,e.checked=!1))},[t,s]);o.useEffect(()=>{l()},[l]);const c=o.useCallback(e=>{i({name:e,description:e,tags:e,requirements:e,isAsync:e})},[i]),u=o.useCallback(e=>{i({everything:e})},[i]);return{onOverrideChange:o.useCallback(e=>{i({override:e})},[i]),onNameChange:o.useCallback(e=>{i({name:e})},[i]),onDescriptionChange:o.useCallback(e=>{i({description:e})},[i]),onTagsChange:o.useCallback(e=>{i({tags:e})},[i]),onRequirementsChange:o.useCallback(e=>{i({requirements:e})},[i]),onIsASyncChange:o.useCallback(e=>{i({isAsync:e})},[i]),onAllNoneInfoChange:c,onImportEverythingChange:u}})(e);return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flow-data-preview-body",children:[a.jsxs("div",{className:"flow-data-preview-body-section",children:[a.jsx("h4",{children:"Flow Override"}),a.jsx("div",{className:"flow-data-preview-body-section-row",children:a.jsx(io,{label:"Override existing flow with imported flow",isChecked:i.override,onCheckedChange:c,id:`import-flow-modal-override-${t}`,"data-testid":"override-flow-checkbox"})})]}),a.jsxs("div",{className:"flow-data-preview-body-section",style:{marginTop:0},children:[a.jsx("h4",{children:"What to import"}),a.jsx("div",{className:"flow-data-preview-body-section-row",children:a.jsx(io,{label:"Import Everything",isChecked:i.everything,onCheckedChange:g,id:`import-flow-modal-everything-${t}`,"data-testid":"import-everything-checkbox"})})]}),!i.everything&&a.jsxs("div",{className:"flow-data-preview-body-section",children:[a.jsx("h4",{children:"Flow Information"}),a.jsx("div",{className:"flow-data-preview-body-section-row",children:a.jsx(io,{label:a.jsx("div",{className:"bold",children:"Select All | None"}),isChecked:i.name&&i.description&&i.tags&&i.requirements&&i.isAsync,onCheckedChange:u,id:`import-flow-info-all-none-${t}`,"data-testid":"import-flow-info-all-none"})}),a.jsx("div",{className:"flow-data-preview-body-section-row",children:a.jsx(io,{label:a.jsxs("div",{"data-testid":"import-flow-info-name-preview",children:["Name: ",r?.name]}),isChecked:i.name,onCheckedChange:d,id:`import-flow-info-name-${t}`,"data-testid":"import-flow-info-name"})}),a.jsx("div",{className:"flow-data-preview-body-section-row",children:a.jsx(io,{label:a.jsxs("div",{"data-testid":"import-flow-info-description-preview",children:["Description: ",r?.description]}),isChecked:i.description,onCheckedChange:p,id:`import-flow-info-description-${t}`,"data-testid":"import-flow-info-description"})}),a.jsx("div",{className:"flow-data-preview-body-section-row",children:a.jsx(io,{label:a.jsxs("div",{"data-testid":"import-flow-info-tags-preview",children:["Tags: ",s]}),isChecked:i.tags,onCheckedChange:h,id:`import-flow-info-tags-${t}`,"data-testid":"import-flow-info-tags"})}),a.jsx("div",{className:"flow-data-preview-body-section-row",children:a.jsx(io,{label:a.jsxs("div",{"data-testid":"import-flow-info-requirements-preview",children:["Requirements: ",l]}),isChecked:i.requirements,onCheckedChange:m,id:`import-flow-info-requirements-${t}`,"data-testid":"import-flow-info-requirements"})}),a.jsx("div",{className:"flow-data-preview-body-section-row",children:a.jsx(io,{label:"Is Async",isChecked:i.isAsync,onCheckedChange:f,id:`import-flow-info-is-async-${t}`,"data-testid":"import-flow-info-is-async"})})]})]})})},Q_=e=>{const{state:t}=e,{modelNodes:n,onModelsChange:r,onAllNoneModelsChange:i}=(e=>{const{flowId:t,state:n,onStateChange:r}=e,{selectedProps:a,loadedFlowData:i}=n,s=o.useMemo(()=>i?.nodes.filter(e=>"model"===e.type)||[],[i?.nodes]),l=o.useCallback(e=>{r({selectedProps:{...a,...e}})},[a,r]),c=o.useCallback(()=>{const e=document.getElementById(`import-flow-modal-models-all-none-${t}`);if(e)if(a.nodes.models.length>0){const t=a.nodes.models.length===s.length;e.indeterminate=!t,e.checked=t}else e.indeterminate=!1,e.checked=!1},[t,a.nodes.models.length,s.length]);o.useEffect(()=>{c()},[c]);const u=o.useCallback(e=>{const t=a.nodes.models.some(t=>t.id===e.id);l({nodes:{models:t?a.nodes.models.filter(t=>t.id!==e.id):[...a.nodes.models,e],tools:a.nodes.tools,agents:a.nodes.agents}})},[a.nodes,l]),d=o.useCallback(e=>{l({nodes:{models:e?s:[],tools:a.nodes.tools,agents:a.nodes.agents}})},[s,a.nodes.tools,a.nodes.agents,l]);return{modelNodes:s,onModelsChange:u,onAllNoneModelsChange:d}})(e),{selectedProps:s}=t;return a.jsxs("div",{className:"flow-data-preview-body-section",children:[a.jsx("h4",{children:"Models"}),n&&n?.length>1&&a.jsx(io,{id:`import-flow-modal-models-all-none-${e.flowId}`,label:"Select All | None",isChecked:s.nodes.models.length===n.length,onCheckedChange:i,"data-testid":`import-flow-modal-model-all-none-${e.flowId}`}),n?.map(e=>{const t=e;return a.jsx("div",{className:"flow-data-preview-body-section-row",children:a.jsx(io,{label:a.jsxs("div",{children:[t.data.label,": ",t.data.description]}),id:`import-flow-modal-model-checkbox-${e.id}`,isChecked:s.nodes.models.some(t=>t.id===e.id),onCheckedChange:r.bind(null,e),"data-testid":`import-flow-modal-model-checkbox-${e.id}`})},e.id)}),0===n?.length&&a.jsx("div",{children:"No models in this flow"})]})},Z_=e=>{const{flowId:t,state:n}=e,{selectedProps:r}=n,{toolNodes:i,onToolsChange:s,onAllNoneToolsChange:l}=(e=>{const{flowId:t,state:n,onStateChange:r}=e,{selectedProps:a,loadedFlowData:i}=n,s=o.useMemo(()=>i?.nodes.filter(e=>"tool"===e.type)||[],[i?.nodes]),l=o.useCallback(e=>{r({selectedProps:{...a,...e}})},[a,r]),c=o.useCallback(()=>{const e=document.getElementById(`import-flow-modal-tools-all-none-${t}`);if(e)if(a.nodes.tools.length>0){const t=a.nodes.tools.length===s.length;e.indeterminate=!t,e.checked=t}else e.indeterminate=!1,e.checked=!1},[t,a.nodes.tools.length,s.length]);o.useEffect(()=>{c()},[c]);const u=o.useCallback(e=>{const t=a.nodes.tools.some(t=>t.id===e.id);l({nodes:{models:a.nodes.models,tools:t?a.nodes.tools.filter(t=>t.id!==e.id):[...a.nodes.tools,e],agents:a.nodes.agents}})},[a.nodes,l]),d=o.useCallback(e=>{l({nodes:{models:a.nodes.models,tools:e?s:[],agents:a.nodes.agents}})},[s,a.nodes.models,a.nodes.agents,l]);return{toolNodes:s,onToolsChange:u,onAllNoneToolsChange:d}})(e);return a.jsxs("div",{className:"flow-data-preview-body-section",children:[a.jsx("h4",{children:"Tools"}),i&&i?.length>1&&a.jsx(io,{id:`import-flow-modal-tools-all-none-${t}`,label:"Select All | None",isChecked:r.nodes.tools.length===i.length,onCheckedChange:l,"data-testid":`import-flow-modal-tool-all-none-${t}`}),i?.map(e=>{const t=e;return a.jsx("div",{className:"flow-data-preview-body-section-row",children:a.jsx(io,{label:a.jsxs("div",{children:[t.data.label,": ",t.data.description]}),id:`import-flow-modal-tool-checkbox-${e.id}`,isChecked:r.nodes.tools.some(t=>t.id===e.id),onCheckedChange:s.bind(null,e),"data-testid":`import-flow-modal-tool-checkbox-${e.id}`})},e.id)}),0===i?.length&&a.jsx("div",{children:"No tools in this flow"})]})},J_=e=>{const{flowId:t,state:n,onStateChange:r}=e;return a.jsxs("div",{className:"flow-data-preview","data-testid":`import-flow-modal-preview-step-${t}-view`,children:[a.jsx(Y_,{flowId:t,state:n,onStateChange:r}),!n.selectedProps.everything&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flow-data-preview-header",children:a.jsx("h3",{children:"Flow Nodes"})}),a.jsxs("div",{className:"flow-data-preview-body",children:[a.jsx(Q_,{flowId:t,state:n,onStateChange:r}),a.jsx(Z_,{flowId:t,state:n,onStateChange:r}),a.jsx(X_,{flowId:t,state:n,onStateChange:r})]})]})]})},eL=e=>{const{flowId:t,isOpen:n}=e,{state:r,initialState:i,onStateChange:s,onClose:l,onBack:c,onForward:u}=(e=>{const{onClose:t,typeShown:n,onTypeShownChange:r}=e,[a,i]=o.useState(G_),s=wa(e=>e.importFlow),l=wa(e=>e.onFlowChanged),c=o.useCallback(()=>{const{loadedFlowData:e,selectedProps:t}=a;e&&(s(t,e,n),r("agent"),l())},[a,s,n,r,l]),u=o.useCallback(e=>{0===e&&t()},[t]),d=o.useCallback(e=>{1===e&&(c(),t())},[c,t]),p=o.useCallback(()=>{i(G_),t()},[t]),f=o.useCallback(e=>{i(t=>({...t,...e}))},[]);return o.useMemo(()=>({state:a,initialState:G_,onStateChange:f,onClose:p,onBack:u,onForward:d}),[a,f,p,u,d])})(e);return a.jsx(Uo,{isOpen:n,onClose:l,title:"Import Flow",dataTestId:`import-flow-modal-${t}`,children:a.jsx("div",{className:"modal-body padding-10",children:a.jsxs(m_,{activeStep:0,canGoForward:!!r.loadedFlowData,firstBackTitle:"Cancel",lastNextTitle:"Import",onBack:c,onForward:u,children:[a.jsx(h_,{id:`import-flow-modal-load-step-${t}`,title:"Load Flow",children:a.jsx(K_,{initialState:i,flowId:t,state:r,onStateChange:s})}),a.jsx(h_,{id:`import-flow-modal-preview-step-${t}`,title:"Preview Flow",children:r.loadedFlowData?a.jsx(J_,{flowId:t,state:r,onStateChange:s}):null})]})})})};function tL(e){return QR({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.157 22.201A1.784 1.799 0 0 1 5.374 24a1.784 1.799 0 0 1-1.784-1.799 1.784 1.799 0 0 1 1.784-1.799 1.784 1.799 0 0 1 1.783 1.799zM20.582 1.427a1.415 1.427 0 0 1-1.415 1.428 1.415 1.427 0 0 1-1.416-1.428A1.415 1.427 0 0 1 19.167 0a1.415 1.427 0 0 1 1.415 1.427zM4.992 3.336A1.047 1.056 0 0 1 3.946 4.39a1.047 1.056 0 0 1-1.047-1.055A1.047 1.056 0 0 1 3.946 2.28a1.047 1.056 0 0 1 1.046 1.056zm7.336 1.517c3.769 0 7.06 1.38 8.768 3.424a9.363 9.363 0 0 0-3.393-4.547 9.238 9.238 0 0 0-5.377-1.728A9.238 9.238 0 0 0 6.95 3.73a9.363 9.363 0 0 0-3.394 4.547c1.713-2.04 5.004-3.424 8.772-3.424zm.001 13.295c-3.768 0-7.06-1.381-8.768-3.425a9.363 9.363 0 0 0 3.394 4.547A9.238 9.238 0 0 0 12.33 21a9.238 9.238 0 0 0 5.377-1.729 9.363 9.363 0 0 0 3.393-4.547c-1.712 2.044-5.003 3.425-8.772 3.425Z"},child:[]}]})(e)}const nL=e=>{const{flowId:t,skipExport:n,skipImport:r,selectedNodeType:o,onAddNode:s,onRun:l,onConvertToPy:c,onConvertToIpynb:u,onOpenImportModal:d,onExport:p}=e,f=wa(e=>e.isReadOnly),h=wa(e=>e.onRun),m=wa(e=>e.onConvert),g="boolean"==typeof f&&f,v=!g&&("boolean"!=typeof r||!r),x=!g&&("boolean"!=typeof n||!n),w=!1===g&&"function"==typeof h,C=!1===g&&"function"==typeof m,{isDark:k,toggleTheme:A}=Cn();return a.jsxs(a.Fragment,{children:["agent"!==o&&!1===f&&a.jsx(i.Panel,{position:"top-left",children:a.jsxs("button",{type:"button",className:"editor-nav-action add-node currentColor",onClick:s,title:`Add ${o}`,"data-testid":`add-${o}-node`,children:[a.jsx(y.FaPlusCircle,{}),"Add ",o]})}),a.jsx(i.Panel,{position:"top-right",children:a.jsxs("div",{className:"editor-nav-actions",children:[(w||C)&&a.jsxs(a.Fragment,{children:[w&&a.jsx("button",{type:"button",className:"editor-nav-action",onClick:l,title:"Run flow","data-testid":`run-${t}`,children:a.jsx(b.FaCirclePlay,{})}),C&&a.jsx("button",{type:"button",className:"editor-nav-action to-python",onClick:c,title:"Convert to Python","data-testid":`convert-${t}-to-py`,children:a.jsx(b.FaPython,{})}),C&&a.jsx("button",{type:"button",className:"editor-nav-action to-jupyter",onClick:u,title:"Convert to Jupyter Notebook","data-testid":`convert-${t}-to-ipynb`,children:a.jsx(tL,{})})]}),v&&a.jsx("button",{type:"button",className:"editor-nav-action",onClick:d,title:"Import flow","data-testid":`import-flow-${t}-button`,children:a.jsx(b.FaFileImport,{})}),x&&a.jsx("button",{type:"button",className:"editor-nav-action",onClick:p,title:"Export flow","data-testid":`export-flow-${t}-button`,children:a.jsx(j.MdIosShare,{size:24})}),a.jsx("button",{type:"button",className:"editor-nav-action",onClick:A,title:"Toggle theme","data-testid":`toggle-theme-${t}`,children:k?a.jsx(b.FaSun,{}):a.jsx(b.FaMoon,{})})]})})]})};function rL(e){return QR({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6 9.5C6.93191 9.5 7.71496 10.1374 7.93699 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7455 13.8231 11.9496 13.5899 11.9919L13.5 12L7.93673 12.001C7.71435 12.8631 6.93155 13.5 6 13.5C5.06845 13.5 4.28565 12.8631 4.06327 12.001L2.5 12C2.22386 12 2 11.7761 2 11.5C2 11.2545 2.17688 11.0504 2.41012 11.0081L2.5 11H4.06301C4.28504 10.1374 5.06809 9.5 6 9.5ZM6 10.5C5.44772 10.5 5 10.9477 5 11.5C5 12.0523 5.44772 12.5 6 12.5C6.55228 12.5 7 12.0523 7 11.5C7 10.9477 6.55228 10.5 6 10.5ZM10 2.5C10.9319 2.5 11.715 3.13738 11.937 3.99998L13.5 4C13.7761 4 14 4.22386 14 4.5C14 4.74546 13.8231 4.94961 13.5899 4.99194L13.5 5L11.9367 5.00102C11.7144 5.86312 10.9316 6.5 10 6.5C9.06845 6.5 8.28565 5.86312 8.06327 5.00102L2.5 5C2.22386 5 2 4.77614 2 4.5C2 4.25454 2.17688 4.05039 2.41012 4.00806L2.5 4L8.06301 3.99998C8.28504 3.13738 9.06809 2.5 10 2.5ZM10 3.5C9.44772 3.5 9 3.94772 9 4.5C9 5.05228 9.44772 5.5 10 5.5C10.5523 5.5 11 5.05228 11 4.5C11 3.94772 10.5523 3.5 10 3.5Z"},child:[]}]})(e)}const aL=({edge:e,transform:t})=>{if(!e)return null;const n=e.data?.label??"";if(""===n)return null;const r=n.length>20?`${n.slice(0,20)}...`:n;return a.jsx("div",{style:{position:"absolute",width:"max-content",color:"currentcolor",fontSize:12,fontWeight:600,left:"50%",top:"50%",zIndex:10001,transform:t},className:"nodrag nopan",children:r})},oL=({edge:e,transform:t,edgeNumber:n,children:r})=>e?a.jsx("div",{style:{position:"absolute",color:"currentcolor",width:"max-content",fontSize:12,fontWeight:600,zIndex:10001,transform:t},className:"nodrag nopan",children:r||n||""}):null;oL.displayName="EdgePosition";const iL=(e,t,n,r,a,o,s,l,c,u={})=>{const{leftOffset:d=60,rightOffset:p=60,topOffset:f=50,bottomOffset:h=50,perpOffset:m=20}=u;if("source"===c){let n=e,r=t;switch(s){case i.Position.Right:n+=p,r+=m;break;case i.Position.Left:n-=d,r+=m;break;case i.Position.Top:r-=f,n+=m;break;case i.Position.Bottom:r+=h,n+=m}return`translate(-50%, -50%) translate(${n-a}px, ${r-o}px)`}{let e=n,t=r;switch(l){case i.Position.Right:e+=p,t+=m;break;case i.Position.Left:e-=d,t+=m;break;case i.Position.Top:t-=f,e+=m;break;case i.Position.Bottom:t+=h,e+=m}let s=`translate(-50%, -50%) translate(${e-a}px, ${t-o}px)`;return l===i.Position.Left?s+=" rotate(-90deg)":l===i.Position.Right&&(s+=" rotate(90deg)"),s}},sL=o.memo(e=>a.jsx(pL,{...e,type:"chat"})),lL=o.memo(e=>a.jsx(pL,{...e,type:"nested"})),cL=o.memo(e=>a.jsx(pL,{...e,type:"group"})),uL=o.memo(e=>a.jsx(pL,{...e,type:"hidden"})),dL=(e,t,n)=>{if("group"===e)return((e,t)=>{switch(e){case"handoff":return a.jsx(k.GiShakingHands,{size:t});case"nested":return a.jsx(k.GiNestEggs,{size:t});default:return a.jsx(j.MdMessage,{size:t})}})(t,18);switch(e){case"chat":return a.jsx(j.MdMessage,{color:n,size:18});case"nested":return a.jsx(k.GiNestEggs,{color:n,size:18});default:return null}},pL=o.memo(e=>{const{id:t,type:n,data:r,style:s={},sourceX:l,sourceY:c,targetX:u,targetY:d,markerEnd:p,sourcePosition:f,targetPosition:h}=e,{edgePath:m,labelX:g,labelY:v,sourceAgent:b,targetAgent:x,isReadOnly:w,onOpenModal:C,onDelete:j,getEdgeById:k,getEdgeColor:S,getEdgeNumber:O}=(e=>{const{id:t,source:n,target:r,type:a,data:s,sourceX:l,sourceY:c,targetX:u,targetY:d,sourcePosition:p,targetPosition:f}=e,h=wa(e=>e.isReadOnly),m=wa(e=>e.deleteEdge),g=wa(e=>e.getEdgeById),y=wa(e=>e.getAgentById),v=wa(e=>e.onEdgeDoubleClick),b=wa(e=>e.updateEdgeData),x=y(n),w=y(r),[C,j,k]=o.useMemo(()=>i.getSimpleBezierPath({sourceX:l,sourceY:c,sourcePosition:p,targetX:u,targetY:d,targetPosition:f}),[l,c,p,u,d,f]),A=o.useCallback(e=>{const n=g(t);n&&v(e,n)},[t,g,v]),S=o.useCallback(()=>{m(t)},[m,t]),O=o.useCallback(()=>{const e=y(n);if(!e)return;const t=e.data.agentType;return be.includes(t)?fn[t]:void 0},[y,n]),T=o.useCallback(()=>{if(!x||!s)return"";if("chat"===a)return"number"==typeof s.order&&s.order>=0?`${s.order+1}`:"0";if("nested"===a){const e=x.data.label;return`${e?.charAt(0)?.toUpperCase()||""}.${s.position}`}return""},[x,s,a]),E=o.useCallback(e=>{const n=g(t);n&&b(t,{...n.data,description:e.target.value})},[t,g,b]);return{edgePath:C,labelX:j,labelY:k,sourceAgent:x,targetAgent:w,isReadOnly:h,getEdgeById:g,onOpenModal:A,onDelete:S,getEdgeColor:O,getEdgeNumber:T,onDescriptionChange:E}})(e),[T,E]=o.useState(!1);if("hidden"===n||!b||!x||!r)return null;const M=o.useMemo(()=>"group"===n?((e,t)=>"group_manager"===t.data.agentType?"toManager":"group_manager"===e.data.agentType?"fromManager":e.data.parentId&&t.data.parentId?"handoff":"nested")(b,x):"toManager",[n,b,x]),N=O(),P=k(t),I=S(),D=o.useMemo(()=>dL(n,M,I),[n,M,I]),R=o.useMemo(()=>({edgeStart:iL(l,c,u,d,g,v,f,h,"source",{leftOffset:10,rightOffset:20,topOffset:10,bottomOffset:20,perpOffset:20}),edgeEnd:iL(l,c,u,d,g,v,f,h,"target",{leftOffset:10,rightOffset:10,topOffset:10,bottomOffset:10,perpOffset:-10})}),[l,c,u,d,g,v,f,h]),_=o.useCallback(e=>{!0!==w&&(T?(e.target.blur(),E(!1)):(e.target.focus(),E(!0)))},[w,T]),L=o.useCallback(e=>{e.target.blur(),E(!1)},[]),z=o.useMemo(()=>""!==N?a.jsxs("div",{className:"agent-edge-view clickable",children:[a.jsx(oL,{edge:P,transform:R.edgeStart,children:"0"===N?a.jsx(A.GoAlert,{size:16,className:"edge-position-warning-icon"}):N}),D]}):"group"===n?a.jsxs("div",{className:"agent-edge-view clickable",children:["fromManager"===M&&a.jsx(oL,{edge:P,transform:R.edgeStart,children:a.jsx(A.GoAlert,{size:16,className:"edge-position-warning-icon"})}),"toManager"===M&&a.jsx(oL,{edge:P,transform:R.edgeStart,children:a.jsx("div",{className:"edge-position",children:"1"})}),a.jsx("div",{className:"edge-icon",children:D})]}):a.jsx("div",{className:"agent-edge-view clickable",children:D}),[N,n,D,P,R,M]);return a.jsxs(a.Fragment,{children:[a.jsx(i.BaseEdge,{path:m,markerEnd:p,style:{...s,color:I}}),a.jsx(i.EdgeLabelRenderer,{children:a.jsxs("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${g}px,${v}px)`,pointerEvents:"all"},className:`nodrag nopan clickable agent-edge-box ${b.data.agentType}`,onClick:_,"data-testid":`edge-${t}-box`,tabIndex:0,onBlur:L,children:[T&&a.jsxs("div",{className:"edge-actions",children:[a.jsx("div",{title:"Delete",role:"button",onClick:j,className:"delete-edge clickable","data-testid":`delete-edge-${t}`,"aria-label":"Delete edge",children:a.jsx(y.FaTrash,{size:12})}),a.jsx("div",{title:"Edit",role:"button",onClick:C,className:"open-edge-modal clickable","data-testid":`open-edge-modal-${t}`,"aria-label":"Edit edge",children:a.jsx(rL,{size:12})})]}),z,a.jsx(aL,{edge:P,transform:R.edgeEnd})]})})]})});var fL,hL;sL.displayName="WaldiezEdgeChat",lL.displayName="WaldiezEdgeNested",cL.displayName="WaldiezEdgeGroup",uL.displayName="WaldiezEdgeHidden",pL.displayName="WaldiezEdgeCommon";const mL=kl(function(){if(hL)return fL;hL=1;var e="undefined"!=typeof Element,t="function"==typeof Map,n="function"==typeof Set,r="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(o,i){if(o===i)return!0;if(o&&i&&"object"==typeof o&&"object"==typeof i){if(o.constructor!==i.constructor)return!1;var s,l,c,u;if(Array.isArray(o)){if((s=o.length)!=i.length)return!1;for(l=s;0!==l--;)if(!a(o[l],i[l]))return!1;return!0}if(t&&o instanceof Map&&i instanceof Map){if(o.size!==i.size)return!1;for(u=o.entries();!(l=u.next()).done;)if(!i.has(l.value[0]))return!1;for(u=o.entries();!(l=u.next()).done;)if(!a(l.value[1],i.get(l.value[0])))return!1;return!0}if(n&&o instanceof Set&&i instanceof Set){if(o.size!==i.size)return!1;for(u=o.entries();!(l=u.next()).done;)if(!i.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(i)){if((s=o.length)!=i.length)return!1;for(l=s;0!==l--;)if(o[l]!==i[l])return!1;return!0}if(o.constructor===RegExp)return o.source===i.source&&o.flags===i.flags;if(o.valueOf!==Object.prototype.valueOf&&"function"==typeof o.valueOf&&"function"==typeof i.valueOf)return o.valueOf()===i.valueOf();if(o.toString!==Object.prototype.toString&&"function"==typeof o.toString&&"function"==typeof i.toString)return o.toString()===i.toString();if((s=(c=Object.keys(o)).length)!==Object.keys(i).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(i,c[l]))return!1;if(e&&o instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!o.$$typeof)&&!a(o[c[l]],i[c[l]]))return!1;return!0}return o!=o&&i!=i}return fL=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return!1;throw n}}}()),gL=[{label:"System",value:"system"},{label:"User",value:"user"},{label:"Assistant",value:"assistant"}],yL=[{label:"None",value:null},{label:"Reflection with LLM",value:"reflectionWithLlm"},{label:"Last Message",value:"lastMsg"}],vL=[{label:"Chat",value:"chat"},{label:"Nested Chat",value:"nested"}],bL={reflectionWithLlm:"Reflection with LLM",lastMsg:"Last Message",none:"None"},xL=e=>{const{data:t,edgeId:n,onTypeChange:r,skipDescription:i=!1}=e,{summaryRoleOptions:s,summaryOptions:l,edgeTypeOptions:c,summaryMethodLabel:u,summaryRoleValue:d,summaryRoleLabel:p,currentSelectedChatType:f,onLabelChange:h,onDescriptionChange:m,onClearHistoryChange:g,onMaxTurnsChange:y,onSummaryMethodChange:v,onLlmPromptChange:b,onLlmSummaryRoleChange:x}=(e=>{const{data:t,edgeType:n,onDataChange:r}=e,a=o.useCallback(e=>{r({description:e.target.value})},[r]),i=o.useCallback(e=>{r({label:e.target.value})},[r]),s=o.useCallback(e=>{t.clearHistory!==e&&"function"==typeof r&&r({clearHistory:e})},[r,t.clearHistory]),l=o.useCallback(e=>{r({maxTurns:e})},[r]),c=o.useCallback(e=>{e&&r({summary:{method:e.value,prompt:t.summary.prompt,args:t.summary.args}})},[r,t.summary.prompt,t.summary.args]),u=o.useCallback(e=>{r({summary:{method:t.summary.method,prompt:e.target.value,args:{...t.summary.args}}})},[r,t.summary.method,t.summary.args]),d=o.useCallback(e=>{e&&r({summary:{method:t.summary.method,prompt:t.summary.prompt,args:{...t.summary.args,summary_role:e.value}}})},[r,t.summary.method,t.summary.prompt,t.summary.args]),p=o.useCallback(()=>{const e=t.summary?.args||{};if("summary_role"in e&&["system","user","assistant"].includes(e.summary_role)){const t=e.summary_role;return t[0].toUpperCase()+t.slice(1)}return"System"},[t.summary?.args]),f=o.useMemo(()=>bL[t.summary?.method??"none"],[t.summary?.method]),h=o.useMemo(()=>t.summary?.args?.summary_role??"system",[t.summary?.args?.summary_role]),m=o.useMemo(()=>p(),[p]),g=o.useMemo(()=>({label:vL.find(e=>e.value===n)?.label||"Chat",value:n}),[n]);return{summaryRoleOptions:gL,summaryOptions:yL,edgeTypeOptions:vL,summaryMethodLabel:f,summaryRoleValue:h,summaryRoleLabel:m,currentSelectedChatType:g,onLabelChange:i,onDescriptionChange:a,onClearHistoryChange:s,onMaxTurnsChange:l,onSummaryMethodChange:c,onLlmPromptChange:u,onLlmSummaryRoleChange:d}})(e);return a.jsxs("div",{className:"flex-column",children:[a.jsxs("div",{className:"margin-top--10",children:[a.jsx(jo,{htmlFor:`select-chat-type-${n}`,label:"Chat Type:",info:"The type of the chat. Could be Chat or Nested Chat. Chats are executed in a sequential order. Nested Chats are not always executed (i.e., triggered)."}),a.jsx("label",{className:"hidden",htmlFor:`select-chat-type-${n}`,children:"Chat Type:"}),a.jsx(lo,{options:c,value:f,onChange:r,inputId:`select-chat-type-${n}`})]}),a.jsx(Mo,{label:"Label:",name:"edge-label",value:t.label,onChange:h,dataTestId:`edge-${n}-label-input`}),!i&&a.jsxs("div",{className:"margin-top-10",children:[a.jsx("label",{htmlFor:`edge-${n}-description-input`,children:"Description:"}),a.jsx(Oo,{rows:2,value:t.description,placeholder:"Enter a description",onChange:m,"data-testid":`edge-${n}-description-input`})]}),a.jsx("div",{className:"margin-top-10"}),a.jsx(io,{label:"Clear History",isChecked:!0===t.clearHistory,onCheckedChange:g,id:`edge-${n}-clear-history-checkbox`}),a.jsx(wi,{name:"max-turns",label:"Max Turns:",min:0,max:100,value:t.maxTurns,onChange:y,onNull:0,setNullOnLower:!0,onLowerLabel:"No limit",labelInfo:"The maximum number of turns for the chat between the two agents. One turn means one conversation round trip. If set to 0, there is no limit.",dataTestId:`edge-${n}-max-turns-input`}),a.jsx(jo,{htmlFor:`select-summary-method-${n}`,label:"Summary Method:",info:()=>a.jsxs("div",{children:["The method to be used to summarize the conversation. ",a.jsx("br",{}),"Possible values are: ",a.jsx("br",{}),a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("b",{children:"Reflection with LLM:"})," the summary is generated by reflecting on the conversation and using the Language Model (LLM) to generate the summary."]}),a.jsxs("li",{children:[a.jsx("b",{children:"Last Message:"})," the last message of the conversation is used as the summary."]}),a.jsxs("li",{children:[a.jsx("b",{children:"None:"})," no summary is generated."]})]})]})}),a.jsx("label",{className:"hidden",htmlFor:`select-summary-method-${n}`,children:"Summary Method:"}),a.jsx(lo,{options:l,value:{label:u,value:t.summary.method},onChange:v,inputId:`select-summary-method-${n}`}),"reflectionWithLlm"===t.summary.method&&a.jsxs(a.Fragment,{children:[a.jsx(jo,{htmlFor:`edge-${n}-llm-prompt-input`,label:"Summary Prompt:",info:"The prompt to be used for the summary generation."}),a.jsx(Oo,{placeholder:"Enter the summary prompt",rows:2,value:t.summary.prompt,onChange:b,"data-testid":`edge-${n}-llm-prompt-input`}),a.jsx("label",{htmlFor:`select-summary-role-${n}`,children:"Summary Role:"}),a.jsx(lo,{options:s,value:{label:p,value:d},onChange:x,inputId:`select-summary-role-${n}`})]})]})},wL=e=>{const{edgeId:t,data:n,darkMode:r,skipRagOption:i,skipCarryoverOption:s,skipContextVarsOption:l}=e,{onMessageTypeChange:c,onMessageChange:u,onAddMessageContextEntry:d,onRemoveMessageContextEntry:p,onUpdateMessageContextEntries:f}=(e=>{const{data:t,onDataChange:n}=e;return{onMessageTypeChange:o.useCallback(e=>{n({message:{...t.message,type:e,useCarryover:!1,content:null,context:{}}})},[t.message,n]),onMessageChange:o.useCallback(e=>{n({message:e})},[n]),onAddMessageContextEntry:o.useCallback((e,r)=>{n({message:{...t.message,context:{...t.message.context,[e]:r}}})},[t.message,n]),onRemoveMessageContextEntry:o.useCallback(e=>{const{[e]:r,...a}=t.message.context;n({message:{...t.message,context:a}})},[t.message,n]),onUpdateMessageContextEntries:o.useCallback(e=>{n({message:{...t.message,context:e}})},[t.message,n])}})(e),h=()=>{},m=!0===l?h:d,g=!0===l?h:p,y=!0===l?h:f;return a.jsx("div",{className:"margin-top-10",children:a.jsx(_o,{darkMode:r,current:n.message,skipRagOption:!0===i,skipCarryoverOption:!0===s,selectLabel:"Message Type:",selectTestId:`select-message-type-${t}`,defaultContent:CL,notNoneLabel:"Message:",notNoneLabelInfo:"The message to be used when the chat is initiated.",includeContext:!0!==l,onTypeChange:c,onMessageChange:u,onAddContextEntry:m,onRemoveContextEntry:g,onUpdateContextEntries:y})})},CL='"""Custom message function."""\n# provide the message to be sent when the sender and the recipient are connected\n# complete the `callable_message` below. Do not change the name or the arguments of the function.\n# only complete the function body and the docstring and return the:\n# final message: (str) or a dictionary with the final message and additional data (dict)\n#\n# the recipient and the sender are \'autogen.ConversableAgent\' objects\n# the context is generated from the sender\'s initiate_chat additional keyword arguments\n# example:\n# def callable_message(sender, recipient, context):\n#   # type: (ConversableAgent, ConversableAgent, dict) -> Union[str, Dict]\n#   carryover = context.get("carryover", "")\n#    if isinstance(carryover, list):\n#        carryover = carryover[-1]\n#    final_msg = "Write a blogpost." + "\\nContext: \\n" + carryover\n#    return final_msg\n#\ndef callable_message(sender, recipient, context):\n    """Complete the message function"""\n    ...\n',jL=e=>{const{flowId:t,edgeId:n,darkMode:r,data:i}=e,{onNestedMessageTypeChange:s,onNestedMessageChange:l,onNestedReplyTypeChange:c,onNestedReplyChange:u}=(e=>{const{data:t,onDataChange:n}=e,r=o.useMemo(()=>t.nestedChat,[t.nestedChat]),a=o.useCallback(e=>({type:e,useCarryover:!1,content:null,context:{}}),[]);return{onNestedMessageTypeChange:o.useCallback(e=>{n({nestedChat:{reply:r.reply,message:a(e)}})},[r.reply,n,a]),onNestedReplyTypeChange:o.useCallback(e=>{n({nestedChat:{message:r.message,reply:a(e)}})},[r.message,n,a]),onNestedMessageChange:o.useCallback(e=>{n({nestedChat:{reply:r.reply,message:e}})},[r.reply,n]),onNestedReplyChange:o.useCallback(e=>{n({nestedChat:{message:r.message,reply:e}})},[r.message,n])}})(e),d=i.nestedChat?.message??{type:"none",useCarryover:!1,content:null,context:{}},p=i.nestedChat?.reply??{type:"none",useCarryover:!1,content:null,context:{}},f=()=>{};return a.jsxs("div",{className:"flex-column margin-top-10",children:[a.jsx("div",{className:"info margin-bottom-10",children:"When the connection is used in a nested chat, you can specify the messages to be sent and received, from the source and the target respectively."}),a.jsxs(ki,{activeTabIndex:0,children:[a.jsx(ji,{label:"Message",id:`wc-${t}-edge-nested-chat-${n}-message`,children:a.jsx("div",{className:"flex-column",children:a.jsx(_o,{darkMode:r,current:d,selectLabel:"Message Type:",selectTestId:`select-nested-message-type-${n}`,defaultContent:kL,notNoneLabel:"Message:",notNoneLabelInfo:"The message to be sent from the source.",includeContext:!1,skipCarryoverOption:!0,skipRagOption:!0,onTypeChange:s,onMessageChange:l,onAddContextEntry:f,onRemoveContextEntry:f,onUpdateContextEntries:f})})}),a.jsx(ji,{label:"Reply",id:`wc-${t}-edge-nested-chat-${n}-reply`,children:a.jsx("div",{className:"flex-column",children:a.jsx(_o,{darkMode:r,current:p,selectLabel:"Reply Type:",selectTestId:`select-nested-reply-type-${n}`,defaultContent:AL,notNoneLabel:"Reply:",notNoneLabelInfo:"The message to be sent from the target.",skipCarryoverOption:!0,skipRagOption:!0,includeContext:!1,onTypeChange:c,onMessageChange:u,onAddContextEntry:f,onRemoveContextEntry:f,onUpdateContextEntries:f})})})]})]})},kL='"""Custom nested chat message function."""\n# provide the message to be sent from the sender to the recipient in a nested chat\n# complete the `nested_chat_message` below. Do not change the name or the arguments of the function.\n# only complete the function body and the docstring and return the final message.\n# example:\n# def nested_chat_message(recipient, messages, sender, config):\n#    # type: (ConversableAgent, Optional[list[dict]], Optional[ConversableAgent], Optional[dict]) -> str | dict\n#    return f"""Review the following content.\n#            \\n\\n {recipient.chat_messages_for_summary(sender)[-1][\'content\']}"""\n#\ndef nested_chat_message(recipient, messages, sender, config):\n    """Complete the nested chat message function"""\n    ...\n',AL='"""Custom nested chat reply function."""\n# provide the reply to be sent when the recipient replies to the sender in a nested chat\n# complete the `nested_chat_reply` below. Do not change the name or the arguments of the function.\n# only complete the function body and the docstring and return the agent\'s reply.\n# example:\n# def nested_chat_reply(recipient, messages, sender, config):\n#    # type: (ConversableAgent, Optional[list[dict]], Optional[ConversableAgent], Optional[dict]) -> str | dict\n#    last_message = messages[-1][\'content\']\n#    return f"Great! You said: {last_message}"\n#\ndef nested_chat_reply(recipient, messages, sender, config):\n    """Complete the nested chat reply function"""\n    ...\n',SL=o.memo(e=>{const{edgeId:t,isOpen:n,onClose:r}=e,{flowId:i,edge:s,edgeData:l,edgeType:c,isDark:u,isDirty:d,isRagUserProxy:p,sourceAgent:f,targetAgent:h,onDataChange:m,onTypeChange:g,onCancel:y,onDelete:v,onSubmit:x}=(e=>{const{edgeId:t,onClose:n}=e,r=wa(e=>e.getEdgeSourceAgent),a=wa(e=>e.getEdgeTargetAgent),i=wa(e=>e.updateEdgeData),s=wa(e=>e.updateEdgeType),l=wa(e=>e.getEdgeById),c=wa(e=>e.deleteEdge),u=wa(e=>e.flowId),{isDark:d}=Cn(),p=l(t),f=o.useMemo(()=>p?r(p):null,[p,r]),h=o.useMemo(()=>p?a(p):null,[p,a]),[m,g]=o.useState(p?.type??"chat"),[y,v]=o.useState(p?.data),[b,x]=o.useState(!1),w=o.useMemo(()=>"rag_user_proxy"===f?.data?.agentType,[f?.data?.agentType]),C=o.useCallback(e=>{if(!y)return;const t={...y,...e};v(t),x(!mL(t,p?.data))},[y,p?.data]),j=o.useCallback(e=>{if(!e||!p)return;const t=e.value;g(t),x(t!==p.type)},[p]),k=o.useCallback(()=>{p&&(v(p.data),p.type&&g(p.type)),x(!1),n()},[p,n]),A=o.useCallback(()=>{k(),c(t)},[k,c,t]),S=o.useCallback(()=>{y&&i(t,y),p&&m!==p.type&&s(t,m),x(!1)},[y,m,p,t,i,s]);return{flowId:u,edge:p,edgeData:y,edgeType:m,isDirty:b,isRagUserProxy:w,isDark:d,sourceAgent:f,targetAgent:h,onDataChange:C,onTypeChange:j,onCancel:k,onSubmit:S,onDelete:A}})(e),[w,C]=o.useState(0);if(o.useEffect(()=>{n&&C(0)},[n]),!(l&&s&&"hidden"!==c&&f&&h))return null;const j=o.useCallback(()=>{x(),r()},[x,r]),k=o.useCallback(e=>{m({condition:e})},[m]),A=o.useCallback(e=>{m({available:e})},[m]),S=o.useMemo(()=>a.jsx(b.FaTrashCan,{className:"clickable",onClick:v,title:"Delete edge","aria-label":"Delete edge"}),[v]),O=o.useMemo(()=>"group"!==c?"none":"group_manager"===l.targetType?"toManager":"group_manager"===l.sourceType?"fromManager":h.parentId?"handoff":"nested",[c,l?.targetType,l?.sourceType,h?.parentId]),T=o.useMemo(()=>({properties:`wc-${i}-edge-properties-${t}`,message:`wc-${i}-edge-message-${t}`,nested:`wc-${i}-edge-nested-${t}`,condition:`wc-${i}-edge-condition-${t}`,availability:`wc-${i}-edge-availability-${t}`}),[i,t]),E=o.useMemo(()=>({modal:`edge-modal-${t}`,cancel:`modal-cancel-btn-${t}`,saveAndClose:`modal-submit-and-close-btn-${t}`,save:`modal-submit-btn-${t}`}),[t]),M=o.useMemo(()=>l.nestedChat.message||{type:"string",content:"",context:{}},[l.nestedChat.message]),N=o.useCallback(()=>{},[]),P=o.useCallback(e=>{const t={...l.nestedChat.message,content:l.nestedChat.message?.content||"",context:l.nestedChat.message?.context||{},type:e};m({nestedChat:{...l.nestedChat,message:t}})},[m,l.nestedChat]),I=o.useCallback(e=>{m({nestedChat:{...l.nestedChat,message:e}})},[m,l.nestedChat]);return a.jsx(Uo,{isOpen:n,onClose:r,onSaveAndClose:j,beforeTitle:S,title:l.label,dataTestId:E.modal,hasUnsavedChanges:d,preventCloseIfUnsavedChanges:!0,children:a.jsxs("div",{className:"modal-body edge-modal",children:["group"===c?a.jsxs(ki,{activeTabIndex:w,children:[a.jsx(ji,{label:"Properties",id:T.properties,children:a.jsx(xL,{edgeId:t,data:l,edgeType:c,onTypeChange:g,onDataChange:m,skipDescription:!0})}),"toManager"===O&&a.jsx(ji,{label:"Message",id:T.message,children:a.jsx(wL,{edgeId:t,data:l,darkMode:u,skipRagOption:!p,skipCarryoverOption:!p,skipContextVarsOption:!1,onDataChange:m})}),"nested"===O&&a.jsx(ji,{label:"Message",id:`wc-${i}-edge-nested-chat-${t}-message`,children:a.jsx("div",{className:"flex-column",children:a.jsx(_o,{darkMode:u,current:M,selectLabel:"Message Type:",selectTestId:`select-nested-message-type-${t}`,defaultContent:kL,notNoneLabel:"Message:",notNoneLabelInfo:"The message to be sent from the source.",includeContext:!1,skipCarryoverOption:!0,skipRagOption:!0,skipNone:!0,onTypeChange:P,onMessageChange:I,onAddContextEntry:N,onRemoveContextEntry:N,onUpdateContextEntries:N})})}),"handoff"===O&&a.jsx(ji,{label:"Condition",id:T.condition,children:a.jsx(Io,{condition:l.condition,onDataChange:k})}),"handoff"===O&&a.jsx(ji,{label:"Availability",id:T.availability,children:a.jsx(Eo,{available:l.available,onDataChange:A})})]}):a.jsxs(ki,{activeTabIndex:w,children:[a.jsx(ji,{label:"Properties",id:T.properties,children:a.jsx(xL,{edgeId:t,data:l,edgeType:c,onTypeChange:g,onDataChange:m})}),"chat"===c&&a.jsx(ji,{label:"Message",id:T.message,children:a.jsx(wL,{edgeId:t,data:l,darkMode:u,skipRagOption:!p,onDataChange:m})}),"nested"===c&&a.jsx(ji,{label:"Nested Chat",id:T.nested,children:a.jsx(jL,{flowId:i,edgeId:t,darkMode:u,data:l,onDataChange:m})})]}),a.jsxs("div",{className:"modal-actions",children:[a.jsx("button",{type:"button",title:"Cancel",className:"secondary",onClick:y,id:E.cancel,"data-testid":E.cancel,children:"Cancel"}),a.jsxs("div",{className:"flex-row",children:[a.jsx("button",{title:"Save & Close",type:"button",className:"save margin-right-10 ",onClick:j,id:E.saveAndClose,"data-testid":E.saveAndClose,disabled:!d,"aria-disabled":!d,children:"Save & Close"}),a.jsx("button",{type:"button",title:d?"Save changes":"No changes to save",className:"primary",onClick:x,id:E.save,"data-testid":E.save,disabled:!d,"aria-disabled":!d,children:"Save"})]})]})]})})});SL.displayName="WaldiezEdgeModal";const OL=["wikipedia_search","youtube_search","google_search","tavily_search"],TL={wikipedia_search:[],youtube_search:[{label:"YouTube API Key",key:"YOUTUBE_API_KEY"}],google_search:[{label:"Google Search API Key",key:"GOOGLE_SEARCH_API_KEY"}],tavily_search:[{label:"Tavily API Key",key:"TAVILY_API_KEY"}]},EL={wikipedia_search:[],youtube_search:[],google_search:[{label:"Google Search Engine ID",key:"google_search_engine_id"}],tavily_search:[]},ML={wikipedia_search:"Wikipedia Search",youtube_search:"YouTube Search",google_search:"Google Search",tavily_search:"Tavily Search",shared:"waldiez_shared",custom:"tool_name"},NL={wikipedia_search:void 0,youtube_search:a.jsxs("div",{className:"info",children:[a.jsx("p",{children:"To use the YouTube Search tool, you need to set up a YouTube Data API key."}),a.jsx("p",{children:" Follow these steps:"}),a.jsxs("ol",{children:[a.jsxs("li",{children:["Go to the"," ",a.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",children:"Google Cloud Console"}),"."]}),a.jsx("li",{children:"Create a new project or select an existing one."}),a.jsxs("li",{children:["Navigate to ",a.jsx("strong",{children:"APIs & Services > Library"}),"."]}),a.jsxs("li",{children:["Search for ",a.jsx("strong",{children:"YouTube Data API v3"})," and enable it."]}),a.jsxs("li",{children:["Go to ",a.jsx("strong",{children:"APIs & Services > Credentials"}),"."]}),a.jsxs("li",{children:["Click on ",a.jsx("strong",{children:"Create Credentials > API key"})," and copy your API key."]})]})]}),google_search:a.jsxs("div",{className:"info",children:[a.jsx("p",{children:"To use the Google Search tool, you need to set up a Google Custom Search Engine (CSE) and obtain an API key."}),a.jsx("p",{children:"Follow these steps:"}),a.jsxs("ol",{children:[a.jsxs("li",{children:["Go to"," ",a.jsx("a",{href:"https://programmablesearchengine.google.com/about/",target:"_blank",rel:"noopener noreferrer",children:"Google Programmable Search Engine"}),"."]}),a.jsxs("li",{children:["Click ",a.jsx("strong",{children:"Get Started"})," and create a search engine."]}),a.jsxs("li",{children:["Under ",a.jsx("strong",{children:"Sites to Search"}),", select ",a.jsx("strong",{children:"Search the entire web"})," if you want global search."]}),a.jsxs("li",{children:["Copy the ",a.jsx("strong",{children:"Search Engine ID"})," from the CSE dashboard (the `cx` parameter from the URL)."]}),a.jsxs("li",{children:["Go to the"," ",a.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",children:"Google Cloud Console"}),"."]}),a.jsx("li",{children:"Create a new project."}),a.jsxs("li",{children:["Navigate to ",a.jsx("strong",{children:"APIs & Services > Library"}),", search for"," ",a.jsx("strong",{children:"Custom Search API"}),", and enable it."]}),a.jsxs("li",{children:["Go to ",a.jsx("strong",{children:"APIs & Services > Credentials"}),", click on"," ",a.jsx("strong",{children:"Create Credentials > API key"}),", and copy your API key."]})]})]}),tavily_search:a.jsxs("div",{className:"info",children:[a.jsx("p",{children:"To use the Tavily Search tool, you need to set up a Tavily API key."}),a.jsx("p",{children:"Follow these steps:"}),a.jsxs("ol",{children:[a.jsxs("li",{children:["Visit"," ",a.jsx("a",{href:"https://tavily.com/",target:"_blank",rel:"noopener noreferrer",children:"Tavily AI"}),"."]}),a.jsxs("li",{children:["Click ",a.jsx("strong",{children:"Sign Up"})," and create an account."]}),a.jsxs("li",{children:["Navigate to"," ",a.jsx("a",{href:"https://app.tavily.com/",target:"_blank",rel:"noopener noreferrer",children:"Tavily API"}),"."]}),a.jsxs("li",{children:["Generate an API key under ",a.jsx("strong",{children:"API Keys"}),"."]})]})]}),shared:void 0,custom:void 0},PL={wikipedia_search:"Search Wikipedia for a given query.",youtube_search:"Search YouTube for a given query.",google_search:"Search Google for a given query.",tavily_search:"Search Tavily for a given query.",shared:"Shared code available to all agents.",custom:"A custom tool that you define."},IL=(e,t=14)=>{switch(e){case"wikipedia_search":return a.jsx("img",{src:vn,alt:"Wikipedia Search Icon",style:{width:t,height:t}});case"youtube_search":return a.jsx("img",{src:bn,alt:"YouTube Search Icon",style:{width:t,height:t}});case"google_search":return a.jsx("img",{src:yn,alt:"Google Search Icon",style:{width:t,height:t}});case"tavily_search":return a.jsx("img",{src:xn,alt:"Tavily Search Icon",style:{width:t,height:t}});default:return a.jsx(b.FaCode,{"aria-hidden":"true",size:t,style:{width:t,height:t}})}},DL=[{value:"shared",label:"Shared Code",icon:a.jsx(b.FaCode,{size:20,style:{width:20,height:20}})},{value:"wikipedia_search",label:"Wikipedia Search",icon:a.jsx("img",{src:vn,alt:"Wikipedia Search Icon",style:{width:20,height:20}})},{value:"youtube_search",label:"YouTube Search",icon:a.jsx("img",{src:bn,alt:"YouTube Search Icon",style:{width:20,height:20}})},{value:"tavily_search",label:"Tavily Search",icon:a.jsx("img",{src:xn,alt:"Tavily Search Icon",style:{width:20,height:20}})},{value:"google_search",label:"Google Search",icon:a.jsx("img",{src:yn,alt:"Google Search Icon",style:{width:20,height:20}})},{value:"custom",label:"Custom Tool",icon:a.jsx(b.FaCode,{size:20,style:{width:20,height:20}})}],RL=o.memo(e=>{const{id:t,data:n}=e,r=n.agentType;if("group_manager"===r)return a.jsx("div",{className:"agent-content"});if("user_proxy"===r)return a.jsx("div",{className:"agent-content",children:a.jsx("div",{className:"agent-label margin-top-20","data-testid":`agent-${t}-label`,children:n.label})});return _L(t,n)}),_L=(e,t)=>{const n=wa(e=>e.getModels),r=wa(e=>e.getTools),[i,s]=o.useState(2),[l,c]=o.useState(2),[u,d]=o.useState(0),{tools:p,agentModelNames:f,agentWaldiezModelAPITypes:h,agentModelLogos:m}=o.useMemo(()=>{const e=n(),a=r(),o=t.modelIds.map(t=>e.find(e=>e.id===t)?.data.label??"").filter(e=>""!==e),i=t.modelIds.map(t=>e.find(e=>e.id===t)?.data.apiType??"").filter(e=>""!==e),s=i.map(e=>mn[e]??"").filter(e=>""!==e);return{tools:a,agentModelNames:o,agentWaldiezModelAPITypes:i,agentModelLogos:s}},[n,r,t.modelIds]),g=o.useCallback(e=>{const n=Math.floor(e/18),r=f.length,a=t.tools.length;if(n<=0)return{models:0,tools:0};let o=0,i=0;if(0===r)i=Math.min(a,n);else if(0===a)o=Math.min(r,n);else{if(o=Math.min(r,Math.ceil(n/2)),i=Math.min(a,n-o),o<Math.ceil(n/2)){const e=Math.min(r-o,n-(o+i));o+=Math.max(0,e)}if(i<Math.floor(n/2)){const e=Math.min(a-i,n-(o+i));i+=Math.max(0,e)}}return{models:o,tools:i}},[f.length,t.tools.length]),y=o.useCallback(e=>{if(!e)return;const t=()=>{const t=e.closest(".react-flow__node"),n=(t?.offsetHeight||e.offsetHeight)-20-20-40;d(n);const{models:r,tools:a}=g(n);s(r),c(a)};setTimeout(t,0);const n=new ResizeObserver(t);return n.observe(e),()=>{n.disconnect()}},[g]);return o.useEffect(()=>{if(0===u){const{models:e,tools:t}=g(120);s(e),c(t)}},[g,u]),o.useMemo(()=>{const n=f.length>0,r=t.tools.length>0,o=n&&i>0,s=r&&l>0;return a.jsxs("div",{ref:y,className:"agent-content",children:[a.jsx("div",{className:"agent-label","data-testid":`agent-${e}-label`,children:t.label}),o&&a.jsxs("div",{className:"agent-models-preview",children:[f.slice(0,i).map((t,n)=>a.jsxs("div",{className:"agent-model-preview","data-testid":"agent-model-preview",children:[a.jsx("div",{className:`agent-model-img ${h[n]}`,children:a.jsx("img",{src:m[n],title:t,alt:t})}),a.jsx("div",{className:"font-small agent-model-name","data-testid":`agent-${e}-linked-model-${n}`,children:t})]},t)),f.length>i&&a.jsxs("div",{className:"agent-more-indicator",children:[a.jsx("div",{className:"agent-model-img",children:a.jsx("span",{children:"⋯"})}),a.jsxs("div",{className:"font-small agent-model-name",children:["+",f.length-i," more"]})]})]}),!n&&"user_proxy"!==t.agentType&&a.jsx("div",{className:"agent-models-preview",children:a.jsx("div",{className:"font-small agent-model-name",children:"No models"})}),s&&a.jsxs("div",{className:"agent-tools-preview",children:[t.tools.slice(0,l).map((t,n)=>{const r=p.find(e=>e.id===t.id);return r?a.jsxs("div",{className:"agent-tool-preview","data-testid":"agent-tool-preview",children:[a.jsx("div",{className:"agent-tool-img",children:IL(r.data.label)}),a.jsx("div",{className:"font-small agent-tool-name","data-testid":`agent-${e}-linked-tool-${n}`,children:r.data.label})]},r.id):null}),t.tools.length>l&&a.jsxs("div",{className:"agent-more-indicator",children:[a.jsx("div",{className:"agent-tool-img",children:a.jsx("span",{children:"⋯"})}),a.jsxs("div",{className:"font-small agent-tool-name",children:["+",t.tools.length-l," more"]})]})]}),!r&&!["user_proxy","rag_user_proxy"].includes(t.agentType)&&a.jsx("div",{className:"agent-tools-preview",children:a.jsx("div",{className:"font-small agent-tool-name",children:"No tools"})})]})},[f,t.tools,t.label,t.agentType,i,l,y,e,h,m,p])},LL=e=>{const{agentType:t,id:n,handleClassNameBase:r,selected:o,onEdgeConnection:s}=e,l=[{pos:i.Position.Top,label:"top"},{pos:i.Position.Bottom,label:"bottom"},{pos:i.Position.Left,label:"left"},{pos:i.Position.Right,label:"right"}];let c=`${r}handle `;if(o||(c+="not-selected "),"group_manager"===t)return l.map(({pos:e,label:t})=>a.jsx(i.Handle,{className:`${c} ${t} target`,type:"target",isConnectableEnd:!0,position:e,onConnect:s,"data-testid":`agent-handle-${t}-target-${n}`,id:`agent-handle-${t}-target-${n}`},`target-${t}`));const u={[i.Position.Top]:{target:{left:"75%"},source:{left:"25%"}},[i.Position.Bottom]:{target:{left:"25%"},source:{left:"75%"}},[i.Position.Left]:{target:{top:"25%"},source:{top:"75%"}},[i.Position.Right]:{target:{top:"75%"},source:{top:"25%"}}};return l.flatMap(({pos:e,label:t})=>[a.jsx(i.Handle,{className:`${c} ${t} target`,type:"target",isConnectableEnd:!0,position:e,onConnect:s,"data-testid":`agent-handle-${t}-target-${n}`,id:`agent-handle-${t}-target-${n}`,style:u[e].target},`target-${t}`),a.jsx(i.Handle,{className:`${c} ${t} source`,type:"source",isConnectableStart:!0,position:e,onConnect:s,"data-testid":`agent-handle-${t}-source-${n}`,id:`agent-handle-${t}-source-${n}`,style:u[e].source},`source-${t}`)])},zL=o.memo(e=>{const{id:t,data:n,models:r,onDataChange:i}=e,s=o.useMemo(()=>r.map(e=>({label:e.data.label,value:e.id})),[r]),l=o.useMemo(()=>n.modelIds&&0!==n.modelIds.length?n.modelIds.map(e=>{const t=r.find(t=>t.id===e);return t?{label:t.data.label,value:t.id}:null}):[],[n.modelIds,r]),c=o.useCallback(e=>{if(e){const t=(Array.isArray(e)?e:[e]).map(e=>e.value);i({modelIds:t})}else i({modelIds:[]})},[i]);return a.jsxs("div",{className:"agent-panel margin-bottom-10","data-testid":"agent-models-panel",children:[a.jsxs("label",{htmlFor:`select-agent-models-${t}`,children:["Model","rag_user_proxy"===n.agentType?"":"s"," to use:"]}),a.jsx(lo,{options:s,value:l,onChange:c,isMulti:"rag_user_proxy"!==n.agentType,inputId:`select-agent-models-${t}`,isClearable:!0,"aria-label":"Select agent's model"+("rag_user_proxy"===n.agentType?"":"s")})]})});zL.displayName="WaldiezAgentModels";const BL=o.memo(e=>{const{isModalOpen:t,flowId:n,id:r,data:i}=e,{groupMembers:s,models:l,initialAgent:c,initialAgentOptions:u,speakersOrder:d,onGroupNameChange:p,onManagerNameChange:f,onMaxRoundChange:h,onAddContextVariable:m,onDeleteContextVariable:g,onUpdateContextVariable:y,onInitialAgentChange:v,onEnableClearHistoryChange:x,onSendIntroductionsChange:w,onMaxRetriesForSelectingChange:C,onSpeakerSelectionMethodChange:j,onDescriptionChange:k,onSystemMessageChange:A,onAfterWorkChange:S,onMoveMemberUp:O,onMoveMemberDown:T}=(e=>{const{id:t,data:n,onDataChange:r}=e,a=wa(e=>e.getGroupMembers),i=wa(e=>e.getAgentById),s=wa(e=>e.getModels),l=o.useMemo(()=>{const e=a(t),r=n.speakers.order||[],o=new Set(e.map(e=>e.id)),i=r.filter(e=>o.has(e)),s=new Set(i),l=e.filter(e=>!s.has(e.id)).map(e=>e.id);let c=[...i,...l];return n.initialAgentId&&o.has(n.initialAgentId)&&(c=c.filter(e=>e!==n.initialAgentId),c.unshift(n.initialAgentId)),c},[a,t,n.speakers.order,n.initialAgentId]),c=o.useCallback(e=>{r({speakers:{...n.speakers,order:e}})},[n.speakers,r]),u=o.useCallback(e=>{if(!l.includes(e))return;const t=l.indexOf(e);if(t<=0)return;if(n.initialAgentId&&1===t)return;const r=[...l];[r[t-1],r[t]]=[r[t],r[t-1]],c(r)},[l,n.initialAgentId,c]),d=o.useCallback(e=>{if(!l.includes(e))return;const t=l.indexOf(e);if(t>=l.length-1)return;if(n.initialAgentId&&e===n.initialAgentId)return;const r=[...l];[r[t],r[t+1]]=[r[t+1],r[t]],c(r)},[l,n.initialAgentId,c]),p=o.useMemo(()=>s(),[s]),f=o.useMemo(()=>a(t),[a,t]),h=o.useMemo(()=>n.initialAgentId?i(n.initialAgentId):void 0,[n.initialAgentId,i]),m=o.useMemo(()=>h?{label:h.data.label,value:h}:void 0,[h]),g=o.useMemo(()=>f.map(e=>({label:e.data.label,value:e})),[f]),y=o.useCallback(e=>{const t={...n.speakers,...e};r({speakers:t})},[n.speakers,r]),v=o.useCallback(e=>{const t=e.target.value;r({groupName:t})},[r]),b=o.useCallback(e=>{const t=e.target.value;r({name:t,label:t})},[r]),x=o.useCallback(e=>{const t=e.target.value;r({description:t})},[r]),w=o.useCallback(e=>{const t=e.target.value;r({systemMessage:t})},[r]),C=o.useCallback(e=>{null!==e&&e>0&&r({maxRound:e})},[r]),j=o.useCallback((e,t)=>{const a={...n.contextVariables,[e]:t};r({contextVariables:a})},[n.contextVariables,r]),k=o.useCallback(e=>{const t={...n.contextVariables};delete t[e],r({contextVariables:t})},[n.contextVariables,r]),A=o.useCallback(e=>{r({contextVariables:e})},[r]),S=o.useCallback(e=>{if(!e)return void r({initialAgentId:void 0});const t=e.value.id;r({initialAgentId:t})},[r]),O=o.useCallback(e=>{r({enableClearHistory:e})},[r]),T=o.useCallback(e=>{r({sendIntroductions:e})},[r]),E=o.useCallback(e=>{y({maxRetriesForSelecting:e})},[y]),M=o.useCallback(e=>{y({selectionMethod:e?.value??void 0})},[y]),N=o.useCallback(e=>{r(e?{...n,afterWork:e}:{...n,afterWork:null})},[n,r]);return{models:p,groupMembers:f,speakersOrder:l,initialAgent:m,initialAgentOptions:g,onGroupNameChange:v,onManagerNameChange:b,onDescriptionChange:x,onSystemMessageChange:w,onMaxRoundChange:C,onAddContextVariable:j,onDeleteContextVariable:k,onUpdateContextVariable:A,onInitialAgentChange:S,onEnableClearHistoryChange:O,onSendIntroductionsChange:T,onMaxRetriesForSelectingChange:E,onSpeakerSelectionMethodChange:M,onAfterWorkChange:N,onMoveMemberUp:u,onMoveMemberDown:d}})(e),[E,M]=o.useState(0);o.useEffect(()=>{M(0)},[t]);const N=o.useMemo(()=>[{label:"Auto",value:"auto"},{label:"Manual",value:"manual"},{label:"Default",value:"default"},{label:"Random",value:"random"},{label:"Round Robin",value:"round_robin"}],[]),P=o.useMemo(()=>({label:N.find(e=>e.value===i.speakers?.selectionMethod)?.label??"Auto",value:i.speakers?.selectionMethod??"auto"}),[i.speakers?.selectionMethod,N]),I=!["manual","auto"].includes(i.speakers?.selectionMethod);return a.jsxs(ki,{activeTabIndex:E,children:[a.jsx(ji,{label:"Group",id:`wf-${n}-agent-group-manager-config-${r}`,children:a.jsxs("div",{className:"modal-body  agent-panel",children:[a.jsx(Mo,{label:"Group Name:",name:"group-name",value:i.groupName??"",onChange:p,dataTestId:`agent-name-input-${r}`,"aria-label":"Group name"}),a.jsx("label",{htmlFor:`wf-${n}-agent-config-${r}-select-initial-agent`,children:"Initial Agent:"}),a.jsx(lo,{options:u,value:c,onChange:v,inputId:`wf-${n}-agent-config-${r}-select-initial-agent`,"aria-label":"Select initial agent"}),a.jsx(wi,{name:"max-rounds",label:"Max Rounds:",value:i.maxRound,onChange:h,min:1,max:1e3,step:1,setNullOnLower:!1,forceInt:!0,labelInfo:"The maximum number of conversation rounds in the group.",dataTestId:`manager-max-rounds-input-${r}`,"aria-label":"Maximum conversation rounds"}),a.jsx(ko,{itemsType:"group-context-variables",viewLabel:"Context Variables",viewLabelInfo:"The context variables that will be available when the group chat starts.",onAdd:m,onDelete:g,onUpdate:y,items:i.contextVariables??{},allowEmptyValues:!0,"aria-label":"Group context variables"})]})}),a.jsx(ji,{label:"Group Manager",id:`wf-${n}-agent-group-manager-agent-${r}`,children:a.jsxs("div",{className:"modal-body agent-panel",children:[a.jsx("div",{children:a.jsx(zL,{id:r,data:e.data,models:l,onDataChange:e.onDataChange})}),a.jsx("div",{children:a.jsx(Mo,{label:"Group Manager's Name:",name:"group-manager-name",value:i.name??i.label??"",onChange:f,dataTestId:`agent-name-input-${r}`,placeholder:"Group Manager Name",className:"margin-top-5","aria-label":"Group manager name"})}),a.jsx("label",{htmlFor:`agent-description-input-${r}`,children:"Description:"}),a.jsx(Oo,{id:`agent-description-input-${r}`,title:"Agent description",rows:2,value:i.description,onChange:k,"data-testid":`agent-description-input-${r}`,"aria-label":"Manager description"}),a.jsx("label",{htmlFor:`agent-system-message-input-${r}`,children:"System Message:"}),a.jsx(Oo,{id:`agent-system-message-input-${r}`,title:"System message",rows:2,value:i.systemMessage??"",onChange:A,"data-testid":`agent-system-message-input-${r}`,"aria-label":"Manager system message"}),a.jsx(so,{label:"Send introductions",checked:!0===i.sendIntroductions,info:"Send a round of introductions at the start of the group chat, so agents know who they can speak to (default: False)",onChange:w,id:`manager-send-introductions-checkbox-${r}`,"aria-label":"Enable sending introductions"}),a.jsx(so,{label:"Enable clear history",checked:!0===i.enableClearHistory,info:"Enable the possibility to clear history of messages for agents manually by providing 'clear history' phrase in user prompt.",onChange:x,id:`manager-enable-clear-history-checkbox-${r}`,"aria-label":"Enable clear history functionality"})]})}),a.jsx(ji,{label:"Speakers",id:`wf-${n}-agent-group-manager-speakers-${r}`,children:a.jsxs("div",{className:"modal-body agent-panel",children:[a.jsx("div",{className:"margin-top-10",children:a.jsxs("div",{className:"info",children:["The method for selecting the next speaker. The default is"," ",a.jsx("strong",{className:"italic",children:"Auto"}),". Could be any of the following:",a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("strong",{className:"italic",children:"Auto"}),": the next speaker is selected automatically by LLM."]}),a.jsxs("li",{children:[a.jsx("strong",{className:"italic",children:"Manual"}),": the next speaker is selected manually by user input."]}),a.jsxs("li",{children:[a.jsx("strong",{className:"italic",children:"Default"}),": the transitions to the speakers are explicitly defined in the workflow."]}),a.jsxs("li",{children:[a.jsx("strong",{className:"italic",children:"Random"}),": the next speaker is selected randomly."]}),a.jsxs("li",{children:[a.jsx("strong",{className:"italic",children:"Round Robin"}),": the next speaker is selected in a round robin fashion, i.e., iterating in the same order as provided in agents."]})]})]})}),a.jsx("label",{htmlFor:`manager-speaker-selection-method-${r}`,children:"Speaker Selection Method:"}),a.jsx(lo,{options:N,value:P,onChange:j,inputId:`manager-speaker-selection-method-${r}`,"aria-label":"Select speaker selection method"}),a.jsx(wi,{name:"max-retries-for-selecting",label:"Max Retries for selecting a speaker:",value:i.speakers?.maxRetriesForSelecting??0,onChange:C,min:0,max:100,step:1,onNull:0,setNullOnLower:!0,onLowerLabel:"Unset",labelInfo:"The maximum number of times the speaker selection re-query process will run. If, during speaker selection, multiple agent names or no agent names are returned by the LLM as the next agent, it will be queried again up to the maximum number of times until a single agent is returned or it exhausts the maximum attempts. Applies only to 'auto' speaker selection method.",dataTestId:`manager-max-retries-for-selecting-input-${r}`,"aria-label":"Maximum retries for speaker selection"}),"round_robin"===i.speakers?.selectionMethod&&a.jsxs("div",{className:"margin-top-10",children:[a.jsx("div",{className:"info",children:"The order in which the speakers will be selected in round robin mode. If not provided, the order will be automatically determined based on the agents in the group."}),a.jsx("div",{className:"ordered-items-list",children:d.map((e,t)=>{const n=i.initialAgentId===e,r=t>0&&!(i.initialAgentId&&1===t),o=t<d.length-1&&!n,l=r||o;return a.jsxs("div",{className:"ordered-item "+(l?"has-buttons":"no-buttons"),"data-testid":`group-speaker-${t}`,children:[a.jsxs("div",{className:"reorder-buttons",children:[r&&a.jsx("button",{type:"button",title:"Move up",className:"reorder-btn up-btn",onClick:()=>O(e),children:"↑"}),o&&a.jsx("button",{type:"button",title:"Move down",className:"reorder-btn down-btn",onClick:()=>T(e),children:"↓"}),n&&a.jsx("button",{type:"button",className:"reorder-btn no-click",children:a.jsx(b.FaLock,{})})]}),a.jsx("div",{className:"ordered-item-content",children:(c=e,s.find(e=>e.id===c)?.data.label??c)})]},`group-speaker-${e}`);var c})})]})]})}),I&&a.jsx(ji,{label:"Afterwards",id:`wf-${n}-agent-group-manager-after-work-${r}`,children:a.jsx("div",{className:"modal-body agent-panel",children:a.jsx(fo,{target:i.afterWork,agents:s,onChange:S,isForGroupChat:!0,"aria-label":"After work configuration"})})})]})});BL.displayName="WaldiezNodeGroupManagerTabs";const FL=o.memo(e=>{const{id:t,data:n}=e,{onMultimodalChange:r,onNameChange:i,onDescriptionChange:s,onSystemMessageChange:l,onHumanInputModeChange:c,onMaxConsecutiveAutoReplyChange:u,onAgentDefaultAutoReplyChange:d}=(e=>{const{onDataChange:t,onAgentTypeChange:n}=e;return{onRagChange:o.useCallback(e=>{n(e?"rag_user_proxy":"user_proxy")},[n]),onMultimodalChange:o.useCallback(e=>{t({isMultimodal:e})},[t]),onNameChange:o.useCallback(e=>{const n=e.target.value;t({label:n})},[t]),onDescriptionChange:o.useCallback(e=>{const n=e.target.value;t({description:n})},[t]),onSystemMessageChange:o.useCallback(e=>{const n=e.target.value;t({systemMessage:n})},[t]),onHumanInputModeChange:o.useCallback(e=>{if(e){const n=e.value;t({humanInputMode:n})}},[t]),onMaxConsecutiveAutoReplyChange:o.useCallback(e=>{t({maxConsecutiveAutoReply:e})},[t]),onAgentDefaultAutoReplyChange:o.useCallback(e=>{const n=e.target.value;t({agentDefaultAutoReply:n})},[t])}})(e),p=o.useMemo(()=>({ALWAYS:"Always",NEVER:"Never",TERMINATE:"Terminate"}),[]),f=o.useMemo(()=>[{label:"Always",value:"ALWAYS"},{label:"Never",value:"NEVER"},{label:"Terminate",value:"TERMINATE"}],[]),h=o.useMemo(()=>({label:p[n.humanInputMode],value:n.humanInputMode}),[n.humanInputMode,p]);return a.jsxs("div",{className:"agent-panel agent-basic-panel",children:["assistant"===n.agentType&&a.jsx(so,{label:"Multimodal",info:"If checked, the agent will handle uploaded images from the user. NOTE: Make sure you use a compatible LLM model that supports multimodal inputs (e.g. GPT-4o-mini).",checked:n.isMultimodal??!1,onChange:r,id:`agent-multimodal-toggle-${t}`}),a.jsx(Mo,{label:"Name:",name:"human-input-name",value:n.label,onChange:i,dataTestId:`agent-name-input-${t}`,"aria-label":"Agent name"}),a.jsx("label",{htmlFor:`agent-description-input-${t}`,children:"Description:"}),a.jsx(Oo,{id:`agent-description-input-${t}`,title:"Agent description",rows:2,value:n.description,onChange:s,"data-testid":`agent-description-input-${t}`,"aria-label":"Agent description"}),a.jsx("label",{htmlFor:`agent-system-message-input-${t}`,children:"System Message:"}),a.jsx(Oo,{id:`agent-system-message-input-${t}`,title:"System message",rows:2,value:n.systemMessage??"",onChange:l,"data-testid":`agent-system-message-input-${t}`,"aria-label":"System message"}),a.jsx(jo,{label:"Human Input mode:",info:()=>a.jsxs("div",{children:["Whether to ask for human inputs every time a message is received. ",a.jsx("br",{}),"Possible values are: ",a.jsx("br",{}),a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("b",{children:"Always:"}),' the agent prompts for human input every time a message is received. Under this mode, the conversation stops when the human input is "exit", or when is_termination_msg is True and there is no human input.']}),a.jsxs("li",{children:[a.jsx("b",{children:"Terminate:"})," the agent only prompts for human input only when a termination message is received or the number of auto reply reaches the max_consecutive_auto_reply."]}),a.jsxs("li",{children:[a.jsx("b",{children:"Never:"})," the agent will never prompt for human input. Under this mode, the conversation stops when the number of auto reply reaches the max_consecutive_auto_reply or when is_termination_msg is True."]})]})]}),htmlFor:`agent-human-input-mode-${t}`}),a.jsx("label",{htmlFor:`agent-human-input-mode-select-${t}`,className:"hidden",children:"Human Input mode:"}),a.jsx(lo,{options:f,value:h,onChange:c,inputId:`agent-human-input-mode-select-${t}`,"aria-label":"Human input mode"}),a.jsx(wi,{name:"max-consecutive-auto-reply",label:"Max consecutive auto reply: ",value:n.maxConsecutiveAutoReply,onChange:u,min:0,max:1001,step:1,setNullOnUpper:!0,setNullOnLower:!1,onLowerLabel:"No auto reply",onUpperLabel:"Unset",labelInfo:"The maximum number of consecutive auto replies (i.e., when no code execution or llm-based reply is generated). Default is None (no limit provided). When set to 0, no auto reply will be generated.",dataTestId:`agent-max-consecutive-auto-reply-input-${t}`,"aria-label":"Maximum consecutive auto replies"}),a.jsx("label",{htmlFor:`agent-default-auto-reply-input-${t}`,children:"Default Auto Reply:"}),a.jsx(Oo,{className:"full-width margin-top-5",value:n.agentDefaultAutoReply??"",onChange:d,"data-testid":`agent-default-auto-reply-input-${t}`,"aria-label":"Default auto reply message"}),a.jsx("div",{className:"margin-bottom-10"})]})});FL.displayName="WaldiezAgentBasic";const UL=o.memo(e=>{const{id:t,data:n,flowId:r}=e,{agentLib:i,enableAgentLib:s,onEnableAgentLibChange:l,onFileUpload:c,onToolLibChange:u,onMaxRoundChange:d}=(e=>{const{data:t,onDataChange:n}=e,[r,a]=o.useState(t.agentLib.length>0),[i,s]=o.useState(t.agentLib);o.useEffect(()=>{s(t.agentLib)},[t]);const l=o.useCallback(e=>{n({...e})},[n]),c=o.useCallback(e=>{"number"==typeof e&&l({maxRound:e})},[l]),u=o.useCallback(e=>{l({toolLib:e?"default":null})},[l]),d=o.useCallback(e=>{a(e),l(e?{agentLib:i}:{agentLib:[]})},[l,i]),p=o.useCallback(e=>{const t=[];if(Array.isArray(e))for(const n of e)if("object"==typeof n&&null!==n){const{name:e,description:r}=n;if("string"==typeof e&&"string"==typeof r){const a=n,o="string"==typeof a.systemMessage?a.systemMessage:"string"==typeof a.system_message?a.system_message:null;o&&t.push({name:e,description:r,systemMessage:o})}}return t},[]),f=o.useCallback(e=>{if(!e.length)return;const t=e[0],n=new FileReader;n.onload=()=>{try{const e=n.result,t=JSON.parse(e),r=p(t);s(r),l({agentLib:r})}catch(e){}},n.readAsText(t)},[l,p]);return{agentLib:i,enableAgentLib:r,onEnableAgentLibChange:d,onFileUpload:f,onMaxRoundChange:c,onToolLibChange:u}})(e);return a.jsxs("div",{className:"agent-panel agent-codeExecution-panel margin-top--10",children:[a.jsx(wi,{name:"max-round",label:"Max Round",labelInfo:"The maximum number of conversation rounds to be used in the generated groupchat.",value:n.maxRound,onChange:d,dataTestId:`agent-captain-max-round-${t}`,min:1,max:100,"aria-label":"Maximum rounds"}),a.jsx(so,{id:`tool-lib-${t}`,label:"Include tool lib",info:"If enabled, the agents will be equipped with several tools",checked:"default"===n.toolLib,onChange:u,"aria-label":"Include tool library"}),a.jsxs("div",{className:"margin-bottom-10",children:["If selected, you can find the available tools"," ",a.jsx("a",{href:"https://github.com/ag2ai/ag2/tree/main/autogen/agentchat/contrib/captainagent/tools",target:"_blank",rel:"noreferrer nofollow noopener","aria-label":"View available tools on GitHub",children:"here"})]}),a.jsx(so,{label:"Include agent lib",info:"If enabled, the captain agent will generate agents from a dedicated agents library",checked:s,onChange:l,id:`agent-captain-toggle-agent-lib-${t}`,"aria-label":"Include agent library"}),a.jsxs("div",{className:"margin-bottom-10",children:["You can find an example of agents library"," ",a.jsx("a",{href:"https://github.com/ag2ai/ag2/blob/main/notebook/agent_library_example.json",target:"_blank",rel:"noreferrer nofollow noopener","aria-label":"View example agent library on GitHub",children:"here"})]}),s&&a.jsxs("div",{className:"agent-lib-container",children:[a.jsx(Ao,{flowId:r,allowedFileExtensions:[".json"],onUpload:c,"aria-label":"Upload agent library JSON file"}),i.length>0&&a.jsx("div",{className:"margin-top-10",children:a.jsx(Co,{title:`Agent Library (${i.length} entries)`,dataTestId:`agent-lib-${t}`,expanded:!1,fullWidth:!0,"aria-label":"Agent library entries",children:a.jsx("div",{className:"agent-lib-preview",style:{maxHeight:"300px",overflowY:"auto"},children:a.jsx("pre",{children:JSON.stringify(i,null,2)})})})})]})]})});UL.displayName="WaldiezAgentCaptainTab";const qL=o.memo(e=>{const{id:t,data:n,tools:r}=e,{codeExecutionValue:i,codeExecutionFunctionOptions:s,onUseCodeExecutionChange:l,onCodeExecutionWorkDirChange:c,onCodeExecutionLastNMessagesChange:u,onCodeExecutionTimeoutChange:d,onCodeExecutionUseDockerChange:p,onExecutionFunctionsChange:f}=(e=>{const{data:t,onDataChange:n,tools:r}=e,a=o.useCallback(e=>{const t=r.find(t=>t.id===e);return t?.data.label??"Unknown Tool"},[r]),i=o.useMemo(()=>r.map(e=>({label:e.data.label??"Unknown Tool",value:e.id})),[r]),s=o.useMemo(()=>!1===t.codeExecutionConfig?[]:(t.codeExecutionConfig?.functions??[]).map(e=>({label:a(e),value:e})),[t.codeExecutionConfig,a]),l=o.useCallback(e=>{const r=!!e&&{...t.codeExecutionConfig};n({codeExecutionConfig:r})},[t.codeExecutionConfig,n]),c=o.useCallback(e=>{const r=e.target.value;n({codeExecutionConfig:"object"==typeof t.codeExecutionConfig?{...t.codeExecutionConfig,workDir:r}:{workDir:r}})},[t.codeExecutionConfig,n]),u=o.useCallback(e=>{const r=e??0;n({codeExecutionConfig:"object"==typeof t.codeExecutionConfig?{...t.codeExecutionConfig,lastNMessages:r}:{lastNMessages:r}})},[t.codeExecutionConfig,n]),d=o.useCallback(e=>{const r=e??0;n({codeExecutionConfig:"object"==typeof t.codeExecutionConfig?{...t.codeExecutionConfig,timeout:r}:{timeout:r}})},[t.codeExecutionConfig,n]),p=o.useCallback(e=>{n({codeExecutionConfig:"object"==typeof t.codeExecutionConfig?{...t.codeExecutionConfig,useDocker:e}:{useDocker:e}})},[t.codeExecutionConfig,n]),f=o.useCallback(e=>{if(!e)return;const r=(Array.isArray(e)?e:[e]).map(e=>e?.value).filter(Boolean);n({codeExecutionConfig:"object"==typeof t.codeExecutionConfig?{...t.codeExecutionConfig,functions:r}:{functions:r}})},[t.codeExecutionConfig,n]);return{codeExecutionValue:s,codeExecutionFunctionOptions:i,getToolName:a,onUseCodeExecutionChange:l,onCodeExecutionWorkDirChange:c,onCodeExecutionLastNMessagesChange:u,onCodeExecutionTimeoutChange:d,onCodeExecutionUseDockerChange:p,onExecutionFunctionsChange:f}})(e),h=!1!==n.codeExecutionConfig,m=h&&!1!==n.codeExecutionConfig&&n.codeExecutionConfig?.lastNMessages&&"auto"!==n.codeExecutionConfig?.lastNMessages?n.codeExecutionConfig?.lastNMessages:0,g=h&&!1!==n.codeExecutionConfig&&!0===n.codeExecutionConfig?.useDocker,y=h&&!g&&r.length>0;return a.jsxs("div",{className:"agent-panel agent-codeExecution-panel",children:[a.jsx(so,{label:"Enable Code Execution",info:"Whether the agent is capable of executing code.",checked:h,onChange:l,id:`agent-code-execution-toggle-${t}`,"aria-label":"Enable code execution"}),h&&!1!==n.codeExecutionConfig&&a.jsxs("div",{className:"agent-node-codeExecution-options margin-top-10",children:[a.jsx(Mo,{label:"Working directory:",placeholder:"Working directory",className:"margin-top-10",name:"working-directory",value:n.codeExecutionConfig?.workDir??"",onChange:c,dataTestId:`agent-code-execution-work-dir-${t}`,"aria-label":"Code execution working directory"}),a.jsx(wi,{name:"last-n-messages",label:"Last N messages:",value:m,onChange:u,min:0,max:1e3,step:1,setNullOnLower:!0,forceInt:!0,onLowerLabel:"auto",labelInfo:"Maximum number of messages to use for code execution. If set to auto(0), all messages will be used.",dataTestId:`agent-code-execution-last-n-messages-${t}`,"aria-label":"Number of messages to include for code execution"}),a.jsx(wi,{label:"Timeout:",name:"timeout",value:n.codeExecutionConfig?.timeout??0,onChange:d,min:0,max:1e3,step:1,onNull:0,forceInt:!0,setNullOnLower:!0,onLowerLabel:"No timeout",labelInfo:"Maximum time in seconds to wait for code execution. If set to 0, no timeout will be used.",dataTestId:`agent-code-execution-timeout-${t}`,"aria-label":"Code execution timeout in seconds"}),a.jsx("div",{className:"margin-top-10 margin-bottom-10 sr-only hidden",children:a.jsx(so,{label:"Use Docker",info:"Whether to use Docker for code execution. If enabled, the agent will run code in a Docker container.",checked:g,onChange:p,id:`agent-code-execution-use-docker-${t}`,"aria-label":"Enable Docker for code execution"})}),y&&a.jsx("div",{className:"codeExecution-functions",children:a.jsxs("div",{className:"agent-node-functions",children:[a.jsx("label",{htmlFor:`agent-code-execution-functions-${t}`,children:"Functions:"}),a.jsx("div",{className:"margin-top-10",children:a.jsx(lo,{isMulti:!0,options:s,value:i,onChange:f,inputId:`agent-code-execution-functions-${t}`,"aria-label":"Select code execution functions"})})]})})]})]})});qL.displayName="WaldiezAgentCodeExecution";const HL=o.memo(e=>{const{id:t,data:n,darkMode:r,agents:i,edges:s,onDataChange:l}=e,{groupOptions:c,currentGroupManager:u,selectedGroup:d,groupMembers:p,onSelectGroupChange:f,onJoinGroup:h,onLeaveGroup:m,onAfterWorkChange:g}=(e=>{const{id:t,agents:n,data:r,onDataChange:a}=e,i=o.useMemo(()=>n.filter(e=>"group_manager"===e.data.agentType),[n]),s=o.useMemo(()=>r.parentId?n.filter(e=>e.data.parentId===r.parentId&&e.id!==t):[],[n,r.parentId,t]),l=o.useMemo(()=>r.parentId?i.find(e=>e.id===r.parentId):void 0,[i,r.parentId]),c=o.useMemo(()=>i.map(e=>({label:e.data.label,value:e})),[i]),[u,d]=o.useState(l);o.useEffect(()=>{d(l)},[l]);const p=o.useCallback(e=>{d(e?e.value:void 0)},[]),f=o.useCallback(()=>{a({parentId:u?.id})},[u,a]),h=o.useCallback(()=>{a({parentId:void 0})},[a]),m=o.useCallback(e=>{a({afterWork:e})},[a]);return{groupOptions:c,currentGroupManager:l,selectedGroup:u,groupMembers:s,onSelectGroupChange:p,onJoinGroup:f,onLeaveGroup:h,onAfterWorkChange:m}})(e),y=o.useMemo(()=>d?{label:d.data.label,value:d}:null,[d]),v=!!u,b=null===d;return a.jsx("div",{className:"agent-panel agent-group-panel",children:a.jsxs(ki,{activeTabIndex:0,children:[a.jsx(ji,{id:`wa-${t}-group-membership`,label:"Membership",children:a.jsxs("div",{style:{padding:"1rem"},"data-testid":`agent-group-panel-${t}`,children:[a.jsx("div",{className:"info margin-bottom-10",children:"Should this agent be part of a group chat?"}),v?a.jsxs("div",{className:"flex space-between current-group-info",children:[a.jsx("div",{className:"agent-panel-group-label","data-testid":`group-label-agent-${t}`,children:u.data.label}),a.jsx("div",{className:"agent-panel-group-actions",children:a.jsx("button",{title:"Leave group",type:"button",className:"agent-panel-group-action",onClick:m,"data-testid":`leave-group-button-agent-${t}`,"aria-label":"Leave current group",children:"Leave group"})})]}):a.jsxs("div",{children:[a.jsx("label",{htmlFor:`agent-select-group-${t}`,children:"Group:"}),a.jsx("div",{className:"margin-top-10"}),a.jsxs("div",{className:"flex space-between",children:[a.jsx(lo,{options:c,value:y,onChange:f,inputId:`agent-select-group-${t}`,className:"flex-1 margin-right-10","aria-label":"Select a group to join"}),a.jsx("button",{type:"button",title:"Join group",className:"agent-panel-select-group-action",onClick:h,disabled:b,"data-testid":`join-group-button-agent-${t}`,"aria-label":"Join selected group",children:"Join group"})]})]})]})}),v&&a.jsx(ji,{id:`wa-${t}-group-handoffs`,label:"Handoffs",children:a.jsx(Ro,{agents:i,edges:s,id:t,data:n,onDataChange:l})}),v&&a.jsx(ji,{id:`wa-${t}-group-update-state`,label:"State",children:a.jsx(f_,{data:n,darkMode:r,onDataChange:l})}),v&&a.jsx(ji,{label:"Afterwards",id:`wa-${t}-group-after-work`,children:a.jsx("div",{style:{paddingLeft:"1rem",paddingRight:"1rem"},"data-testid":`after-work-panel-${t}`,children:a.jsx(fo,{target:n.afterWork,agents:p,onChange:g,isForGroupChat:!1,"aria-label":"After work configuration"})})})]})})});HL.displayName="WaldiezAgentGroupMember";const WL=o.memo(e=>{const{id:t,flowId:n,agentConnections:r,data:i,edges:s,onDataChange:l}=e,c=o.useMemo(()=>((e,t)=>{const n=[];return e.nestedChats.length>0&&e.nestedChats[0].messages.length>0?n.push(e.nestedChats[0]):n.push({triggeredBy:[],messages:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}),t.forEach(e=>{n.length>0&&-1===n[0].messages.findIndex(t=>t.id===e.id)&&n[0].messages.push({id:e.id,isReply:!1})}),structuredClone(n)})(i,s),[i,s]);o.useEffect(()=>{if(!i?.nestedChats?.length)return;const e=new Set(i.nestedChats[0].messages.map(e=>e.id)),t=new Set(s.map(e=>e.id)),n=s.filter(t=>!e.has(t.id)),r=i.nestedChats[0].messages.filter(e=>!t.has(e.id));if(n.length>0||r.length>0){const e=[...i.nestedChats[0].messages.filter(e=>t.has(e.id)),...n.map(e=>({id:e.id,isReply:!1}))],r=[{...i.nestedChats[0],messages:e}];l({nestedChats:r})}},[i.nestedChats,s,l]);const u=o.useMemo(()=>c.length>0?c[0].messages.length:0,[c]),d=o.useCallback(e=>{const t=r.targets.edges.find(t=>t.id===e);if(!t)return"";const n=r.targets.nodes.find(e=>e.id===t.target);return n?n.data.label:""},[r.targets.edges,r.targets.nodes]),p=o.useCallback(e=>{const t=[...c],n=t[0].messages[e];t[0].messages[e]=t[0].messages[e-1],t[0].messages[e-1]=n,l({nestedChats:t})},[c,l]),f=o.useCallback(e=>{const t=[...c],n=t[0].messages[e];t[0].messages[e]=t[0].messages[e+1],t[0].messages[e+1]=n,l({nestedChats:structuredClone(t)})},[c,l]),h=o.useCallback(e=>{const t=structuredClone(c);t[0].condition=e,l({nestedChats:t})},[c,l]),m=o.useCallback(e=>{const t=structuredClone(c);t[0].available=e,l({nestedChats:t})},[c,l]);return a.jsx("div",{className:"agent-panel","data-testid":`agent-group-nested-chat-tabs-${t}`,children:a.jsxs(ki,{activeTabIndex:0,children:[a.jsx(ji,{label:"Queue",id:`wf-${n}-wa-${t}-nested-chats-queue`,children:a.jsx("div",{className:"flex-column margin-10 nested-chat-queue",children:c[0].messages.map((e,n)=>a.jsxs("div",{className:"flex margin-bottom-10 queue-item","data-testid":`nested-chat-queue-item-${n}`,children:[a.jsxs("div",{className:"margin-right-10 reorder-buttons",children:[n>0&&u>1&&a.jsx("button",{type:"button",title:"Move up",className:"reorder-btn up-btn","data-testid":`move-nested-recipient-up-button-${n}`,onClick:()=>p(n),"aria-label":`Move ${d(e.id)} up`,children:"↑"}),n<u-1&&a.jsx("button",{title:"Move down",type:"button",className:"reorder-btn down-btn","data-testid":`move-nested-recipient-down-button-${n}`,onClick:()=>f(n),"aria-label":`Move ${d(e.id)} down`,children:"↓"})]}),a.jsx("div",{className:"agent-nested-recipient-name",children:d(e.id)})]},`agent-${t}-nestedChat-recipient-${n}`))})}),a.jsx(ji,{label:"Condition",id:`wf-${n}-wa-${t}-nested-chat-condition`,children:a.jsx(Io,{condition:c[0].condition,onDataChange:h,"aria-label":"Handoff condition settings"})}),a.jsx(ji,{label:"Availability",id:`wf-${n}-wa-${t}-nested-chat-availability`,children:a.jsx(Eo,{available:c[0].available,onDataChange:m,"aria-label":"Handoff availability settings"})})]})})});WL.displayName="WaldiezAgentGroupNestedChatTabs";const VL=o.memo(e=>{const{id:t,chat:n,selectOptions:r,selectedRecipient:i,getEdgeLabel:s,onSelectedRecipientChange:l,onSelectedRecipientIsReplyChange:c,onAddNestedChatConnection:u,onRemoveRecipient:d,onNestedChatRecipientMovedUp:p,onNestedChatRecipientMovedDown:f,getMessageLabel:h}=e,m=o.useMemo(()=>i?{label:s(i.id),value:i.id}:null,[i,s]),g=!i||!i.id,y=0===n.messages.length;return a.jsxs("div",{className:"nested-chat-messages","data-testid":`nested-chat-messages-${t}`,children:[a.jsxs("div",{className:"info",children:[a.jsx("b",{children:"Messages:"})," Specifies which nested chat will be triggered. The final message is returned to the main chat. ",a.jsx("br",{}),a.jsx("b",{children:"Agent's Reply:"}),' Indicates the recipient of the trigger message. If selected, it is the second in the order. For example, if "User => Assistant" with the box ticked, the message is sent to the User; otherwise, it is sent to the Assistant.']}),a.jsx("label",{htmlFor:`new-nested-chat-select-recipient-${t}`,className:"nested-chat-messages-label",children:"Messages:"}),a.jsxs("div",{className:"nested-chats-add-message",children:[a.jsxs("div",{className:"nested-chat-recipients margin-right-10",children:[a.jsx("label",{htmlFor:`new-nested-chat-select-recipient-${t}`,className:"hidden",children:"Recipient"}),a.jsx(lo,{options:r,onChange:l,value:m,inputId:`new-nested-chat-select-recipient-${t}`,"aria-label":"Select message recipient"})]}),a.jsx(io,{id:`new-nested-chat-recipient-is-agent-reply-${t}`,label:"Agent's reply",isChecked:i?.isReply??!1,onCheckedChange:c,"data-testid":`new-nested-chat-recipient-is-agent-reply-${t}`}),a.jsx("div",{className:"nested-chat-add-button",children:a.jsx("button",{type:"button",title:"Add",className:"add-nested-chat",disabled:g,onClick:u,"data-testid":`new-nested-chat-add-recipient-${t}`,"aria-label":"Add message to nested chat",children:"Add"})})]}),a.jsx("div",{className:"nested-chats-registered-messages",children:y?a.jsx("div",{className:"nested-chat-registered-message",children:"No messages to include"}):a.jsx("div",{className:"flex-1 messages-list",children:n.messages.map((e,r)=>a.jsx($L,{target:e,index:r,messageCount:n.messages.length,getMessageLabel:h,onMoveUp:p,onMoveDown:f,onRemove:d,id:t},`${e.id}-${r}`))})})]})}),$L=o.memo(({target:e,index:t,messageCount:n,getMessageLabel:r,onMoveUp:o,onMoveDown:i,onRemove:s,id:l})=>{const c=n>1&&0!==t,u=n>1&&t!==n-1;return a.jsxs("div",{className:"nested-chat-registered-message","data-testid":`nested-chat-message-${l}-${t}`,children:[a.jsxs("span",{className:"message-label",children:[r(t),e.isReply&&a.jsx("span",{className:"reply-indicator",children:" (Reply)"})]}),a.jsxs("div",{className:"nested-chat-message-actions",children:[c&&a.jsx("div",{className:"nested-chat-reorder",children:a.jsx("button",{type:"button",title:"Move up",onClick:()=>o(t),"data-testid":`nested-chat-reorder-up-${t}`,"aria-label":`Move message ${t+1} up`,children:"↑"})}),u&&a.jsx("div",{className:"nested-chat-reorder",children:a.jsx("button",{type:"button",title:"Move down",onClick:()=>i(t),"data-testid":`nested-chat-reorder-down-${t}`,"aria-label":`Move message ${t+1} down`,children:"↓"})}),a.jsx("div",{className:"nested-chat-remove",children:a.jsx("button",{type:"button",title:"Remove",onClick:()=>s(t),"data-testid":`remove-nested-chat-recipient-${t}`,"aria-label":`Remove message ${t+1}`,children:"Remove"})})]})]})});VL.displayName="WaldiezAgentNestedChatsMessages",$L.displayName="MessageListItem";const GL=o.memo(e=>{const{id:t,selectOptions:n,selectedTriggers:r,onSelectedTriggersChange:i}=e,s=o.useMemo(()=>r.map(e=>{const t=n.find(t=>t.value===e);return{label:t?.label||"Unknown",value:e}}),[r,n]);return a.jsxs("div",{className:"nested-chat-triggers margin-bottom--10","data-testid":`nested-chat-triggers-${t}`,children:[a.jsxs("div",{className:"info",children:[a.jsx("b",{children:"Trigged by:"})," The agent triggers a sequence of nested chats when a message is received. If it is the termination message of a selected chat (e.g., max turns is set to 1) the trigger won't be activated."]}),a.jsx("label",{htmlFor:`new-nested-chat-select-trigger-${t}`,className:"nested-chat-triggers-label",children:"Triggered by:"}),a.jsx("div",{className:"nested-chat-select-trigger-view",children:a.jsx("div",{className:"nested-chat-select-trigger",children:a.jsx(lo,{options:n,value:s,onChange:i,isMulti:!0,inputId:`new-nested-chat-select-trigger-${t}`,"aria-label":"Select triggers for nested chat"})})})]})});GL.displayName="WaldiezAgentNestedChatsTriggers";const KL=o.memo(e=>{const{id:t}=e,{chat:n,triggerSelectOptions:r,messageSelectOptions:i,selectedTriggers:s,selectedRecipient:l,onSelectedTriggersChange:c,onSelectedRecipientChange:u,onSelectedRecipientIsReplyChange:d,onAddNestedChatConnection:p,onRemoveRecipient:f,onNestedChatRecipientMovedUp:h,onNestedChatRecipientMovedDown:m,getMessageLabel:g,getEdgeLabel:y}=(e=>{const{data:t,onDataChange:n,agentConnections:r}=e;o.useEffect(()=>{0===t.nestedChats.length&&n({nestedChats:[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}]})},[t.nestedChats,n]);const a=o.useMemo(()=>t.nestedChats.length>0?t.nestedChats[0]:{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}},[t.nestedChats]),[i,s]=o.useState(null),[l,c]=o.useState(a.triggeredBy),{sources:u,targets:d}=r,p=o.useMemo(()=>[...new Map([...u.nodes,...d.nodes].map(e=>[e.id,e])).values()],[u.nodes,d.nodes]),f=o.useMemo(()=>u.edges.concat(d.edges),[u.edges,d.edges]),h=o.useMemo(()=>p.map(e=>({label:e.data?.label,value:e.id})),[p]),m=o.useMemo(()=>f.map(e=>({label:e.data?.label,value:e.id})),[f]),g=o.useCallback(e=>{const t=f.find(t=>t.id===e);return t?.data?.label||"Unknown"},[f]),y=o.useCallback(e=>e<0||e>=a.messages.length?"Invalid message":g(a.messages[e].id),[a.messages,g]),v=o.useCallback(()=>{if(!i)return;if(a.messages.some(e=>e.id===i.id&&e.isReply===i.isReply))return;const e={messages:[...a.messages,{id:i.id,isReply:i.isReply}],triggeredBy:a.triggeredBy,condition:a.condition,available:a.available};n({nestedChats:[e]})},[i,a,n]),b=o.useCallback(e=>{const t={...a,messages:a.messages.filter((t,n)=>n!==e)};n({nestedChats:[t]})},[a,n]),x=o.useCallback(e=>{if(e<=0||e>=a.messages.length)return;const t=[...a.messages],r=t[e];t[e]=t[e-1],t[e-1]=r;const o={...a,messages:t};n({nestedChats:[o]})},[a,n]),w=o.useCallback(e=>{if(e<0||e>=a.messages.length-1)return;const t=[...a.messages],r=t[e];t[e]=t[e+1],t[e+1]=r;const o={...a,messages:t};n({nestedChats:[o]})},[a,n]),C=o.useCallback(e=>{c(e?e.map(e=>e.value):[]);const t={...a,messages:e?a.messages:[],triggeredBy:e?e.map(e=>e.value):[]};n({nestedChats:[t]})},[a,n]),j=o.useCallback(e=>{e&&e.value?s(t=>({id:e.value,isReply:t?.isReply||!1})):s(null)},[]),k=o.useCallback(e=>{i&&s(t=>({...t,isReply:e}))},[i]);return{chat:a,triggerSelectOptions:h,messageSelectOptions:m,selectedTriggers:l,selectedRecipient:i,onSelectedTriggersChange:C,onSelectedRecipientChange:j,onSelectedRecipientIsReplyChange:k,onAddNestedChatConnection:v,onRemoveRecipient:b,onNestedChatRecipientMovedUp:x,onNestedChatRecipientMovedDown:w,getMessageLabel:y,getEdgeLabel:g}})(e),v=n.triggeredBy.length>0;return a.jsxs("div",{className:"agent-panel agent-nestedChats-panel margin-top--10","data-testid":`agent-nested-chats-panel-${t}`,children:[a.jsx(GL,{id:t,selectedTriggers:s,onSelectedTriggersChange:c,selectOptions:r}),v&&a.jsxs(a.Fragment,{children:[a.jsx("hr",{className:"nested-chat-separator margin-top--10",style:{width:"100%",opacity:.3},"aria-hidden":"true"}),a.jsx(VL,{id:t,chat:n,selectOptions:i,selectedRecipient:l,onSelectedRecipientChange:u,onSelectedRecipientIsReplyChange:d,onAddNestedChatConnection:p,onRemoveRecipient:f,onNestedChatRecipientMovedUp:h,onNestedChatRecipientMovedDown:m,getMessageLabel:g,getEdgeLabel:y})]})]})});KL.displayName="WaldiezAgentNestedChats";const XL=[{label:"Chroma",value:"chroma"},{label:"Qdrant",value:"qdrant"},{label:"Pgvector",value:"pgvector"},{label:"MongoDB",value:"mongodb"}],YL={chroma:"Chroma",pgvector:"Pgvector",mongodb:"MongoDB",qdrant:"Qdrant"},QL={chroma:"all-MiniLM-L6-v2",pgvector:"all-MiniLM-L6-v2",mongodb:"all-MiniLM-L6-v2",qdrant:"BAAI/bge-small-en-v1.5"},ZL=()=>a.jsxs("div",{children:["The model for embedding. ",a.jsx("br",{}),"The defaults are: ",a.jsx("br",{}),a.jsx("b",{children:"Chroma:"})," all-MiniLM-L6-v2; ",a.jsx("br",{}),a.jsx("b",{children:"Pgvector:"})," all-MiniLM-L6-v2; ",a.jsx("br",{}),a.jsx("b",{children:"MongoDB:"})," all-MiniLM-L6-v2; ",a.jsx("br",{}),a.jsx("b",{children:"Qdrant:"})," BAAI/bge-small-en-v1.5."]}),JL=o.memo(e=>{const{id:t,data:n}=e,{retrieveConfig:r}=n,{onVectorDbChange:i,onModelChange:s,onQdrantUseMemoryChange:l,onQdrantUseLocalStorageChange:c,onQdrantLocalStoragePathChange:u,onChromaUseLocalStorageChange:d,onChromaLocalStoragePathChange:p,onDbConfigConnectionUrlChange:f}=(e=>{const{data:t,onDataChange:n}=e,r=o.useCallback(e=>{n({...t,retrieveConfig:{...t.retrieveConfig,...e}})},[t,n]),a=o.useCallback(e=>{r({dbConfig:{...t.retrieveConfig.dbConfig,...e}})},[t,r]);return{onVectorDbChange:o.useCallback(e=>{e&&r({vectorDb:e.value})},[r]),onModelChange:o.useCallback(e=>{r({model:e.target.value})},[r]),onQdrantUseMemoryChange:o.useCallback(e=>{a({useMemory:e,useLocalStorage:!1})},[a]),onQdrantUseLocalStorageChange:o.useCallback(e=>{a({useMemory:!1,useLocalStorage:e})},[a]),onQdrantLocalStoragePathChange:o.useCallback(e=>{a({localStoragePath:e.target.value})},[a]),onChromaUseLocalStorageChange:o.useCallback(e=>{a({useLocalStorage:e})},[a]),onChromaLocalStoragePathChange:o.useCallback(e=>{a({localStoragePath:e.target.value})},[a]),onDbConfigConnectionUrlChange:o.useCallback(e=>{a({connectionUrl:e.target.value})},[a])}})(e),h=o.useMemo(()=>({label:YL[r.vectorDb??"chroma"],value:r.vectorDb??"chroma"}),[r.vectorDb]),m=o.useMemo(()=>r.dbConfig.model??QL[r.vectorDb??"chroma"],[r.dbConfig.model,r.vectorDb]),g="qdrant"===r.vectorDb,y="chroma"===r.vectorDb,v=g&&r.dbConfig.useMemory,b=r.dbConfig.useLocalStorage,x=!g||g&&!v&&!b;return a.jsxs("div",{className:"flex-column vector-db-config","data-testid":`rag-vector-db-config-${t}`,children:[a.jsx("label",{htmlFor:`rag-vector-db-${t}`,children:"Vector DB:"}),a.jsx(lo,{options:XL,value:h,onChange:i,inputId:`rag-vector-db-${t}`,"aria-label":"Select vector database type"}),a.jsx(jo,{label:"Embedding Model:",info:ZL,htmlFor:`rag-vector-db-model-${t}`}),a.jsx("input",{type:"text",title:"Embedding model",value:m,onChange:s,"data-testid":`rag-vector-db-model-${t}`,id:`rag-vector-db-model-${t}`,"aria-label":"Embedding model name"}),g&&a.jsxs(a.Fragment,{children:[a.jsx(so,{label:"Use Memory Storage ",info:"Use memory for the vector db. Default is True.",checked:r.dbConfig.useMemory,id:`rag-vector-db-use-memory-${t}`,onChange:l,"aria-label":"Use memory storage for Qdrant"}),!v&&a.jsxs(a.Fragment,{children:[a.jsx(so,{label:"Use Local Storage ",info:'Use local storage for the vector db. Default is: True if "Use Memory Storage" is False.',checked:b,onChange:c,id:`rag-vector-db-use-local-storage-${t}`,"aria-label":"Use local storage for Qdrant"}),b&&a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:`rag-vector-db-local-storage-path-${t}`,children:"Storage Path:"}),a.jsx("input",{id:`rag-vector-db-local-storage-path-${t}`,title:"Storage path",type:"text",value:r.dbConfig.localStoragePath??"",onChange:u,"data-testid":`rag-vector-db-local-storage-path-${t}`,"aria-label":"Qdrant local storage path"})]})]})]}),y&&a.jsxs(a.Fragment,{children:[a.jsx(so,{label:"Use Persistent Storage ",info:"Use persistent storage for the vector db (i.e., whether to store data after closing the session). Default is False.",checked:b,id:`rag-vector-db-use-local-storage-${t}`,onChange:d,"aria-label":"Use persistent storage for Chroma"}),b&&a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:`rag-vector-db-chroma-local-storage-path-${t}`,children:"Storage Path:"}),a.jsx("input",{id:`rag-vector-db-chroma-local-storage-path-${t}`,title:"Storage path",type:"text",value:r.dbConfig.localStoragePath??"",onChange:p,"data-testid":`rag-vector-db-local-storage-path-${t}`,"aria-label":"Chroma storage path"})]})]}),x&&a.jsxs("div",{className:"flex-column",children:[a.jsx(jo,{htmlFor:`rag-vector-db-connection-url-${t}`,label:"Connection URL:",info:"The connection URL for the vector db. If using chroma and not provided, a new chroma db server will be spawned. For pgvector and mongodb, this is required."}),a.jsx("input",{type:"text",title:"Connection URL",value:r.dbConfig.connectionUrl??"",onChange:f,"data-testid":`rag-vector-db-connection-url-${t}`,id:`rag-vector-db-connection-url-${t}`,"aria-label":"Vector DB connection URL"})]})]})});JL.displayName="WaldiezAgentRagUserVectorDb";const ez=[{label:"Code",value:"code"},{label:"QA",value:"qa"},{label:"Default",value:"default"}],tz={code:"Code",qa:"QA",default:"Default"},nz=[".txt",".pdf",".doc",".docx",".rtf",".xlsx",".xls",".csv",".json",".yaml",".yml",".xml",".md",".odt"],rz=o.memo(e=>{const{id:t,flowId:n,uploadsEnabled:r,data:i}=e,{retrieveConfig:s}=i,{onFilesUpload:l,onTaskChange:c,onAddDocsPath:u,onRemoveDocsPath:d,onDocPathChange:p,onCollectionNameChange:f,onNResultsChange:h,onDistanceThresholdChange:m}=(e=>{const{data:t,onDataChange:n,filesToUpload:r,onFilesToUploadChange:a}=e,i=o.useCallback(e=>{n({...t,retrieveConfig:{...t.retrieveConfig,...e}})},[t,n]);return{onFilesUpload:o.useCallback(e=>{if(!e.length)return;const n=[...t.retrieveConfig.docsPath],o=[...r];for(const t of e){const e=`file:///${t.name}`;n.includes(e)||(n.push(e),o.push(t))}a(o),i({docsPath:n})},[t.retrieveConfig.docsPath,r,a,i]),onTaskChange:o.useCallback(e=>{e&&i({task:e.value})},[i]),onAddDocsPath:o.useCallback(e=>{i({docsPath:[...t.retrieveConfig.docsPath,e]})},[t.retrieveConfig.docsPath,i]),onRemoveDocsPath:o.useCallback(e=>{if(r.length){const t=r.filter(t=>`file:///${t.name}`!==e);a(t.length?t:[])}const n=t.retrieveConfig.docsPath.filter(t=>t!==e);i({docsPath:n})},[t.retrieveConfig.docsPath,r,a,i]),onDocPathChange:o.useCallback((e,n)=>{i({docsPath:t.retrieveConfig.docsPath.map(t=>t===e?n:t)})},[t.retrieveConfig.docsPath,i]),onCollectionNameChange:o.useCallback(e=>{i({collectionName:e.target.value})},[i]),onNResultsChange:o.useCallback(e=>{if(e.target.value&&""!==e.target.value.trim())try{const t=parseInt(e.target.value,10);i({nResults:isNaN(t)||t<1?null:t})}catch(t){i({nResults:null})}else i({nResults:null})},[i]),onDistanceThresholdChange:o.useCallback(e=>{if(e.target.value&&""!==e.target.value.trim())try{const t=parseFloat(e.target.value);i({distanceThreshold:isNaN(t)||t<0?null:t})}catch(t){i({distanceThreshold:null})}else i({distanceThreshold:null})},[i])}})(e),g=o.useMemo(()=>({label:tz[s.task],value:i.retrieveConfig.task}),[i.retrieveConfig.task,s.task]);return a.jsxs("div",{className:"rag-retrieve-config-container","data-testid":`rag-retrieve-config-${t}`,children:[a.jsxs("div",{className:"flex-column",children:[a.jsx(jo,{label:"Task:",info:'The task of the retrieve chat. Possible values are "code", "qa" and "default". The system prompt will be different for different tasks. The default value is `default`, which supports both code and qa, and provides source information in the end of the response.',htmlFor:`rag-retrieve-task-input-${t}`}),a.jsx("label",{className:"hidden",htmlFor:`rag-retrieve-task-${t}`,children:"Task"}),a.jsx(lo,{options:ez,value:g,onChange:c,inputId:`rag-retrieve-task-${t}`,"aria-label":"Select RAG task type"})]}),a.jsxs("div",{className:"flex-column",children:[r&&a.jsx("div",{className:"margin-top-20",children:a.jsx(Ao,{flowId:n,onUpload:l,allowedFileExtensions:nz,multiple:!0,"aria-label":"Upload documents for RAG"})}),a.jsx(Ci,{viewLabel:"Docs Paths:",viewLabelInfo:"The paths of the documents for the retrieve chat. It can be a list of directories, files and urls. Default is None, which works only if the collection is already created.",items:s.docsPath,itemsType:"rag-doc",onItemAdded:u,onItemDeleted:d,onItemChange:p,"aria-label":"Document paths"})]}),a.jsxs("div",{className:"flex-column",children:[a.jsx(jo,{label:"Collection Name:",info:"The name of the collection to be used in the vector database. If not provided, a default name `autogen-docs` will be used.",htmlFor:`rag-retrieve-collection-name-${t}`}),a.jsx("input",{type:"text",title:"Collection name",value:s.collectionName??"",onChange:f,"data-testid":`rag-retrieve-collection-name-${t}`,"aria-label":"Collection name",id:`rag-retrieve-collection-name-${t}`})]}),a.jsxs("div",{className:"flex-column",children:[a.jsx(jo,{label:"Number of results:",info:"The number of results to return. Default is None, which means the system will return all the results. Will be ignored if < 1.",htmlFor:`rag-retrieve-n-results-${t}`}),a.jsx("input",{title:"Number of results",type:"number",value:s.nResults??"",onChange:h,"data-testid":`rag-retrieve-n-results-${t}`,"aria-label":"Number of results",id:`rag-retrieve-n-results-${t}`})]}),a.jsxs("div",{className:"flex-column",children:[a.jsx(jo,{htmlFor:`rag-retrieve-distance-threshold-${t}`,label:"Distance Threshold:",info:"The threshold for the distance score, only distance smaller than it will be returned. Will be ignored if < 0. Default is -1."}),a.jsx("input",{title:"Distance threshold",type:"number",value:s.distanceThreshold??-1,onChange:m,"data-testid":`rag-retrieve-distance-threshold-${t}`,"aria-label":"Distance threshold",id:`rag-retrieve-distance-threshold-${t}`})]})]})});rz.displayName="WaldiezAgentRagUserRetrieveConfig";const az=[{label:"Multi Lines",value:"multi_lines"},{label:"One Line",value:"one_line"}],oz={multi_lines:"Multi Lines",one_line:"One Line"},iz=o.memo(e=>{const{id:t,data:n}=e,{retrieveConfig:r}=n,{onChunkTokenSizeChange:i,onContextMaxTokensChange:s,onChunkModeChange:l,onMustBreakAtEmptyLineChange:c}=(e=>{const{data:t,onDataChange:n}=e,r=o.useCallback(e=>{n({...t,retrieveConfig:{...t.retrieveConfig,...e}})},[t,n]);return{onChunkTokenSizeChange:o.useCallback(e=>{if(e.target.value&&""!==e.target.value.trim())try{const t=parseInt(e.target.value,10);if(isNaN(t)||t<1)return;r({chunkTokenSize:t})}catch(t){}else r({chunkTokenSize:void 0})},[r]),onContextMaxTokensChange:o.useCallback(e=>{if(e.target.value&&""!==e.target.value.trim())try{const t=parseInt(e.target.value,10);if(isNaN(t)||t<1)return;r({contextMaxTokens:t})}catch(t){}else r({contextMaxTokens:void 0})},[r]),onChunkModeChange:o.useCallback(e=>{e&&r({chunkMode:e.value})},[r]),onMustBreakAtEmptyLineChange:o.useCallback(e=>{r({mustBreakAtEmptyLine:e})},[r])}})(e),u=o.useMemo(()=>({label:oz[r.chunkMode],value:r.chunkMode}),[r.chunkMode]),d="multi_lines"===r.chunkMode;return a.jsxs("div",{className:"text-split-config","data-testid":`rag-text-split-config-${t}`,children:[a.jsxs("div",{className:"flex-column",children:[a.jsx(jo,{label:"Chunk Token Size:",info:"The chunk token size for the retrieve chat. If not provided, a default size `max_tokens * 0.4` will be used.",htmlFor:`rag-chunk-token-size-${t}`}),a.jsx("input",{title:"Chunk token size",type:"number",value:r.chunkTokenSize??"",onChange:i,"data-testid":`rag-chunk-token-size-${t}`,id:`rag-chunk-token-size-${t}`,"aria-label":"Chunk token size"})]}),a.jsxs("div",{className:"flex-column",children:[a.jsx(jo,{label:"Context Max Tokens:",info:"The context max token size for the retrieve chat. If not provided, a default size `max_tokens * 0.8` will be used.",htmlFor:`rag-context-max-tokens-${t}`}),a.jsx("input",{title:"Context max tokens",type:"number",value:r.contextMaxTokens??"",onChange:s,"data-testid":`rag-context-max-tokens-${t}`,id:`rag-context-max-tokens-${t}`,"aria-label":"Context maximum tokens"})]}),a.jsxs("div",{className:"flex-column",children:[a.jsx(jo,{htmlFor:`rag-chunk-mode-${t}`,label:"Chunk Mode:",info:'The chunk mode for the retrieve chat. Possible values are "Multi Lines" and "One Line". If not provided, a default mode "Multi Lines" will be used.'}),a.jsx("label",{className:"hidden",htmlFor:`rag-select-chunk-mode-${t}`,children:"Chunk Mode"}),a.jsx(lo,{options:az,value:u,onChange:l,inputId:`rag-select-chunk-mode-${t}`,"aria-label":"Select chunk mode"})]}),d&&a.jsx("div",{className:"flex-column",children:a.jsx(so,{label:"Must Break at Empty Line ",info:'Chunk will only break at empty line if True. Default is True. If chunk_mode is "one_line", this parameter will be ignored.',id:`rag-must-break-at-empty-line-${t}`,checked:r.mustBreakAtEmptyLine,onChange:c,"aria-label":"Must break at empty line"})})]})});iz.displayName="WaldiezAgentRagUserTextSplit";const sz=o.memo(e=>{const{id:t,data:n}=e,{retrieveConfig:r}=n,{onCustomizedPromptChange:i,onCustomizedAnswerPrefixChange:s,onUpdateContextChange:l,onGetOrCreateChange:c,onNewDocsChange:u,onOverwriteChange:d,onRecursiveChange:p}=(e=>{const{data:t,onDataChange:n}=e,r=o.useCallback(e=>{n({...t,retrieveConfig:{...t.retrieveConfig,...e}})},[t,n]);return{onCustomizedPromptChange:o.useCallback(e=>{r({customizedPrompt:e.target.value})},[r]),onCustomizedAnswerPrefixChange:o.useCallback(e=>{r({customizedAnswerPrefix:e.target.value})},[r]),onUpdateContextChange:o.useCallback(e=>{r({updateContext:e})},[r]),onGetOrCreateChange:o.useCallback(e=>{r({getOrCreate:e})},[r]),onNewDocsChange:o.useCallback(e=>{r({newDocs:e})},[r]),onOverwriteChange:o.useCallback(e=>{r({overwrite:e})},[r]),onRecursiveChange:o.useCallback(e=>{r({recursive:e})},[r])}})(e);return a.jsxs("div",{className:"rag-advanced-settings","data-testid":`rag-advanced-settings-${t}`,children:[a.jsxs("div",{className:"flex-column",children:[a.jsx(jo,{label:"Customized Prompt:",info:"The customized prompt for the retrieve chat. Default is None.",htmlFor:`rag-customized-prompt-${t}`}),a.jsx(Oo,{title:"Customized prompt",rows:2,value:r.customizedPrompt??"",onChange:i,"data-testid":`rag-customized-prompt-${t}`,id:`rag-customized-prompt-${t}`,"aria-label":"Customized prompt for RAG"})]}),a.jsxs("div",{className:"flex-column",children:[a.jsx(jo,{label:"Customized Answer Prefix:",info:'The customized answer prefix for the retrieve chat. Default is "".If not "" and the customized_answer_prefix is not in the answer, `Update Context` will be triggered.',htmlFor:`rag-customized-answer-prefix-${t}`}),a.jsx("input",{type:"text",title:"Customized answer prefix",value:r.customizedAnswerPrefix??"",onChange:s,"data-testid":`rag-customized-answer-prefix-${t}`,id:`rag-customized-answer-prefix-${t}`,"aria-label":"Customized answer prefix"})]}),a.jsx("div",{className:"flex-column",children:a.jsx(so,{label:"Update Context ",info:"If False, will not apply `Update Context` for interactive retrieval. Default is True.",checked:r.updateContext,onChange:l,id:`rag-update-context-${t}`,"aria-label":"Update context for interactive retrieval"})}),a.jsx("div",{className:"flex-column",children:a.jsx(so,{label:"Get or Create ",info:"Whether to get the collection if it exists. Default is True.",checked:r.getOrCreate,id:`rag-get-or-create-${t}`,onChange:c,"aria-label":"Get or create collection"})}),a.jsx("div",{className:"flex-column",children:a.jsx(so,{label:"New Docs ",info:"When True, only adds new documents to the collection; when False, updates existing documents and adds new ones. The default value is True. Document id is used to determine if a document is new or existing. By default, the id is the hash value of the content.",checked:r.newDocs,onChange:u,id:`rag-new-docs-${t}`,"aria-label":"Only add new documents"})}),a.jsx("div",{className:"flex-column",children:a.jsx(so,{label:"Overwrite ",info:"Whether to overwrite the collection if it exists. Default is False. Case 1. if the collection does not exist, create the collection. Case 2. the collection exists, if overwrite is True, it will overwrite the collection. Case 3. the collection exists and overwrite is False, if get_or_create is True, it will get the collection, otherwise it raise a ValueError.",checked:r.overwrite,onChange:d,id:`rag-overwrite-${t}`,"aria-label":"Overwrite existing collection"})}),a.jsx("div",{className:"flex-column",children:a.jsx(so,{label:"Recursive ",info:"Whether to search documents recursively in the docs_path. Default is True.",checked:r.recursive,onChange:p,id:`rag-recursive-${t}`,"aria-label":"Search documents recursively"})})]})});sz.displayName="WaldiezAgentRagUserAdvanced";const lz=o.memo(e=>{const{flowId:t,data:n,isDarkMode:r}=e,{retrieveConfig:i}=n,{onUseCustomEmbeddingChange:s,onEmbeddingFunctionChange:l,onUseCustomTokenCountChange:c,onCustomTokenCountFunctionChange:u,onUseCustomTextSplitChange:d,onCustomTextSplitFunctionChange:p}=(e=>{const{data:t,onDataChange:n}=e,r=o.useCallback(e=>{n({...t,retrieveConfig:{...t.retrieveConfig,...e}})},[t,n]);return{onUseCustomEmbeddingChange:o.useCallback(e=>{r({useCustomEmbedding:e})},[r]),onEmbeddingFunctionChange:o.useCallback(e=>{void 0!==e&&r({embeddingFunction:e})},[r]),onUseCustomTokenCountChange:o.useCallback(e=>{r({useCustomTokenCount:e})},[r]),onCustomTokenCountFunctionChange:o.useCallback(e=>{void 0!==e&&r({customTokenCountFunction:e})},[r]),onUseCustomTextSplitChange:o.useCallback(e=>{r({useCustomTextSplit:e})},[r]),onCustomTextSplitFunctionChange:o.useCallback(e=>{void 0!==e&&r({customTextSplitFunction:e})},[r])}})(e),f=o.useMemo(()=>i.embeddingFunction??'"""Custom embedding function."""\n# provide the function to embed the input text\n# complete the `custom_embedding_function` below.\n# Do not change the name of the function.\n# See https://docs.trychroma.com/integrations for more information and examples.\n# examples:\n# def custom_embedding_function():\n#    # type: () -> callable\n#   import chromadb.utils.embedding_functions as embedding_functions\n#   huggingface_ef = embedding_functions.HuggingFaceEmbeddingFunction(\n#        api_key="YOUR_API_KEY",\n#        model_name="sentence-transformers/all-MiniLM-L6-v2"\n#   )\n#   return huggingface_ef\n#\n# def custom_embedding_function():\n#    # type: () -> callable\n#    import chromadb.utils.embedding_functions as embedding_functions\n#    openai_ef = embedding_functions.OpenAIEmbeddingFunction(\n#       api_key="YOUR_API_KEY",\n#       model_name="text-embedding-3-small"\n#    )\n#    return openai_ef\n#\ndef custom_embedding_function():\n    # type: () -> callable\n    """Complete the custom embedding function."""\n    ...\n',[i.embeddingFunction]),h=o.useMemo(()=>i.customTokenCountFunction??'"""Custom function to count the number of tokens in a string.\n\nThe function should take (text:str, model:str) as input and return the\ntoken_count(int). the retrieve_config["model"] will be passed in the function.\nDefault is autogen.token_count_utils.count_token that uses tiktoken, which may\nnot be accurate for non-OpenAI models.\n"""\n# provide the function to count the number of tokens in a string.\n# complete the `custom_token_count_function` below. Do not change the name or the arguments of the function.\n# only complete the function body and the docstring and return the token count.\n\n# example:\n# def custom_token_count_function(text, model):\n#    # type: (Union[str, List, Dict], str) -> int\n#    return len(text.split())\n#\ndef custom_token_count_function(text, model):\n    """Complete the custom token count function."""\n    ...\n',[i.customTokenCountFunction]),m=o.useMemo(()=>i.customTextSplitFunction??'"""Custom text split function.\n\nA custom function to split a string into a list of strings. The default function is\n\'autogen.retrieve_utils.split_text_to_chunks\'.\n"""\n# provide the function to split the text into chunks.\n# complete the `custom_text_split_function` below. Do not change the name or the arguments of the function.\n# only complete the function body and the docstring and return the list of strings.\n# example:\n# def custom_text_split_function(\n#    text: str,\n#    max_tokens: int = 4000,\n#    chunk_mode: str = "multi_lines",\n#    must_break_at_empty_line: bool = True,\n#    overlap: int = 0,  # number of overlapping lines\n# ) -> list[str]:\n#    return text.split("\\n")\n#\ndef custom_text_split_function(\n    text,  # type: str\n    max_tokens,  # type: int\n    chunk_mode,  # type: str (multi_lines or one_line)\n    must_break_at_empty_line,  # type: bool\n    overlap,  # type: int # number of overlapping lines\n):\n    # type: (...) -> list[str]\n    """Complete the custom text split function."""\n    ...\n',[i.customTextSplitFunction]),g=i.useCustomEmbedding??!1,y=i.useCustomTokenCount??!1,v=i.useCustomTextSplit??!1,b={marginTop:-20,marginBottom:-10};return a.jsxs("div",{className:"waldiez-agent-rag-user-custom-functions","data-testid":`rag-custom-functions-${t}`,children:[a.jsx(Co,{title:"Embedding Function",dataTestId:`${t}-rag-use-custom-embedding`,"aria-label":"Embedding function settings",children:a.jsxs("div",{className:"flex-column",style:b,children:[a.jsx("div",{className:"info",children:a.jsx("div",{className:"info-tooltip",children:"If selected, the agent will use a custom embedding function. Default is False."})}),a.jsx(io,{id:`${t}-rag-use-custom-embedding-checkbox`,label:"Use Custom Embedding Function",isChecked:g,onCheckedChange:s,"data-testid":`${t}-rag-use-custom-embedding-checkbox`}),g&&a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:`${t}-embedding-function-editor`,children:"Embedding Function:"}),a.jsx("div",{className:"margin-top-10",children:a.jsx(So,{darkMode:r,value:f,onChange:l,"aria-label":"Custom embedding function code editor"})})]})]})}),a.jsx(Co,{title:"Token Count",dataTestId:`${t}-rag-use-custom-tokenCount`,"aria-label":"Token count function settings",children:a.jsxs("div",{className:"flex-column",style:b,children:[a.jsx("div",{className:"info",children:a.jsx("div",{className:"info-tooltip",children:"If selected, the agent will use a custom token count function. Default is False."})}),a.jsx(io,{id:`${t}-rag-use-custom-tokenCount-checkbox`,label:"Use Custom Token Count Function",isChecked:y,onCheckedChange:c,"data-testid":`${t}-rag-use-custom-tokenCount-checkbox`}),y&&a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:`${t}-token-count-function-editor`,children:"Custom Token Count Function:"}),a.jsx("div",{className:"margin-top-10",children:a.jsx(So,{darkMode:r,value:h,onChange:u,"aria-label":"Custom token count function code editor"})})]})]})}),a.jsx(Co,{title:"Text Split",dataTestId:`${t}-rag-use-custom-textSplit`,"aria-label":"Text split function settings",children:a.jsxs("div",{className:"flex-column",style:b,children:[a.jsx("div",{className:"info",children:a.jsx("div",{className:"info-tooltip",children:"If selected, the agent will use a custom text split function. Default is False."})}),a.jsx(io,{id:`${t}-rag-use-custom-textSplit-checkbox`,label:"Use Custom Text Split Function",isChecked:v,onCheckedChange:d,"data-testid":`${t}-rag-use-custom-textSplit-checkbox`}),v&&a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:`${t}-text-split-function-editor`,children:"Custom Text Split Function:"}),a.jsx("div",{className:"margin-top-10",children:a.jsx(So,{darkMode:r,value:m,onChange:p,"aria-label":"Custom text split function code editor"})})]})]})})]})});lz.displayName="WaldiezAgentRagUserCustomFunctions";const cz=o.memo(e=>{const{id:t,data:n,tools:r,skipExecutor:i}=e,{toolOptions:s,agentOptions:l,selectedTool:c,selectedTools:u,selectedExecutor:d,getToolName:p,getAgentName:f,onSelectedToolChange:h,onSelectedToolsChange:m,onSelectedExecutorChange:g,onAddTool:y,onRemoveTool:v}=(e=>{const{id:t,data:n,tools:r,agents:a,onDataChange:i}=e,s=wa(e=>e.updateAgentData),[l,c]=o.useState(null),[u,d]=o.useState(null);o.useEffect(()=>{const e=r.map(e=>e.id),a=n.tools.filter(t=>e.includes(t.id));a.length!==n.tools.length&&s(t,{tools:a})},[r,n.tools,s,t]);const p=o.useMemo(()=>n.tools.map(e=>{const t=r.find(t=>t.id===e.id);return t?{label:t.data.label,value:t}:null}),[n.tools,r]),f=o.useCallback(e=>{e&&0!==e.length?i({tools:e.filter(e=>null!==e).map(e=>({id:e.value.id,executorId:t}))}):i({tools:[]})},[i,t]),h=o.useMemo(()=>r.filter(e=>"shared"!==e.data.toolType).map(e=>({label:e.data.label??"Unknown tool",value:e})),[r]),m=o.useMemo(()=>a.map(e=>({label:e.data.label??"Unknown Agent",value:e})),[a]),g=o.useCallback(e=>{const t=r.find(t=>t.id===e.id);return t?t.data.label:"Unknown tool"},[r]),y=o.useCallback(e=>{const t=a.find(t=>t.id===e.executorId);return t?t.data.label:"Unknown Agent"},[a]),v=o.useCallback(()=>{if(!l||!u)return;const e=l.value,t=u.value;if(!n.tools.find(n=>n.executorId===t.id&&n.id===e.id)){const r={id:e.id,executorId:t.id},a=[...n.tools,r];i({tools:a}),c(null),d(null)}},[l,u,n.tools,i]),b=o.useCallback(e=>{const t=n.tools.filter((t,n)=>n!==e);i({tools:t})},[n.tools,i]);return{toolOptions:h,agentOptions:m,selectedTool:l,selectedTools:p,selectedExecutor:u,getToolName:g,getAgentName:y,onSelectedToolChange:c,onSelectedToolsChange:f,onSelectedExecutorChange:d,onAddTool:v,onRemoveTool:b}})(e);return 0===r.length?a.jsx("div",{className:"agent-panel agent-tools-panel margin-bottom-10",children:a.jsx("div",{className:"margin-top-10 margin-left-10",children:"No tools found in the workspace"})}):!0===i?a.jsx("div",{className:"agent-panel agent-tools-panel margin-bottom-10",children:a.jsxs("div",{className:"agent-panel-select-tools",children:[a.jsx("label",{htmlFor:`select-agent-tools-${t}`,children:"Tools:"}),a.jsx(lo,{options:s,onChange:m,value:u,isMulti:!0,isClearable:!0,inputId:`select-agent-tool-${t}`,"aria-label":"Select tools"})]})}):a.jsx("div",{className:"agent-panel agent-tools-panel margin-bottom-10",children:a.jsxs("div",{children:[a.jsxs("div",{className:"agent-panel-add-tool",children:[a.jsx("label",{htmlFor:`select-agent-tool-${t}`,children:"Tool:"}),a.jsx(lo,{options:s,onChange:h,value:c,inputId:`select-agent-tool-${t}`,"aria-label":"Select tool"}),a.jsx("label",{htmlFor:`select-agent-tool-executor-${t}`,children:"Executor:"}),a.jsx(lo,{options:l,onChange:g,value:d,inputId:`select-agent-tool-executor-${t}`,"aria-label":"Select executor agent"}),a.jsx("button",{type:"button",title:"Add tool",disabled:!c||!d,onClick:y,"data-testid":`add-agent-tool-${t}`,"aria-label":"Add tool",children:"Add"})]}),n.tools.length>0&&a.jsxs("div",{className:"agent-panel-current-tools margin-top-10",children:[a.jsx("div",{className:"agent-panel-current-tools-heading",children:"Current tools:"}),n.tools.map((e,n)=>a.jsx("div",{className:"agent-panel-current-tool",children:a.jsxs("div",{className:"agent-panel-current-tool-entry",children:[a.jsxs("div",{className:"tool-item",children:["Tool:"," ",a.jsx("div",{className:"tool-name","data-testid":`tool-name-${t}-${n}`,children:p(e)})]}),a.jsxs("div",{className:"agent-item",children:["Executor:"," ",a.jsx("div",{className:"agent-name","data-testid":`agent-name-${t}-${n}`,children:f(e)})]}),a.jsx("button",{type:"button",title:"Remove tool",onClick:()=>v(n),"data-testid":`remove-agent-tool-${t}-${n}`,"aria-label":`Remove ${p(e)}`,children:"Remove"})]})},`tool-${t}-${e.id}-${e.executorId}`))]})]})})});cz.displayName="WaldiezAgentTools";const uz=o.memo(e=>{const{id:t,data:n,agents:r,models:i,tools:s,flowId:l,agentConnections:c,isDarkMode:u,isModalOpen:d,onDataChange:p,filesToUpload:f,onFilesToUploadChange:h,uploadsEnabled:m,showNestedChatsTab:g}=e,[y,v]=o.useState(0);return o.useEffect(()=>{v(0)},[d]),a.jsx("div",{className:"agent-panel agent-ragUser-panel margin-bottom-10","data-testid":`agent-rag-user-panel-${t}`,children:a.jsxs(ki,{activeTabIndex:y,children:[a.jsx(ji,{label:"Model",id:`wf-${l}-wa-${t}-models`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(zL,{id:t,data:n,models:i,onDataChange:p})})}),a.jsx(ji,{label:"Code Execution",id:`wf-${l}-wa-${t}-codeExecution`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(qL,{id:t,data:n,tools:s,onDataChange:p})})}),a.jsx(ji,{label:"Tools",id:`wf-${l}-wa-${t}-tools`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(cz,{id:t,data:n,agents:r,tools:s,skipExecutor:!1,onDataChange:p})})}),g&&a.jsx(ji,{label:"Nested chat",id:`wf-${l}-wa-${t}-nested`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(KL,{id:t,data:n,onDataChange:p,agentConnections:c})})}),a.jsx(ji,{label:"RAG",id:`wf-${l}-wa-${t}-rag`,children:a.jsxs(ki,{activeTabIndex:0,children:[a.jsx(ji,{label:"Retrieve Config",id:`wf-${l}-wa-${t}-rag-retrieveConfig`,children:a.jsx(rz,{id:t,flowId:l,data:n,onDataChange:p,uploadsEnabled:m,filesToUpload:f,onFilesToUploadChange:h})}),a.jsx(ji,{label:"Text splitting",id:`wf-${l}-wa-${t}-rag-textSplit`,children:a.jsx(iz,{id:t,data:n,onDataChange:p})}),a.jsx(ji,{label:"Vector DB Config",id:`wf-${l}-wa-${t}-rag-vectorDb`,children:a.jsx(JL,{id:t,data:n,onDataChange:p})}),a.jsx(ji,{label:"Custom Functions",id:`wf-${l}-wa-${t}-rag-customFunctions`,children:a.jsx(lz,{id:t,flowId:l,data:n,isDarkMode:u,onDataChange:p})}),a.jsx(ji,{label:"Advanced",id:`wf-${l}-wa-${t}-rag-advanced`,children:a.jsx(sz,{id:t,data:n,onDataChange:p})})]})})]})})});uz.displayName="WaldiezAgentRagUserTabs";const dz=o.memo(e=>{const{id:t,data:n}=e,{reasoningMethodOptions:r,reasoningMethodValue:i,answerApproachOptions:s,answerApproachValue:l,isBeamSearch:c,isSimulationBasedMethod:u,onVerboseChange:d,onReasoningMethodChange:p,onMaxDepthChange:f,onForestSizeChange:h,onRatingScaleChange:m,onBeamSizeChange:g,onAnswerApproachChange:y,onNSimChange:v,onExplorationConstantChange:b}=(e=>{const{data:t,onDataChange:n}=e,r=o.useMemo(()=>[{value:"beam_search",label:"Beam Search"},{value:"mcts",label:"Monte Carlo Tree Search"},{value:"lats",label:"Language Agent Tree Search"},{value:"dfs",label:"Depth First Search"}],[]),a=o.useMemo(()=>({value:t.reasonConfig.method,label:r.find(e=>e.value===t.reasonConfig.method)?.label||"Beam Search"}),[t.reasonConfig.method,r]),i=o.useMemo(()=>[{value:"pool",label:"Pool"},{value:"best",label:"Best"}],[]),s=o.useMemo(()=>({value:t.reasonConfig.answerApproach,label:i.find(e=>e.value===t.reasonConfig.answerApproach)?.label||"Pool"}),[t.reasonConfig.answerApproach,i]),l=o.useMemo(()=>["mcts","lats"].includes(t.reasonConfig.method),[t.reasonConfig.method]),c=o.useMemo(()=>"beam_search"===t.reasonConfig.method,[t.reasonConfig.method]),u=o.useCallback(e=>{n({...e})},[n]),d=o.useCallback(e=>{u({verbose:e})},[u]),p=o.useCallback(e=>{e&&u({reasonConfig:{...t.reasonConfig,answerApproach:e.value}})},[u,t.reasonConfig]),f=o.useCallback(e=>{null!==e&&u({reasonConfig:{...t.reasonConfig,forestSize:e}})},[u,t.reasonConfig]),h=o.useCallback(e=>{e&&u({reasonConfig:{...t.reasonConfig,method:e.value}})},[u,t.reasonConfig]),m=o.useCallback(e=>{null!==e&&u({reasonConfig:{...t.reasonConfig,maxDepth:e}})},[u,t.reasonConfig]),g=o.useCallback(e=>{null!==e&&u({reasonConfig:{...t.reasonConfig,ratingScale:e}})},[u,t.reasonConfig]),y=o.useCallback(e=>{null!==e&&u({reasonConfig:{...t.reasonConfig,beamSize:e}})},[u,t.reasonConfig]),v=o.useCallback(e=>{null!==e&&u({reasonConfig:{...t.reasonConfig,nsim:e}})},[u,t.reasonConfig]),b=o.useCallback(e=>{null!==e&&u({reasonConfig:{...t.reasonConfig,explorationConstant:e}})},[u,t.reasonConfig]);return{reasoningMethodOptions:r,answerApproachOptions:i,isSimulationBasedMethod:l,isBeamSearch:c,reasoningMethodValue:a,answerApproachValue:s,onVerboseChange:d,onAnswerApproachChange:p,onForestSizeChange:f,onReasoningMethodChange:h,onMaxDepthChange:m,onRatingScaleChange:g,onBeamSizeChange:y,onNSimChange:v,onExplorationConstantChange:b}})(e);return a.jsxs("div",{className:"agent-panel agent-codeExecution-panel margin-top--10",children:[a.jsx(so,{label:"Verbose",info:"When enabled, the agent will provide additional information about the reasoning process.",checked:!0===n.verbose,onChange:d,id:`agent-reasoning-verbose-toggle-${t}`,"aria-label":"Enable verbose reasoning output"}),a.jsx("label",{className:"agent-panel-label",htmlFor:`agent-reasoning-method-${t}`,children:"Reasoning Method:"}),a.jsx(lo,{options:r,value:i,onChange:p,inputId:`agent-reasoning-method-${t}`,"aria-label":"Select reasoning method"}),a.jsx(wi,{label:"Max Depth:",name:"max-depth",value:n.reasonConfig.maxDepth,onChange:f,min:1,max:10,dataTestId:`agent-reasoning-max-depth-${t}`,"aria-label":"Maximum depth for reasoning"}),a.jsx(wi,{label:"Forest Size:",name:"forest-size",value:n.reasonConfig.forestSize,onChange:h,min:1,max:10,dataTestId:`agent-reasoning-forest-size-${t}`,"aria-label":"Forest size for reasoning"}),a.jsx(wi,{label:"Rating Scale:",name:"rating-scale",value:n.reasonConfig.ratingScale,onChange:m,min:1,max:10,dataTestId:`agent-reasoning-rating-scale-${t}`,"aria-label":"Rating scale for reasoning"}),c&&a.jsxs(a.Fragment,{children:[a.jsx(wi,{name:"beam-size",label:"Beam Size:",value:n.reasonConfig.beamSize,onChange:g,min:1,max:10,dataTestId:`agent-reasoning-beam-size-${t}`,"aria-label":"Beam size for beam search"}),a.jsx("label",{className:"agent-panel-label",htmlFor:`agent-reasoning-answer-approach-${t}`,children:"Answer Approach:"}),a.jsx(lo,{options:s,value:l,onChange:y,inputId:`agent-reasoning-answer-approach-${t}`,"aria-label":"Select answer approach"})]}),u&&a.jsxs(a.Fragment,{children:[a.jsx(wi,{name:"number-of-simulations",label:"Number of Simulations:",value:n.reasonConfig.nsim,onChange:v,min:1,max:10,dataTestId:`agent-reasoning-nsim-${t}`,"aria-label":"Number of simulations for MCTS/LATS"}),a.jsx(wi,{label:"Exploration Constant:",name:"exploration-constant",value:n.reasonConfig.explorationConstant,onChange:b,min:0,max:10,step:.01,dataTestId:`agent-reasoning-exploration-constant-${t}`,"aria-label":"Exploration constant for MCTS/LATS"})]})]})});dz.displayName="WaldiezAgentReasoning";const pz=[{label:"Keyword is found",value:"found"},{label:"Keyword is the last word",value:"ending"},{label:"Keyword is the first word",value:"starting"},{label:"Exact match",value:"exact"}],fz=[{label:"None",value:"none"},{label:"Keyword",value:"keyword"},{label:"Method",value:"method"}],hz=o.memo(e=>{const{id:t}=e,{data:n,isDarkMode:r,terminationCriterionOptions:i,terminationTypeOptions:s,defaultTerminationMethodContent:l,onTerminationTypeChange:c,onTerminationMethodChange:u,onTerminationCriterionChange:d,onAddTerminationKeyword:p,onDeleteTerminationKeyword:f,onTerminationKeywordChange:h}=(e=>{const{data:t,onDataChange:n}=e,{isDark:r}=Cn(),a=o.useMemo(()=>t.termination.methodContent&&t.termination.methodContent.length>1?t.termination.methodContent:'"""Custom termination message function."""\n# provide the function to check if the message is a termination message\n# complete the `is_termination_message` below. Do not change the name or the arguments of the function.\n# only complete the function body and the docstring and return True if the message is a termination message, False otherwise.\n# example:\n# def is_termination_message(message):\n#    # type: (dict[str, any]) -> bool\n#    return message.get("content", "").lower() == "terminate"\n#\ndef is_termination_message(message):\n    """Complete the termination message function"""\n    ...\n',[t.termination.methodContent]),i=o.useCallback(e=>{if(!e)return;const r=e.value;n({termination:{...t.termination,keywords:"keyword"===r?t.termination.keywords:[],methodContent:"method"===r?a:"",criterion:"keyword"===r?t.termination.criterion:"found",type:r}})},[t.termination,n,a]),s=o.useCallback(e=>{e&&n({termination:{...t.termination,methodContent:e}})},[t.termination,n]),l=o.useCallback(e=>{if(!e)return;const r=e.value;n({termination:{...t.termination,criterion:r}})},[t.termination,n]),c=o.useCallback(e=>{n({termination:{...t.termination,keywords:[...t.termination.keywords,e]}})},[t.termination,n]),u=o.useCallback(e=>{n({termination:{...t.termination,keywords:t.termination.keywords.filter(t=>t!==e)}})},[t.termination,n]),d=o.useCallback((e,r)=>{n({termination:{...t.termination,keywords:t.termination.keywords.map(t=>t===e?r:t)}})},[t.termination,n]);return{data:t,terminationCriterionOptions:pz,terminationTypeOptions:fz,defaultTerminationMethodContent:a,isDarkMode:r,onTerminationTypeChange:i,onTerminationMethodChange:s,onTerminationCriterionChange:l,onAddTerminationKeyword:c,onDeleteTerminationKeyword:u,onTerminationKeywordChange:d}})(e),m=o.useMemo(()=>({label:s.find(e=>e.value===n.termination.type)?.label??"None",value:n.termination?.type??"none"}),[n.termination.type,s]),g=o.useMemo(()=>{const e=i.find(e=>e.value===n.termination.criterion);if(e)return{label:e.label,value:e.value}},[n.termination.criterion,i]),y=n.termination&&"method"===n.termination.type,v=n.termination&&"keyword"===n.termination.type;return a.jsxs("div",{className:"agent-panel agent-termination-panel",children:[a.jsx("div",{className:"info",children:"After receiving each message, the agent will send a reply to the sender unless the termination condition is met. A termination condition can be a keyword or a custom method."}),a.jsx("label",{htmlFor:`termination-type-${t}`,children:"Termination Type:"}),a.jsx("div",{className:"margin-top-10"}),a.jsx(lo,{options:s,value:m,onChange:c,inputId:`termination-type-${t}`,"aria-label":"Select termination type"}),y&&a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:`termination-method-editor-${t}`,children:"Termination Method:"}),a.jsx("div",{className:"margin-top-10"}),a.jsx(So,{"data-testid":`termination-method-editor-${t}`,darkMode:r,value:l,onChange:u,"aria-label":"Edit termination method code"})]}),v&&a.jsxs("div",{className:"margin-top-10",children:[a.jsx("label",{htmlFor:`termination-criterion-${t}`,children:"Termination Criterion:"}),a.jsx("div",{className:"margin-top-10"}),a.jsx(lo,{options:i,value:g,onChange:d,inputId:`termination-criterion-${t}`,"aria-label":"Select termination criterion"}),a.jsx(Ci,{viewLabel:"Termination Keywords:",viewLabelInfo:"List of keywords to check for termination.",items:n.termination?.keywords??[],itemsType:"termination-keyword",onItemAdded:p,onItemDeleted:f,onItemChange:h,"aria-label":"Termination keywords list"})]})]})});hz.displayName="WaldiezAgentTermination";const mz=o.memo(e=>{const{id:t,flowId:n,data:r,tools:i,showNestedChatsTab:s,onDataChange:l,agentConnections:c,agents:u}=e,d=o.useCallback(e=>{l({label:e.target.value})},[l]),p=o.useCallback(e=>{l({maxConsecutiveAutoReply:e})},[l]),f=o.useCallback(e=>{l({agentDefaultAutoReply:e.target.value})},[l]);return a.jsx("div",{className:"agent-panel agent-user-panel margin-bottom-10","data-testid":`agent-user-panel-${t}`,children:a.jsxs(ki,{children:[a.jsx(ji,{label:"User",id:`wf-${n}-wa-${t}-user`,children:a.jsxs("div",{className:"modal-tab-body",children:[a.jsx(Mo,{label:"Name:",name:"agent-name",value:r.label,onChange:d,dataTestId:`agent-name-input-${t}`,"aria-label":"Agent name",className:"margin-top-5"}),a.jsx(wi,{name:"max-consecutive-auto-reply",label:"Max consecutive auto reply: ",value:r.maxConsecutiveAutoReply,onChange:p,min:0,max:1001,step:1,setNullOnUpper:!0,setNullOnLower:!1,onLowerLabel:"No auto reply",onUpperLabel:"Unset",labelInfo:"The maximum number of consecutive auto replies (i.e., when no code execution or llm-based reply is generated). Default is None (no limit provided). When set to 0, no auto reply will be generated.",dataTestId:`agent-max-consecutive-auto-reply-input-${t}`,"aria-label":"Maximum consecutive auto replies"}),a.jsx("div",{className:"margin-bottom-20"}),a.jsx("label",{htmlFor:`agent-default-auto-reply-input-${t}`,children:"Default Auto Reply:"}),a.jsx(Oo,{className:"full-width margin-top-5",value:r.agentDefaultAutoReply??"",onChange:f,"data-testid":`agent-default-auto-reply-input-${t}`,"aria-label":"Default auto reply message",placeholder:"Type your default auto reply message here..."})]})}),a.jsx(ji,{label:"Code Execution",id:`wf-${n}-wa-${t}-codeExecution`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(qL,{id:t,data:r,tools:i,onDataChange:l})})}),a.jsx(ji,{label:"Tools",id:`wf-${n}-wa-${t}-tools`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(cz,{id:t,data:r,agents:u,tools:i,skipExecutor:!1,onDataChange:l})})}),s&&a.jsx(ji,{label:"Nested chat",id:`wf-${n}-wa-${t}-nested`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(KL,{id:t,data:r,onDataChange:l,agentConnections:c})})})]})})});mz.displayName="WaldiezAgentUserTabs";const gz=o.memo(({id:e,data:t,flowId:n,isModalOpen:r,isDarkMode:i,filesToUpload:s,onDataChange:l,onAgentTypeChange:c,onFilesToUploadChange:u})=>{const d=wa(e=>e.getAgentConnections),p=wa(e=>e.getAgents),f=wa(e=>e.getModels),h=wa(e=>e.getTools),m=wa(e=>e.getEdges),g=wa(e=>e.onUpload),[y,v]=o.useState(0);o.useEffect(()=>{v(0)},[r]);const b=o.useMemo(()=>({isManager:"group_manager"===t.agentType,isGroupMember:"group_manager"!==t.agentType&&!!t.parentId,isRagUser:"rag_user_proxy"===t.agentType,isReasoning:"reasoning"===t.agentType,isCaptain:"captain"===t.agentType}),[t.agentType,t.parentId]),{isManager:x,isGroupMember:w,isRagUser:C,isReasoning:j,isCaptain:k}=b,A=o.useMemo(()=>{const n=d(e),r=f(),a=p(),o=h(),i=m(),s=a.filter(e=>"group_manager"===e.data.agentType),l=n.targets.edges.length+n.sources.edges.length,c=!w&&l>0;let u=!1,y=[],v=[];w&&(y=a.filter(e=>e.data.parentId===t.parentId),v=n.targets.edges.filter(e=>-1===y.findIndex(t=>t.id===e.target)),u=v.length>0);return{agentConnections:n,models:r,agents:a,edges:i,tools:o,groupManagers:s,showNestedChatsTab:c,showGroupNestedChatTab:u,groupMembers:y,connectionsOutsideGroup:v,uploadsEnabled:!!g}},[d,f,p,m,h,e,w,t.parentId,g]),{agentConnections:S,models:O,agents:T,edges:E,tools:M,groupManagers:N,showNestedChatsTab:P,showGroupNestedChatTab:I,connectionsOutsideGroup:D,uploadsEnabled:R}=A;return C?a.jsx(uz,{id:e,flowId:n,isDarkMode:i,isModalOpen:r,agents:T,models:O,tools:M,agentConnections:S,showNestedChatsTab:P,uploadsEnabled:R,data:t,onDataChange:l,filesToUpload:s,onFilesToUploadChange:u}):"user_proxy"===t.agentType?a.jsx(mz,{id:e,flowId:n,isDarkMode:i,isModalOpen:r,data:t,agents:T,tools:M,showNestedChatsTab:P,agentConnections:S,onDataChange:l}):a.jsxs(ki,{activeTabIndex:y,children:[a.jsx(ji,{label:"Agent",id:`wf-${n}-wa-${e}-basic`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(FL,{id:e,data:t,onDataChange:l,onAgentTypeChange:c})})}),j&&a.jsx(ji,{label:"Reasoning",id:`wf-${n}-wa-${e}-reasoning`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(dz,{id:e,data:t,onDataChange:l})})}),k&&a.jsx(ji,{label:"Captain",id:`wf-${n}-wa-${e}-captain`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(UL,{id:e,flowId:n,data:t,onDataChange:l})})}),a.jsx(ji,{label:"Termination",id:`wf-${n}-wa-${e}-termination`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(hz,{id:e,data:t,onDataChange:l})})}),a.jsx(ji,{label:"Code Execution",id:`wf-${n}-wa-${e}-codeExecution`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(qL,{id:e,data:t,tools:M,onDataChange:l})})}),a.jsx(ji,{label:"Models",id:`wf-${n}-wa-${e}-models`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(zL,{id:e,data:t,models:O,onDataChange:l})})}),a.jsx(ji,{label:"Tools",id:`wf-${n}-wa-${e}-tools`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(cz,{id:e,data:t,agents:T,tools:M,skipExecutor:w,onDataChange:l})})}),P&&a.jsx(ji,{label:"Nested chat",id:`wf-${n}-wa-${e}-nested`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(KL,{id:e,data:t,onDataChange:l,agentConnections:S})})}),w&&I&&a.jsx(ji,{label:"Nested chat",id:`wf-${n}-wa-${e}-group-nested`,children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(WL,{id:e,flowId:n,darkMode:i,data:t,agentConnections:S,edges:D,onDataChange:l})})}),!x&&N.length>0&&a.jsx(ji,{id:`wf-${n}-wa-${e}-group`,label:"Group",children:a.jsx("div",{className:"modal-tab-body",children:a.jsx(HL,{id:e,data:t,agents:T,edges:E,darkMode:i,onDataChange:l})})})]})});gz.displayName="WaldiezNodeAgentModalTabs";const yz=(e,t,n,r,o)=>{const i=n.toLowerCase(),s=n.charAt(0).toUpperCase()+n.slice(1);return a.jsxs("div",{className:"modal-header-import-export",children:[a.jsx("input",{title:`Import ${s}`,id:`file-upload-${i}-${e}-${t}`,"data-testid":`file-upload-${i}-${e}-${t}`,type:"file",accept:`.waldiez${s}`,onChange:r,className:"hidden"}),a.jsx("label",{htmlFor:`file-upload-${i}-${e}-${t}`,className:"modal-header-import-button file-label",title:`Import ${s}`,children:a.jsx(y.FaFileImport,{})}),a.jsx("div",{role:"button",className:"modal-header-export-button",onClick:o,title:`Export ${s}`,"data-testid":`export-${i}-${e}-${t}`,children:a.jsx(y.FaFileExport,{})})]})},vz=o.memo(e=>{const{id:t,data:n,isOpen:r,onClose:i}=e,{flowId:s,isDirty:l,isDarkMode:c,agentData:u,filesToUpload:d,onDataChange:p,onAgentTypeChange:f,onFilesToUploadChange:h,onImport:m,onExport:g,onSave:y,onSaveAndClose:v,onCancel:b}=((e,t,n,r)=>{const a=wa(e=>e.flowId),i=wa(e=>e.getAgentById),s=wa(e=>e.updateAgentData),l=wa(e=>e.updateEdgeData),c=wa(e=>e.exportAgent),u=wa(e=>e.importAgent),d=wa(e=>e.getAgentConnections),p=wa(e=>e.removeGroupMember),f=wa(e=>e.addGroupMember),h=wa(e=>e.updateEdgePath),m=wa(e=>e.onUpload),g=wa(e=>e.onFlowChanged),[y,v]=o.useState({...n}),[b,x]=o.useState([]),[w,C]=o.useState(!1),{isDark:j}=Cn();o.useEffect(()=>{C(!1),x([])},[t]);const k=o.useCallback(t=>{const n=document.getElementById(`flow-${a}-agent-description-${e}`);n&&(n.value=t)},[a,e]),A=o.useCallback(()=>{const t=i(e);if(!t)return k(y.description),void C(!1);t.data&&(v({...t.data}),C(!1)),k(t.data.description),g()},[e,y.description,i,k,g]),S=o.useCallback(()=>{const t=d(e,{sourcesOnly:!1,targetsOnly:!1}),r=t.sources.edges,a=t.targets.edges,o=y.label,i=n.label;r.forEach(e=>{const t=` => ${i}`,n=` => ${o}`,r=e.data?.label.indexOf(t);if("number"==typeof r&&r>-1){const r=e.data?.label.replace(t,n);l(e.id,{...e.data,label:r})}}),a.forEach(e=>{const t=`${i} => `,n=`${o} => `,r=e.data?.label.indexOf(t);if("number"==typeof r&&r>-1){const r=e.data?.label.replace(t,n);l(e.id,{...e.data,label:r})}})},[e,y.label,n.label,d,l]),O=o.useCallback(t=>{d(e,{targetsOnly:!0}).targets.edges.forEach(e=>{h(e.id,t)})},[e,d,h]),T=o.useCallback(e=>{const t=e.agentType;O(t),"rag_user_proxy"!==t||e.retrieveConfig?"user_proxy"===t&&e.retrieveConfig&&delete e.retrieveConfig:e.retrieveConfig=fe},[O]),E=o.useCallback(t=>{const r=n.parentId,a=t.parentId;r!==a&&(r&&p(r,e),a&&f(a,e))},[n.parentId,e,p,f]),M=o.useCallback(t=>{t.agentType!==n.agentType&&T(t),E(t),s(e,t),n.label!==t.label&&S(),x([]),A()},[n,e,T,E,s,S,A]),N=o.useCallback(e=>{if(b.length>0&&m)m(b).then(t=>{const n=[...y.retrieveConfig.docsPath];for(let e=0;e<b.length;e++){const r=n.indexOf(`file:///${b[e].name}`);r>-1&&("string"==typeof t[e]?n[r]=t[e]:n.splice(r,1))}e.retrieveConfig.docsPath=n}).catch(e=>{}).finally(()=>{const t=e.retrieveConfig.docsPath;e.retrieveConfig.docsPath=[...t].filter(e=>"string"==typeof e&&e.length>0&&!e.startsWith("file:///")),x([]),M(e)});else{const t=y.retrieveConfig.docsPath;e.retrieveConfig.docsPath=t.filter(e=>"string"==typeof e&&e.length>0&&!e.startsWith("file:///")),x([]),M(e)}},[y,b,m,M]),P=o.useCallback(()=>{const e=y;e.agentType="rag_user_proxy",e.retrieveConfig||(e.retrieveConfig=fe),e.retrieveConfig.docsPath=[],v({...y,...e})},[y]),I=o.useCallback(()=>{const e=y;e.agentType="user_proxy",e.retrieveConfig&&delete e.retrieveConfig,v({...y,...e})},[y]),D=o.useCallback(()=>{const e={...y};"rag_user_proxy"===y.agentType?N(e):M(e)},[y,N,M]),R=o.useCallback(()=>{D(),r()},[D,r]),_=o.useCallback(e=>{const t=!mL({...y,...e},n);v(t=>({...t,...e})),C(t)},[y,n]),L=o.useCallback((t,n)=>{const r=u(n,e,!0,t?.position,!1);_({...r.data})},[e,u,_]),z=o.useCallback(t=>{Q(t,i.bind(null,e),L)},[e,i,L]),B=o.useCallback(async()=>{await X(y.label,"agent",c.bind(null,e,!0))},[y.label,e,c]),F=o.useCallback(()=>{const t=i(e);if(!t)return C(!1),void r();t.data&&v({...t.data}),C(!1),r()},[e,i,r]),U=o.useCallback(e=>{"rag_user_proxy"===e?P():I(),C(n.agentType!==e)},[n.agentType,P,I]),q=o.useCallback(e=>{const t=!mL(e,b);x(e),C(t)},[b]);return{flowId:a,filesToUpload:b,agentData:y,isDirty:w,isDarkMode:j,onDataChange:_,onAgentTypeChange:U,onFilesToUploadChange:q,onImport:z,onExport:B,onSave:D,onSaveAndClose:R,onCancel:F}})(t,r,n,i),x=o.useMemo(()=>"group_manager"!==n.agentType?yz(s,t,"agent",m,g):void 0,[n.agentType,s,t,m,g]),w=o.useMemo(()=>"group_manager"===n.agentType?u.groupName:u.label,[n.agentType,u]),C=o.useMemo(()=>"group_manager"===n.agentType?a.jsx(BL,{isModalOpen:r,flowId:s,id:t,data:u,onDataChange:p,isDarkMode:c}):a.jsx(gz,{id:t,flowId:s,data:u,isDarkMode:c,onDataChange:p,isModalOpen:r,onAgentTypeChange:f,filesToUpload:d,onFilesToUploadChange:h}),[n.agentType,r,s,t,u,p,c,f,d,h]);return a.jsxs(Uo,{title:w,isOpen:r,onClose:b,onSaveAndClose:v,beforeTitle:x,dataTestId:`wf-${s}-agent-modal-${t}`,hasUnsavedChanges:l,preventCloseIfUnsavedChanges:!0,children:[a.jsx("div",{className:"modal-body",children:C}),a.jsxs("div",{className:"modal-actions",children:[a.jsx("button",{className:"secondary",onClick:b,"data-testid":`cancel-agent-data-${t}`,type:"button",title:"Cancel","aria-label":"Cancel",children:"Cancel"}),a.jsxs("div",{className:"flex-row",children:[a.jsx("button",{type:"button",title:"Save & Close",className:"save margin-right-10",onClick:v,"data-testid":`submit-and-close-agent-data-${t}`,disabled:!l,"aria-label":"Save and Close",children:"Save & Close"}),a.jsx("button",{type:"button",title:l?"Save":"No changes to save",className:"primary",onClick:y,"data-testid":`submit-agent-data-${t}`,disabled:!l,"aria-label":"Save",children:"Save"})]})]})]})});vz.displayName="WaldiezNodeAgentModal";const bz={minWidth:490,minHeight:330},xz={minWidth:130,minHeight:120};function wz(e){return QR({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11.445 20.913a1.665 1.665 0 0 1 -1.12 -1.23a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.31 .318 1.643 1.79 .997 2.694"},child:[]},{tag:"path",attr:{d:"M15 19l2 2l4 -4"},child:[]},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]}]})(e)}const Cz=[{label:"OpenAI",value:"openai"},{label:"Claude",value:"anthropic"},{label:"NIM",value:"nim"},{label:"Gemini",value:"google"},{label:"Cohere",value:"cohere"},{label:"DeepSeek",value:"deepseek"},{label:"Mistral",value:"mistral"},{label:"Azure",value:"azure"},{label:"Groq",value:"groq"},{label:"Together",value:"together"},{label:"Bedrock",value:"bedrock"},{label:"Other",value:"other"}],jz={openai:"OPENAI_API_KEY",azure:"AZURE_API_KEY",bedrock:"BEDROCK_API_KEY",deepseek:"DEEPSEEK_API_KEY",google:"GOOGLE_GEMINI_API_KEY",anthropic:"ANTHROPIC_API_KEY",cohere:"COHERE_API_KEY",mistral:"MISTRAL_API_KEY",groq:"GROQ_API_KEY",together:"TOGETHER_API_KEY",nim:"NIM_API_KEY",other:"OPENAI_API_KEY"},kz={openai:"https://platform.openai.com/docs/models",anthropic:"https://docs.anthropic.com/en/docs/about-claude/models/all-models",google:"https://ai.google.dev/gemini-api/docs/models",deepseek:"https://api-docs.deepseek.com/quick_start/pricing",cohere:"https://docs.cohere.com/v2/docs/models",together:"https://docs.together.ai/docs/serverless-models",nim:"https://docs.nvidia.com/nim/large-language-models/latest/models.html",mistral:"https://docs.mistral.ai/getting-started/models/models_overview/",azure:"https://learn.microsoft.com/en-us/azure/cognitive-services/openai/concepts/models",bedrock:"https://docs.aws.amazon.com/bedrock/latest/userguide/models-regions.html",groq:"",other:""},Az={openai:[{label:"GPT-4.1",value:"gpt-4.1"},{label:"GPT-4",value:"gpt-4"},{label:"GPT-4 Turbo",value:"gpt-4-turbo"},{label:"GPT-3.5 Turbo",value:"gpt-3.5-turbo"},{label:"GPT-4o",value:"gpt-4o"},{label:"GPT-4o Mini",value:"gpt-4o-mini"},{label:"GPT Image 1",value:"gpt-image-1"},{label:"o4-mini",value:"o4-mini"},{label:"o3",value:"o3"}],anthropic:[{label:"Claude 4 Sonnet",value:"claude-sonnet-4-20250514"},{label:"Claude 4 Opus",value:"claude-opus-4-20250514"},{label:"Claude 3.7 Sonnet",value:"claude-3-7-sonnet-20250219"},{label:"Claude 3.5 Haiku",value:"claude-3-5-haiku-20241022"},{label:"Claude 3.5 Sonnet v2",value:"claude-3-5-sonnet-20241022"},{label:"Claude 3.5 Sonnet",value:"claude-3-5-sonnet-20240620"},{label:"Claude 3 Opus",value:"claude-3-opus-20240229"},{label:"Claude 3 Sonnet",value:"claude-3-sonnet-20240229"},{label:"Claude 3 Haiku",value:"claude-3-haiku-20240307"}],google:[{label:"Gemini 2.5 Flash Preview 04-17",value:"gemini-2.5-flash-preview-04-17"},{label:"Gemini 2.5 Pro Preview",value:"gemini-2.5-pro-preview-03-25"},{label:"Gemini 2.0 Flash",value:"gemini-2.0-flash"},{label:"Gemini 2.0 Flash-Lite",value:"gemini-2.0-flash-lite"},{label:"Gemini 1.5 Flash",value:"gemini-1.5-flash"},{label:"Gemini 1.5 Pro",value:"gemini-1.5-pro"}],deepseek:[{label:"DeepSeek-V3",value:"deepseek-chat"},{label:"DeepSeek-R1",value:"deepseek-reasoner"}],cohere:[{label:"Command-R",value:"command-r"},{label:"Command-R+",value:"command-r-plus"},{label:"Command Light Nightly",value:"command-light-nightly"},{label:"Command A",value:"command-a-03-2025"},{label:"Command Nightly",value:"command-nightly"},{label:"Command R7B",value:"command-r7b-12-2024"}],together:[{label:"Llama 4 Maverick",value:"meta-llama/Llama-4-Maverick-17B-128E-Instruct-FP8"},{label:"Llama 4 Scout",value:"meta-llama/Llama-4-Scout-17B-16E-Instruct"},{label:"DeepSeek-R1",value:"deepseek-ai/DeepSeek-R1"},{label:"DeepSeek-R1 Distill Llama 70B",value:"deepseek-ai/DeepSeek-R1-Distill-Llama-70B"},{label:"DeepSeek-V3",value:"deepseek-ai/DeepSeek-V3"},{label:"Llama 3.3 70B Instruct Turbo",value:"meta-llama/Llama-3.3-70B-Instruct-Turbo"},{label:"Mistral Small 3 Instruct",value:"mistral-ai/Mistral-Small-3-Instruct"},{label:"Mistral (7B) Instruct v0.3",value:"mistralai/Mistral-7B-Instruct-v0.3"}],nim:[{label:"Meta Llama 3 8B Instruct",value:"meta/llama3-8b-instruct"},{label:"Meta Llama 3 70B Instruct",value:"meta/llama3-70b-instruct"},{label:"Llama 3.3 70B Instruct",value:"meta/llama-3.3-70b-instruct"},{label:"Llama 3.1 Nemotron Ultra 253B v1",value:"nvidia/llama-3.1-nemotron-ultra-253b-v1"},{label:"Llama 3.1 Nemotron Super 49B v1",value:"nvidia/llama-3.3-nemotron-super-49b-v1"},{label:"Llama 3.1 Nemotron Nano 8B v1",value:"nvidia/llama-3.1-nemotron-nano-8b-v1"}],mistral:[{label:"Codestral",value:"codestral-latest"},{label:"Mistral Large",value:"mistral-large-latest"},{label:"Pixtral Large",value:"pixtral-large-latest"},{label:"Mistral Saba",value:"mistral-saba-latest"},{label:"Ministral 3B",value:"ministral-3b-latest"},{label:"Ministral 8B",value:"ministral-8b-latest"}],bedrock:[],azure:[],groq:[],other:[]},Sz={async signRequest(e,t,n,r,a,o,i,s={},l=""){const{host:c,path:u}=this.parseUrl(t),d=(new Date).toISOString().replace(/[:-]|\.\d{3}/g,""),p=d.slice(0,8),f=await V(l),h={...s,host:c,"x-amz-date":d,"x-amz-content-sha256":f};i&&(h["x-amz-security-token"]=i);const m=this.buildCanonicalHeaders(h),g=this.buildSignedHeadersList(h),y=[e,u,"",m,g,f].join("\n"),v="AWS4-HMAC-SHA256",b=`${p}/${n}/${r}/aws4_request`,x=[v,d,b,await V(y)].join("\n"),w=await this.getSignatureKey(o,p,n,r),C=await $(w,x,"hex");return h.Authorization=`${v} Credential=${a}/${b}, SignedHeaders=${g}, Signature=${C}`,h},parseUrl(e){try{const t=new URL(e);return{host:t.host,path:t.pathname}}catch(t){throw new Error(`Invalid URL: ${e}`)}},buildCanonicalHeaders:e=>Object.keys(e).sort().map(t=>`${t.toLowerCase()}:${e[t].trim()}\n`).join(""),buildSignedHeadersList:e=>Object.keys(e).sort().map(e=>e.toLowerCase()).join(";"),async getSignatureKey(e,t,n,r){const a=await $("AWS4"+e,t),o=await $(a,n),i=await $(o,r);return await $(i,"aws4_request")}},Oz={openai:"https://api.openai.com/v1",google:"https://generativelanguage.googleapis.com/v1beta",anthropic:"https://api.anthropic.com/v1",cohere:"https://api.cohere.com/v1",deepseek:"https://api.deepseek.com",mistral:"https://api.mistral.ai/v1",groq:"https://api.groq.com/openai/v1",together:"https://api.together.xyz/v1",nim:"https://integrate.api.nvidia.com/v1",bedrock:"https://bedrock.{region}.amazonaws.com",azure:"",other:""},Tz={openai:"/models",azure:"/openai/deployments",deepseek:"/models",google:"/models",anthropic:"/models",cohere:"/models",mistral:"/models",groq:"/models",together:"/models",nim:"/models",other:"/v1/models",bedrock:""},Ez=["openai","google","groq","anthropic","cohere","mistral","nim","other"],Mz=e=>{const{success:t,message:n,details:r}=(e=>{if(["azure","other"].includes(e.apiType)&&!e.baseUrl)return{success:!1,message:"Missing base URL"};let t=e.baseUrl||Oz[e.apiType];return["azure","other"].includes(e.apiType)&&e.baseUrl&&(t=e.baseUrl),t.trim()?{success:!0,message:"Model validated successfully",details:t}:{success:!1,message:"Missing base URL"}})(e);return t?e.apiKey?e.label.trim()?"azure"!==e.apiType||e.apiVersion?{success:!0,message:n,details:r}:{success:!1,message:"Missing Azure API version"}:{success:!1,message:"Missing model name"}:{success:!1,message:"Missing API key"}:{success:t,message:n,details:r}},Nz=(e,t)=>{let n=t.replace(/\/$/,"")+Tz[e.apiType];const r=Object.fromEntries(Object.entries(e.defaultHeaders||{}).map(([e,t])=>[e,String(t)]));return"azure"===e.apiType?(n+=`?api-version=${e.apiVersion}`,r["api-key"]=e.apiKey):e.apiKey&&(r.Authorization=`Bearer ${e.apiKey}`),{url:n,headers:r}},Pz=async(e,t,n)=>{try{const r=await _z(e,{method:"GET",headers:t});if(!r.ok)return{success:!1,message:"Azure API error"};const a=await r.json();return Array.isArray(a.data)&&a.data.some(e=>e.id===n)?{success:!0,message:"Model validated successfully"}:{success:!1,message:"Model not found"}}catch(r){return zz(r)}},Iz=async(e,t,n)=>{const r=Bz(n);if(!r.success)return r;const{region:a,accessKey:o,secretKey:i,sessionToken:s}=n,l="bedrock",c=`https://${l}.${a}.amazonaws.com/foundation-models/${encodeURIComponent(t)}`;try{const n=await Sz.signRequest("GET",c,a,l,o,i,s,e),r=await _z(c,{method:"GET",headers:n});return await Fz(r,t,a)}catch(u){return zz(u)}},Dz=async(e,t,n)=>{try{const r=`${e}/${encodeURIComponent(n)}`,a=await _z(r,{method:"GET",headers:t});return a.ok?{success:!0,message:"Model validated successfully"}:Lz(a)}catch(r){return zz(r)}},Rz=async(e,t,n)=>{try{const a=await _z(e,{method:"GET",headers:t});if(!a.ok)return Lz(a);let o={data:[]};try{o=await a.json()}catch(r){return{success:!1,message:"Could not fetch model",details:r instanceof Error?r.message:String(r)}}return Array.isArray(o.data)&&o.data.some(e=>e.id===n)?{success:!0,message:"Model validated successfully"}:{success:!1,message:"Model not found"}}catch(r){return zz(r)}},_z=async(e,t)=>{const n=new AbortController,r=setTimeout(()=>n.abort(),4e3);try{return await fetch(e,{...t,signal:n.signal})}finally{clearTimeout(r)}},Lz=async e=>{try{const t=await e.json().catch(()=>({})),n=t?.error?.message||e.statusText||"Unknown error";let r="API error";return 404===e.status&&(r="Model not found"),{success:!1,message:r,details:n}}catch(t){return zz(t)}},zz=e=>({success:!1,message:e instanceof DOMException&&"AbortError"===e.name?"Could not get a response from the model's endpoint":"Unknown error",details:e instanceof Error?e.message:String(e)}),Bz=e=>{if(!e)return{success:!1,message:"Model fetch failed",details:"Missing AWS configuration"};const{region:t,accessKey:n,secretKey:r}=e;return t&&n&&r?{success:!0,message:"Model validated successfully"}:{success:!1,message:"Model fetch failed",details:"Missing required AWS credentials (region, accessKey, or secretKey)"}},Fz=async(e,t,n)=>{if(e.ok)return{success:!0,message:"Model validated successfully",details:`Model ${t} is available in region ${n}`};if(404===e.status)return{success:!1,message:"Model not found",details:`Model ${t} not found in region ${n}`};if(403===e.status)return{success:!1,message:"API error",details:`Not authorized to access model ${t} in region ${n}`};try{const t=await e.text();return{success:!1,message:"API error",details:`Error (${e.status}): ${t}`}}catch(r){return{success:!1,message:"API error",details:`Error (${e.status})`}}},Uz=(e,t)=>{const n=wa(e=>e.getModelById),r=wa(e=>e.updateModelData),a=wa(e=>e.cloneModel),i=wa(e=>e.deleteModel),s=wa(e=>e.importModel),l=wa(e=>e.exportModel),c=wa(e=>e.onFlowChanged),u=wa(e=>e.flowId),[d,p]=o.useState(mn[t.apiType]||""),[f,h]=o.useState(!1),[m,g]=o.useState(t),[y,v]=o.useState(!1);o.useEffect(()=>{g(t),p(mn[t.apiType]||""),v(!1)},[t]);const b=o.useCallback(()=>{h(!0),v(!1)},[]),x=o.useCallback(()=>{i(e),v(!1),c()},[i,e,c]),w=o.useCallback(()=>{a(e),v(!1),c()},[a,e,c]),C=o.useCallback((n,r)=>{const a=s(r,e,n?.position,!1);g(a.data),v(!mL(t,a.data))},[s,e,t]),j=o.useCallback(t=>{Q(t,(e=>n(e)).bind(null,e),C)},[n,e,C]),k=o.useCallback(async()=>{await X(t.label,"model",()=>l(e,!0))},[t.label,l,e]),A=o.useCallback(e=>{g(n=>{const r={...n,...e};return v(!mL(r,t)),r})},[t]),S=o.useCallback(()=>{p(mn[t.apiType]||""),g(t),v(!1),h(!1)},[t]),O=o.useCallback(()=>{(async e=>{const t=Mz(e);if(!t.success||!t.details)return t;const{url:n,headers:r}=Nz(e,t.details);return"azure"===e.apiType?Pz(n,r,e.label.trim()):"bedrock"===e.apiType?Iz(r,e.label.trim(),e.aws):Ez.includes(e.apiType)?Dz(n,r,e.label.trim()):Rz(n,r,e.label.trim())})(m).then(e=>{e.success?ga({flowId:u,message:e.message,level:"success",details:null,duration:3e3,withCloseButton:!1}):ga({flowId:u,message:e.message,level:"error",details:e.details,duration:void 0,withCloseButton:!0})}).catch(e=>{const t=e instanceof Error?e.message:String(e);ga({flowId:u,message:"Error validating model",level:"error",details:t,duration:void 0,withCloseButton:!0})})},[m,u]),T=o.useCallback(()=>{const t=mn[m.apiType]||"";p(t),r(e,m);const a=n(e);a?.data&&g(a.data),v(!1),c()},[m,r,e,n,c]),E=o.useCallback(()=>{T(),h(!1)},[T]);return o.useMemo(()=>({flowId:u,isOpen:f,isDirty:y,logo:d,modelData:m,setLogo:p,onOpen:b,onImport:j,onExport:k,onDataChange:A,onDelete:x,onClone:w,onSave:T,onSaveAndClose:E,onCancel:S,onCheck:O}),[u,f,y,d,m,p,b,j,k,A,x,w,T,E,S,O])},qz=o.memo(e=>{const{data:t}=e,{temperature:n,topP:r,maxTokens:i,defaultHeaders:s,tags:l}=t,{onTemperatureChange:c,onTopPChange:u,onMaxTokensChange:d,onUpdateHeaders:p,onDeleteHeader:f,onAddHeader:h,onAddTag:m,onUpdateTag:g,onDeleteTag:y}=(e=>{const{data:t,onDataChange:n}=e;return{onTemperatureChange:o.useCallback(e=>{let t=null;e>=0&&(t=e),n({temperature:t})},[n]),onTopPChange:o.useCallback(e=>{let t=null;e>=0&&(t=e),n({topP:t})},[n]),onMaxTokensChange:o.useCallback(e=>{let t=null;e>=0&&(t=e),n({maxTokens:t})},[n]),onUpdateHeaders:o.useCallback(e=>{n({defaultHeaders:e})},[n]),onDeleteHeader:o.useCallback(e=>{const r={...t.defaultHeaders};delete r[e],n({defaultHeaders:r})},[t.defaultHeaders,n]),onAddHeader:o.useCallback((e,r)=>{const a={...t.defaultHeaders};a[e]=r,n({defaultHeaders:a})},[t.defaultHeaders,n]),onAddTag:o.useCallback(e=>{const{tags:r}=t;if(!r.includes(e)){const t=[...r,e];n({tags:t})}},[t,n]),onUpdateTag:o.useCallback((e,r)=>{const{tags:a}=t,o=a.indexOf(e);if(o>=0){const e=[...a];e[o]=r,n({tags:e})}},[t,n]),onDeleteTag:o.useCallback(e=>{const r=[...t.tags],a=r.indexOf(e);a>=0&&(r.splice(a,1),n({tags:r}))},[t.tags,n])}})(e);return a.jsxs("div",{className:"flex-column",children:[a.jsx(wi,{name:"temperature",label:"Temperature:",value:null!==n?n:-.001,onChange:c,min:-.001,max:1,step:.001,setNullOnLower:!0,onLowerLabel:"Unset",dataTestId:"model-modal-temperature"}),a.jsx(wi,{name:"top-p",label:"Top P:",labelInfo:"Top P value for sampling (it is recommended to use either temperature or top P, not both)",value:null!==r?r:-.001,onChange:u,min:-.001,max:1,step:.001,setNullOnLower:!0,onLowerLabel:"Unset",dataTestId:"model-modal-top-p"}),a.jsx(wi,{name:"max-tokens",label:"Max Tokens:",value:null!==i?i:0,onChange:d,min:0,max:5e4,step:1,forceInt:!0,setNullOnLower:!0,onLowerLabel:"No limit",dataTestId:"model-modal-max-tokens"}),a.jsx(ko,{viewLabel:"Default Headers:",viewLabelInfo:"Optional headers to be included in every request",items:s,itemsType:"model-header",onUpdate:p,onDelete:f,onAdd:h}),a.jsx(Ci,{viewLabel:"Tags:",items:l,itemsType:"tag",placeholder:"Tag",onItemAdded:m,onItemChange:g,onItemDeleted:y})]})}),Hz=o.memo(({data:e,onDataChange:t})=>{const n=o.useCallback(n=>{t({aws:{...e.aws,accessKey:n.target.value}})},[e.aws,t]),r=o.useCallback(n=>{t({aws:{...e.aws,secretKey:n.target.value}})},[e.aws,t]),i=o.useCallback(n=>{t({aws:{...e.aws,region:n.target.value}})},[e.aws,t]),s=o.useCallback(n=>{t({aws:{...e.aws,profileName:n.target.value}})},[e.aws,t]),l=o.useCallback(n=>{t({aws:{...e.aws,sessionToken:n.target.value}})},[e.aws,t]);return a.jsxs("div",{className:"flex-column",children:[a.jsx(Mo,{value:e.aws?.accessKey||"",name:"aws-access-key",label:"AWS Access Key:",placeholder:"AWS Access Key",onChange:n}),a.jsx(Mo,{value:e.aws?.secretKey||"",name:"aws-secret-key",label:"AWS Secret Key:",placeholder:"AWS Secret Key",onChange:r}),a.jsx(Mo,{value:e.aws?.region||"",name:"aws-region",label:"AWS Region:",placeholder:"AWS Region",onChange:i}),a.jsx(Mo,{value:e.aws?.profileName||"",name:"aws-profile-name",label:"AWS Profile Name:",placeholder:"AWS Profile Name",onChange:s}),a.jsx(Mo,{value:e.aws?.sessionToken||"",name:"aws-session-token",label:"AWS Session Token:",placeholder:"AWS Session Token",onChange:l})]})}),Wz=o.memo(e=>{const{ref:t,onChange:n}=e,r=o.useMemo(()=>Object.entries(Az).filter(([e,t])=>t.length>0).map(([e,t])=>({label:e,options:t.map(t=>({label:t.label,value:t.value,apiType:e}))})),[]);return a.jsxs("div",{className:"margin-bottom-5",children:[a.jsx("label",{htmlFor:"predefined-models-select",children:"Predefined models:"}),a.jsx("div",{className:"margin-top-10"}),a.jsx(lo,{ref:t,inputId:"predefined-models-select",options:r,onChange:e=>{n(e?{label:e.value,apiType:e.apiType}:void 0)},placeholder:"Select a model...",formatGroupLabel:e=>{const t=mn[e.label];return a.jsxs("div",{className:`model-logo ${e.label} flex items-center`,children:[a.jsx("img",{src:t,alt:`${e.label} logo`,style:{width:20,height:20,marginRight:10,backgroundColor:"transparent"}}),a.jsx("strong",{children:e.label})]})},isSearchable:!0,isClearable:!0,"aria-label":"Predefined models",className:"full-width"})]})});Wz.displayName="ModelSelector";const Vz=o.memo(e=>{const{id:t,data:n}=e,{label:r,apiType:i,apiKey:s,baseUrl:l}=n,{apiTypeLabel:c,apiKeyInfo:u,apiKeyEnv:d,urlIsEditable:p,apiKeyVisible:f,apiTypeOptions:h,readOnlyBaseUrl:m,predefinedModelsSelectRef:g,onDataChange:v,onApiKeyVisibleChange:b,onLabelChange:x,onApiTypeChange:w,onApiKeyChange:C,onBaseUrlChange:j}=(e=>{const{data:t,onDataChange:n,onLogoChange:r}=e,{apiType:a}=t,i=o.useRef(null),[s,l]=o.useState(!1),c=o.useCallback(e=>Oz[e],[]),u=o.useCallback(e=>["other","azure"].includes(e),[]),d=o.useCallback(e=>{n({label:e.target.value})},[n]),p=o.useCallback(e=>{n({description:e.target.value})},[n]),f=o.useCallback(e=>{e&&(i.current?.clearValue(),n({apiType:e.value}),r(mn[e.value]))},[n,r]),h=o.useCallback(e=>{n({apiKey:e.target.value})},[n]),m=o.useCallback(e=>{n({baseUrl:e.target.value})},[n]),g=o.useCallback(()=>{l(e=>!e)},[]),y=o.useMemo(()=>jz[a],[a]),v=o.useMemo(()=>`API key to use if the '${y}' environment variable is not set`,[y]),b=o.useMemo(()=>{return"anthropic"===(e=a)?"Claude":"deepseek"===e?"DeepSeek":"google"===e?"Gemini":"openai"===e?"OpenAI":"nim"===e?"NIM":e[0].toUpperCase()+e.slice(1);var e},[a]),x=o.useMemo(()=>c(a),[c,a]),w=o.useMemo(()=>u(a),[u,a]);return{apiTypeOptions:Cz,apiKeyVisible:s,apiKeyEnv:y,apiKeyInfo:v,apiTypeLabel:b,readOnlyBaseUrl:x,urlIsEditable:w,predefinedModelsSelectRef:i,onDataChange:n,onLabelChange:d,onDescriptionChange:p,onApiTypeChange:f,onApiKeyChange:h,onBaseUrlChange:m,onApiKeyVisibleChange:g}})(e),k=o.useMemo(()=>e=>{if(!e)return;const{label:t,apiType:n}=e;v({label:t,apiType:n})},[v]),A=o.useMemo(()=>a.jsx("div",{className:"flex-column",children:Object.entries(kz).filter(([e,t])=>t.length>0).map(([e,t])=>a.jsxs("div",{className:"flex-row margin-bottom-5",children:[a.jsxs("span",{className:"flex-shrink-0",children:[J(e)," models:  "]}),a.jsx("a",{href:t,target:"_blank",rel:"noreferrer",className:"text-truncate",children:t})]},e))}),[]),S=o.memo(e=>{const{innerProps:t,data:n}=e;return a.jsxs("div",{...t,className:"flex margin-10",children:[a.jsx("div",{className:`margin-right-10 margin-left-5 model-logo ${n.value}`,children:a.jsx("img",{src:mn[n.value],alt:n.label,style:{width:20,height:20}})}),a.jsx("span",{className:"label",children:n.label})]})}),O=`model-name-input-${t}`,T=`model-api-type-select-${t}`,E=`model-api-key-input-${t}`,M=`model-base-url-input-${t}`;return a.jsxs("div",{className:"flex-column",children:[a.jsxs("div",{className:"info margin-bottom-10",children:["You can select one of the predefined models from the list below or manually enter the model name and type. In the latter case, make sure that the model's name is a valid name (based on the provider). You can use the ",a.jsx("strong",{children:"Test"})," button to check if the model parameters are correct, but model credits might be used for this test (depending on the provider). ",a.jsx("br",{}),a.jsx("strong",{children:"Note"}),' that if testing the model fails with a "Failed to load" message (for example a NIM model), it doesn\'t mean that the configuration is not correct (it could be a browser/CORS issue).',a.jsx(Co,{title:"Useful Links",expanded:!1,fullWidth:!0,className:"transparent color-info no-padding margin-top-5 margin-bottom-5",contentClassName:"background-info",children:A})]}),a.jsx(Wz,{ref:g,onChange:k}),a.jsxs("div",{className:"margin-top-10",children:[a.jsx("label",{htmlFor:O,children:"Name:"}),a.jsx("div",{className:"margin-top-10"}),a.jsx("input",{id:O,type:"text",value:r||"",onChange:x,title:"Model name","data-testid":"model-name-input",className:"full-width","aria-label":"Model name"})]}),a.jsxs("div",{className:"margin-top-0",children:[a.jsx(jo,{htmlFor:`model-type-${t}`,label:"Model Type:",info:"API type to use for the model. Use 'other' for custom openai compatible models"}),a.jsx("label",{htmlFor:T,className:"hidden",children:"Model Type:"}),a.jsx(lo,{options:h,value:{label:c,value:i},components:{Option:S},onChange:w,inputId:T,"aria-label":"Model API type",className:"full-width"})]}),"bedrock"!==i&&a.jsxs("div",{className:"margin-top-0",children:[a.jsx(jo,{label:"API Key:",info:u,htmlFor:E}),a.jsxs("div",{className:"flex full-width",children:[a.jsx("input",{id:E,className:"flex-1 margin-right-10",type:f?"text":"password",value:s||"",placeholder:d,onChange:C,"data-testid":"model-api-key-input","aria-label":"API key"}),a.jsx("button",{type:"button",className:"toggle-visibility-btn",onClick:b,title:f?"Hide API key":"Show API key","aria-label":f?"Hide API key":"Show API key","data-testid":`visibility-apiKey-model-${t}`,children:f?a.jsx(y.FaEyeSlash,{}):a.jsx(y.FaEye,{})})]})]}),a.jsxs("div",{className:"margin-top-0",children:[a.jsx(jo,{label:"Base URL:",info:"Model's base URL (including version)",htmlFor:M}),p?a.jsx("input",{id:M,title:"Model base URL",type:"text",value:l||"",onChange:j,"data-testid":"model-base-url-input",className:"full-width","aria-label":"Base URL"}):a.jsx("input",{id:M,type:"text",title:"Model base URL",readOnly:!0,disabled:!0,value:m,"data-testid":"model-base-url-input-read-only",className:"full-width","aria-label":"Base URL (read-only)"})]})]})});Vz.displayName="WaldiezNodeModelModalBasicTab";const $z=o.memo(e=>{const{modelId:t,data:n}=e,{onPricePromptChange:r,onPriceCompletionChange:i}=(e=>{const{data:t,onDataChange:n}=e;return{onPricePromptChange:o.useCallback(e=>{const r=parseFloat(e.target.value);if(isNaN(r))return;const a=t.price?.completionTokenPricePer1k??null;n({price:{completionTokenPricePer1k:a,promptPricePer1k:r>=0?r:null}})},[t.price?.completionTokenPricePer1k,n]),onPriceCompletionChange:o.useCallback(e=>{const r=parseFloat(e.target.value);if(isNaN(r))return;const a=t.price?.promptPricePer1k??null;n({price:{completionTokenPricePer1k:r>=0?r:null,promptPricePer1k:a}})},[t.price?.promptPricePer1k,n])}})(e),s=o.useMemo(()=>null!==n.price?.promptPricePer1k?n.price.promptPricePer1k:-1,[n.price?.promptPricePer1k]),l=o.useMemo(()=>null!==n.price?.completionTokenPricePer1k?n.price.completionTokenPricePer1k:-1,[n.price?.completionTokenPricePer1k]),c=`model-modal-price-prompt-${t}`,u=`model-modal-price-completion-${t}`,d=`price-prompt-${t}`,p=`price-completion-${t}`;return a.jsx("div",{className:"flex-column",children:a.jsxs("div",{className:"model-price",children:[a.jsx(jo,{label:"Price:",info:"Price in USD ($). Use 0 if it's free, -1 to skip setting a value",htmlFor:"prompt-price-inputs"}),a.jsxs("div",{className:"flex-column margin-left-10 margin-bottom-10 padding-left-10",children:[a.jsxs("div",{className:"flex-column margin-bottom-10",children:[a.jsx("label",{htmlFor:d,children:"Prompt price per 1K tokens:"}),a.jsx("input",{id:d,title:"Prompt price per 1K tokens",type:"number",min:"-1",step:"0.0001",className:"number-max-width",value:s,onChange:r,"data-testid":c,"aria-label":"Prompt price per 1000 tokens"})]}),a.jsxs("div",{className:"flex-column",children:[a.jsx("label",{htmlFor:p,children:"Completion price per 1K tokens:"}),a.jsx("input",{id:p,title:"Completion price per 1K tokens",type:"number",min:"-1",step:"0.0001",className:"number-max-width",value:l,onChange:i,"data-testid":u,"aria-label":"Completion price per 1000 tokens"})]})]})]})})});$z.displayName="WaldiezNodeModelModalPriceTab";const Gz=e=>{const{modelId:t,data:n,isOpen:r,isDirty:i,importExportView:s,onDataChange:l,onLogoChange:c,onClose:u,onSave:d,onSaveAndClose:p,onTest:f,onCancel:h}=e,[m,g]=o.useState(0);return o.useEffect(()=>{g(0)},[r]),a.jsx(Uo,{beforeTitle:s,title:n.label,dataTestId:`model-modal-${t}`,isOpen:r,onClose:u,onSaveAndClose:p,hasUnsavedChanges:i,preventCloseIfUnsavedChanges:!0,children:a.jsxs("div",{className:"modal-body",children:[a.jsxs(ki,{activeTabIndex:m,children:[a.jsx(ji,{label:"Basic",id:`model-config-basic-${t}`,children:a.jsx("div",{className:"model-panel",children:a.jsx(Vz,{id:t,data:n,onDataChange:l,onLogoChange:c})})}),"bedrock"===n.apiType&&a.jsx(ji,{label:"AWS",id:`model-config-aws-${t}`,children:a.jsx("div",{className:"model-panel",children:a.jsx(Hz,{data:n,onDataChange:l})})}),a.jsx(ji,{label:"Advanced",id:`model-config-advanced-${t}`,children:a.jsx("div",{className:"model-panel",children:a.jsx(qz,{data:n,onDataChange:l})})}),a.jsx(ji,{label:"Price",id:`model-config-price-${t}`,children:a.jsx("div",{className:"model-panel",children:a.jsx($z,{modelId:t,data:n,onDataChange:l})})})]}),a.jsxs("div",{className:"modal-actions",children:[a.jsx("button",{type:"button",title:"Cancel",className:"modal-action-cancel",onClick:h,"data-testid":`modal-cancel-btn-${t}`,children:"Cancel"}),a.jsxs("div",{className:"flex-row",children:[a.jsx("button",{type:"button",title:"Test",className:"margin-right-10 neutral",onClick:f,"data-testid":`modal-test-btn-${t}`,disabled:i,children:"Test"}),a.jsx("button",{title:"Save & Close",type:"button",className:"save margin-right-10",onClick:p,"data-testid":`modal-submit-and-close-btn-${t}`,disabled:!i,children:"Save & Close"}),a.jsx("button",{type:"button",title:"Save",className:"modal-action-submit",onClick:d,"data-testid":`modal-submit-btn-${t}`,disabled:!i,children:"Save"})]})]})]})})},Kz=(e,t)=>{const n=wa(e=>e.flowId),r=wa(e=>e.updateToolData),a=wa(e=>e.cloneTool),i=wa(e=>e.deleteTool),s=wa(e=>e.getToolById),l=wa(e=>e.importTool),c=wa(e=>e.exportTool),u=wa(e=>e.onFlowChanged),{isDark:d}=Cn(),[p,f]=o.useState(!1),[h,m]=o.useState(t),[g,y]=o.useState(!1),v=o.useMemo(()=>(e=>{const t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString()})(t.updatedAt),[t.updatedAt]),b=o.useMemo(()=>IL(t.label,18),[t.label]);o.useEffect(()=>{m(t),y(!1)},[t]);const x=o.useCallback(()=>{f(!0),y(!1)},[]),w=o.useCallback(()=>{p||(a(e),u())},[p,a,e,u]),C=o.useCallback(()=>{i(e),y(!1),u()},[i,e,u]),j=o.useCallback(()=>{m(t),f(!1),y(!1)},[t]),k=o.useCallback(e=>{m(n=>{const r={...n,...e};return y(!mL(r,t)),r})},[t]),A=o.useCallback(async()=>{await X(t.label,"tool",()=>c(e,!0))},[t.label,c,e]),S=o.useCallback((n,r)=>{const a=l(r,e,n?.position,!1);m(a.data),y(!mL(t,a.data))},[l,e,t]),O=o.useCallback(t=>{Q(t,(e=>s(e)).bind(null,e),S)},[s,e,S]),T=o.useCallback(()=>{r(e,h);const t=s(e);t?.data&&m(t.data),y(!1),u()},[r,e,h,s,u]),E=o.useCallback(()=>{T(),f(!1)},[T]);return{flowId:n,isModalOpen:p,isDirty:g,logo:b,toolData:h,isDark:d,updatedAt:v,onOpen:x,onClone:w,onDelete:C,onCancel:j,onSave:T,onSaveAndClose:E,onChange:k,onExport:A,onImport:O}},Xz=e=>{const{data:t,onDataChange:n}=e;return{onUpdateSecrets:o.useCallback(e=>{n({secrets:e})},[n]),onDeleteSecret:o.useCallback(e=>{const{[e]:r,...a}=t.secrets;n({secrets:a})},[t.secrets,n]),onAddSecret:o.useCallback((e,r)=>{n({secrets:{...t.secrets,[e]:r}})},[t.secrets,n]),onToolContentChange:o.useCallback(e=>{e&&n({content:e})},[n]),onToolLabelChange:o.useCallback(e=>{if("string"==typeof e)return void n({label:e});n({label:e.target.value})},[n]),onToolDescriptionChange:o.useCallback(e=>{if("string"==typeof e)return void n({description:e});n({description:e.target.value})},[n]),onToolTypeChange:o.useCallback(e=>{n({toolType:e,content:Ie[e],kwargs:{},secrets:{}})},[n]),onAddTag:o.useCallback(e=>{n({tags:[...t.tags,e]})},[t.tags,n]),onDeleteTag:o.useCallback(e=>{n({tags:t.tags.filter(t=>t!==e)})},[t.tags,n]),onTagChange:o.useCallback((e,r)=>{n({tags:t.tags.map(t=>t===e?r:t)})},[t.tags,n]),onAddRequirement:o.useCallback(e=>{n({requirements:[...t.requirements,e]})},[t.requirements,n]),onDeleteRequirement:o.useCallback(e=>{n({requirements:t.requirements.filter(t=>t!==e)})},[t.requirements,n]),onRequirementChange:o.useCallback((e,r)=>{n({requirements:t.requirements.map(t=>t===e?r:t)})},[t.requirements,n]),onSetToolKwarg:o.useCallback((e,r)=>{const a={...t.kwargs,[e]:r};n({kwargs:a})},[t.kwargs,n])}},Yz=e=>{const{data:t}=e,{onUpdateSecrets:n,onDeleteSecret:r,onAddSecret:i,onAddRequirement:s,onDeleteRequirement:l,onRequirementChange:c,onAddTag:u,onDeleteTag:d,onTagChange:p}=Xz(e),f=o.useMemo(()=>a.jsxs("div",{children:["Requirements to ",a.jsx("span",{className:"bold italic",children:"pip install"})," for this tool"]}),[]);return a.jsxs(a.Fragment,{children:[a.jsx(ko,{viewLabel:"Environment Variables:",items:t.secrets,itemsType:"tool-secret",onUpdate:n,onDelete:r,onAdd:i,areValuesSecret:!0}),a.jsx(Ci,{viewLabel:"Requirements:",viewLabelInfo:f,placeholder:"Add a requirement...",items:t.requirements,itemsType:"tool-requirements",onItemAdded:s,onItemDeleted:l,onItemChange:c}),a.jsx(Ci,{viewLabel:"Tags:",placeholder:"Add a tag...",items:t.tags,itemsType:"tool-tags",onItemAdded:u,onItemDeleted:d,onItemChange:p})]})},Qz=o.memo(e=>{const{toolId:t,data:n,darkMode:r}=e,{onToolContentChange:i,onToolLabelChange:s,onToolDescriptionChange:l,onToolTypeChange:c,onAddSecret:u,onSetToolKwarg:d}=Xz(e),p=o.useMemo(()=>DL.find(e=>e.value===n.toolType)||DL.find(e=>e.value===n.label)||DL[0],[n.toolType,n.label]),f=o.useCallback(e=>{e&&(OL.includes(e.value)?(c("predefined"),s(e.value),l(PL[e.value]||e.label)):(c(e.value),s(ML[e.value]),l(PL[e.value]||"")))},[c,s,l]),h=`tool-type-select-${t}`,m=`tool-label-input-${t}`,g=`tool-description-input-${t}`,y=`tool-content-editor-${t}`,v=o.useCallback((e,t)=>{const n=t.target.value;u(e,n)},[u]),b=o.useCallback((e,t)=>{const n=t.target.value;d(e,n)},[d]),x=o.memo(e=>{const{innerProps:t,data:n}=e;return a.jsxs("div",{...t,className:"flex margin-5 clickable",children:[n.icon&&a.jsx("div",{className:"icon margin-right-10 margin-left-5",children:n.icon}),a.jsx("span",{className:"label",children:n.label})]})});return a.jsxs("div",{className:"flex-column",children:[a.jsxs("div",{className:"margin-bottom-10",children:[a.jsx("label",{htmlFor:h,children:"Type:"}),a.jsx("div",{className:"margin-top-10"}),a.jsx(lo,{inputId:h,options:DL,value:p,onChange:f,"data-testid":h,"aria-label":"Tool type",components:{Option:x}})]}),"predefined"!==n.toolType&&a.jsxs("div",{className:"margin-bottom-10",children:[a.jsx("label",{htmlFor:m,children:"Name:"}),a.jsx("div",{className:"margin-top-10"}),a.jsx("input",{title:"Name",type:"text",value:n.label||"","data-testid":m,id:m,onChange:s,className:"full-width","aria-label":"Tool name"})]}),"predefined"!==n.toolType&&a.jsxs("div",{className:"margin-bottom-10",children:[a.jsx("label",{htmlFor:g,children:"Description:"}),a.jsx("div",{className:"margin-top-10"}),a.jsx(Oo,{title:"Description",rows:2,value:n.description||"","data-testid":g,id:g,onChange:l,className:"full-width","aria-label":"Tool description"})]}),"predefined"!==n.toolType&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:y,children:"Content:"}),a.jsx("div",{className:"margin-top-10"}),a.jsx(So,{value:n.content||"",onChange:i,darkMode:r,"aria-label":"Tool content","data-testid":y})]}),"predefined"===n.toolType&&NL[n.label]&&a.jsx("div",{className:"margin-top-10",children:NL[n.label]}),"predefined"===n.toolType&&EL[n.label].length>0&&a.jsx("div",{className:"margin-top-10",children:EL[n.label].map((e,t)=>a.jsx("div",{className:"margin-bottom-5",children:a.jsx(Mo,{name:e.label,label:`${e.label}:`,dataTestId:`env-var-input-${t}-${e.key}`,value:(n.kwargs?n.kwargs[e.key]:"")||"",onChange:b.bind(null,e.key),className:"margin-top-10",isPassword:!1,placeholder:`Enter the ${e.label}`})},t))}),"predefined"===n.toolType&&TL[n.label].length>0&&a.jsx("div",{className:"margin-top-10",children:TL[n.label].map((e,t)=>a.jsx("div",{className:"margin-bottom-5",children:a.jsx(Mo,{name:e.label,label:`${e.label}:`,dataTestId:`env-var-input-${t}-${e.key}`,value:n.secrets[e.key]||"",onChange:v.bind(null,e.key),className:"margin-top-10",placeholder:`Enter the ${e.label}`,isPassword:!0})},t))})]})});Qz.displayName="WaldiezToolBasicTab";const Zz=e=>{const{toolId:t,flowId:n,data:r,isModalOpen:i,isDirty:s,onClose:l,onCancel:c,onSave:u,onSaveAndClose:d,onImport:p,onExport:f}=e,h=yz(n,t,"tool",p,f),[m,g]=o.useState(0);return o.useEffect(()=>{g(0)},[i]),a.jsxs(Uo,{beforeTitle:h,title:r.label,isOpen:i,onSaveAndClose:d,onClose:l,hasUnsavedChanges:s,preventCloseIfUnsavedChanges:!0,children:[a.jsx("div",{className:"modal-body",children:a.jsxs(ki,{activeTabIndex:m,children:[a.jsx(ji,{label:"Basic",id:`tool-basic-tab-${t}`,children:a.jsx("div",{className:"tool-panel",children:a.jsx(Qz,{...e})})}),"predefined"!==r.toolType&&a.jsx(ji,{label:"Advanced",id:`tool-advanced-tab-${t}`,children:a.jsx("div",{className:"tool-panel",children:a.jsx(Yz,{...e})})})]})}),a.jsxs("div",{className:"modal-actions",children:[a.jsx("button",{type:"button",title:"Cancel",className:"modal-action-cancel",onClick:c,"data-testid":`modal-cancel-btn-${t}`,children:"Cancel"}),a.jsx("button",{title:"Save & Close",type:"button",className:"modal-action-submit margin-right-10 ",onClick:d,"data-testid":`modal-submit-and-close-btn-${t}`,disabled:!s,children:"Save & Close"}),a.jsx("button",{title:"Save",type:"button",className:"modal-action-submit",onClick:u,"data-testid":`modal-submit-btn-${t}`,disabled:!s,children:"Save"})]})]})},Jz={chat:sL,hidden:uL,nested:lL,group:cL},eB={agent:e=>{const{id:t,data:n,selected:r}=e,s=n.agentType,{edge:l,flowId:c,isReadOnly:u,isNodeModalOpen:d,isEdgeModalOpen:p,isModalOpen:f,isDragging:h,onDragOver:m,onDragLeave:g,onDrop:v,onDelete:x,onClone:w,onOpenNodeModal:C,onCloseNodeModal:j,onOpenEdgeModal:k,onCloseEdgeModal:A,onEdgeConnection:S}=(e=>{const t=wa(e=>e.getEdgeById),n=wa(e=>e.addEdge),r=wa(e=>e.deleteAgent),a=wa(e=>e.cloneAgent),i=wa(e=>e.onFlowChanged),s=wa(e=>e.flowId),l=wa(e=>e.isReadOnly),c=o.useMemo(()=>!0===l,[l]),[u,d]=o.useState(!1),[p,f]=o.useState(!1),[h,m]=o.useState(null),[g,y]=o.useState(!1),v=o.useMemo(()=>u||p,[u,p]),b=o.useCallback(()=>{!0===c||v||(r(e),i())},[c,v,r,e,i]),x=o.useCallback(()=>{!0===c||v||(a(e),i())},[c,v,a,e,i]),w=o.useCallback(()=>{c||d(!0)},[c]),C=o.useCallback(()=>{d(!1)},[]),j=o.useCallback(e=>{if(!c&&!u&&!p){const n=e.currentTarget.getAttribute("data-edge-id");if(n){const e=t(n);e&&(m(e),f(!0))}}},[c,u,p,t]),k=o.useCallback(()=>{f(!1),m(null)},[]),A=o.useCallback(e=>{if(!c&&!u){const t=n({flowId:s,connection:e,hidden:!1});m(t)}},[c,u,n,s]),S=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),y(!0)},[]),O=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),y(!1)},[]),T=o.useCallback(e=>{y(!1)},[]);return{flowId:s,edge:h,isNodeModalOpen:u,isEdgeModalOpen:p,isModalOpen:v,isReadOnly:c,isDragging:g,onDelete:b,onClone:x,onOpenNodeModal:w,onCloseNodeModal:C,onOpenEdgeModal:j,onCloseEdgeModal:k,onEdgeConnection:A,onDragOver:S,onDragLeave:O,onDrop:T}})(t),O=o.useMemo(()=>{let e=f?"nodrag nowheel ":"";return n.parentId?e+=`agent-node ${s} group-member`:e+=`agent-node ${s}`,"group_manager"===s&&(e+=" flex-column flex-1",h&&(e+=" dragging")),e},[f,n.parentId,s,h]),T=o.useMemo(()=>n.parentId?"group-member ":"group_manager"===s?"group-manager ":"",[n.parentId,s]),E=o.useMemo(()=>"group_manager"===s?bz.minWidth:xz.minWidth,[s]),M=o.useMemo(()=>"group_manager"===s?bz.minHeight:xz.minHeight,[s]),N=gn[s];return a.jsxs("div",{className:O,"data-testid":`agent-node-${t}-view`,onDragOver:m,onDragLeave:g,onDrop:v,children:[a.jsx(i.NodeResizer,{color:pn[s],minWidth:E,minHeight:M,handleStyle:{color:pn[s],borderColor:pn[s]},handleClassName:s}),!u&&!h&&r&&a.jsxs("div",{className:`agent-actions ${s}`,"data-testid":`agent-actions-${t}`,children:[a.jsx(b.FaTrash,{role:"button",onClick:x,title:"Delete Agent",className:"delete-icon clickable margin-right-20","aria-label":"Delete Agent"}),"group_manager"!==n.agentType&&a.jsx(y.FaCopy,{role:"button",onClick:w,title:"Clone Agent",className:"copy-icon margin-right-20 clickable","aria-label":"Clone Agent"}),a.jsx(rL,{role:"button",className:"clickable cog-icon",onClick:C,"aria-label":"Open Settings",title:"Open Settings"})]}),a.jsxs("div",{className:"agent-main",children:[a.jsxs("div",{className:"agent-top",children:[a.jsxs("div",{className:"agent-icon-with-label",children:[a.jsx("img",{className:"agent-icon-image",src:N,alt:"Agent"}),a.jsx("div",{className:"agent-icon-label",children:n.label})]}),a.jsx(RL,{flowId:c,id:t,data:n,isModalOpen:f,isReadOnly:u,onOpenModal:C})]}),LL({agentType:s,id:t,handleClassNameBase:T,selected:r,onEdgeConnection:S}),a.jsx("button",{title:"Open Node Modal",type:"button","data-node-id":t,"data-testid":`open-agent-node-modal-${t}`,className:"hidden",onClick:C}),a.jsx("button",{title:"Open Edge Modal",type:"button","data-testid":`open-edge-modal-node-${t}`,className:"hidden",onClick:k,"data-edge-node-id":t,"data-edge-id":""}),l&&p&&!d&&a.jsx(SL,{isOpen:p,edgeId:l.id,onClose:A}),d&&!p&&a.jsx(vz,{id:t,data:n,isOpen:d,onClose:j})]})]})},model:({id:e,data:t})=>{const{flowId:n,isOpen:r,isDirty:o,logo:i,modelData:s,setLogo:l,onOpen:c,onImport:u,onExport:d,onDataChange:p,onDelete:f,onClone:h,onSave:m,onSaveAndClose:g,onCancel:y,onCheck:v}=Uz(e,t),x=yz(n,e,"model",u,d);return a.jsxs("div",{className:r?"model-node nodrag nowheel":"model-node nodrag",children:[a.jsxs("div",{className:"model-header",children:[a.jsx("div",{role:"button",title:"Edit",className:"clickable","data-node-id":e,"data-testid":`open-model-node-modal-${e}`,onClick:c,children:a.jsx(b.FaGear,{})}),a.jsx("div",{id:`node-label-${e}`,className:"node-label","data-testid":`node-label-${e}`,children:t.label}),a.jsx("div",{className:`model-logo ${t.apiType}`,children:a.jsx("img",{src:i,alt:"logo"})})]}),a.jsxs("div",{className:"model-footer","data-testid":`model-footer-${e}`,children:[a.jsx("div",{role:"button",title:"Delete",className:"clickable",id:`delete-node-${e}`,"data-testid":`delete-node-${e}`,onClick:f,children:a.jsx(b.FaTrashCan,{})}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{role:"button",title:"Check",className:"clickable margin-right-10",id:`test-model-${e}`,"data-testid":`test-model-${e}`,onClick:v,children:a.jsx(wz,{fontSize:"1.1em"})}),a.jsx("div",{role:"button",title:"Clone",className:"clickable",id:`clone-node-${e}`,"data-testid":`clone-node-${e}`,onClick:h,children:a.jsx(b.FaCopy,{})})]})]}),a.jsx(Gz,{modelId:e,data:s,isOpen:r,isDirty:o,importExportView:x,onLogoChange:l,onDataChange:p,onClose:y,onCancel:y,onSave:m,onTest:v,onSaveAndClose:g})]})},tool:e=>{const{id:t}=e,{flowId:n,isModalOpen:r,isDirty:o,toolData:i,isDark:s,logo:l,onOpen:c,onClone:u,onDelete:d,onCancel:p,onSave:f,onSaveAndClose:h,onChange:m,onExport:g,onImport:y}=Kz(e.id,e.data);return a.jsxs("div",{className:r?"tool-node nodrag nowheel":"tool-node nodrag",children:[a.jsxs("div",{className:"tool-header",children:[a.jsx("div",{role:"button",title:"Edit",className:"clickable","data-node-id":t,"data-testid":`open-tool-node-modal-${t}`,onClick:c,children:a.jsx(b.FaGear,{})}),a.jsx("div",{"data-testid":`node-label-${t}`,className:"node-label",children:i.label}),a.jsx("div",{className:`tool-logo ${i.toolType}`,children:l})]}),a.jsx("div",{className:"tool-content",children:a.jsx("div",{className:"description","data-test-id":`node-description-${t}`,children:i.description})}),a.jsxs("div",{className:"tool-footer","data-testid":`tool-footer-${t}`,children:[a.jsx("div",{role:"button",title:"Delete",className:"clickable",id:`delete-node-${t}`,"data-testid":`delete-node-${t}`,onClick:d,children:a.jsx(b.FaTrashCan,{})}),a.jsx("div",{role:"button",title:"Clone",className:"clickable",id:`clone-node-${t}`,"data-testid":`clone-node-${t}`,onClick:u,children:a.jsx(b.FaCopy,{})})]}),a.jsx(Zz,{toolId:t,flowId:n,data:i,isModalOpen:r,darkMode:s,isDirty:o,onClose:p,onCancel:p,onSave:f,onSaveAndClose:h,onDataChange:m,onImport:y,onExport:g})]})}},tB=({children:e,collapsed:t})=>{const n="boolean"==typeof t?t:rB(),[r,i]=o.useState(n);o.useEffect(()=>{nB(r)},[r]);return a.jsx(oB.Provider,{value:{isCollapsed:r,toggleSidebar:()=>{i(e=>!e)}},children:e})},nB=e=>{e?(document.body.classList.add("waldiez-sidebar-collapsed"),document.body.classList.remove("waldiez-sidebar-expanded")):(document.body.classList.add("waldiez-sidebar-expanded"),document.body.classList.remove("waldiez-sidebar-collapsed"))},rB=()=>!!document.body.classList.contains("waldiez-sidebar-collapsed")||!document.body.classList.contains("waldiez-sidebar-expanded")&&window.innerWidth<768;function aB(e){return QR({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"},child:[]},{tag:"path",attr:{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"},child:[]},{tag:"path",attr:{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"},child:[]},{tag:"path",attr:{d:"M17.599 6.5a3 3 0 0 0 .399-1.375"},child:[]},{tag:"path",attr:{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5"},child:[]},{tag:"path",attr:{d:"M3.477 10.896a4 4 0 0 1 .585-.396"},child:[]},{tag:"path",attr:{d:"M19.938 10.5a4 4 0 0 1 .585.396"},child:[]},{tag:"path",attr:{d:"M6 18a4 4 0 0 1-1.967-.516"},child:[]},{tag:"path",attr:{d:"M19.967 17.484A4 4 0 0 1 18 18"},child:[]}]})(e)}const oB=o.createContext(void 0),iB=e=>{const{isOpen:t,onClose:n}=e,r=wa(e=>e.getFlowInfo),a=wa(e=>e.updateFlowInfo),i=wa(e=>e.updateFlowOrder),s=wa(e=>e.updateFlowPrerequisites),l=r(),{name:c,description:u,requirements:d,tags:p,isAsync:f,cacheSeed:h}=l,[m,g]=o.useState({name:c,description:u,requirements:d,tags:p,isAsync:f,cacheSeed:h}),[y,v]=o.useState(null),b=wa(e=>e.getFlowEdges),{used:x,remaining:w}=b(),C=wa(e=>e.onFlowChanged),[j,k]=o.useState(x),[A,S]=o.useState(w),O=!mL(m,{name:c,description:u,requirements:d,tags:p,isAsync:f,cacheSeed:h}),T=!mL(j,x),[E,M]=o.useState(O||T),N=o.useCallback(()=>{const{name:e,description:t,requirements:n,tags:a,isAsync:o,cacheSeed:i}=r();g({name:e,description:t,requirements:n,tags:a,isAsync:o,cacheSeed:i});const{used:s,remaining:l}=b();k(s),S(l),M(!1)},[b,r]);o.useEffect(()=>{N()},[t,N]);const P=e=>e.map((t,n)=>{if(0===n)return{...t,data:{...t.data,order:0,prerequisites:[]}};const r=e[n-1];return{...t,data:{...t.data,order:n,prerequisites:[r.id]}}});return{flowData:m,isOpen:t,sortedEdgesState:j,remainingEdgesState:A,selectedNewEdge:y,isDirty:E,onClose:n,onSubmit:()=>{if(a(m),m.isAsync)s(j);else{const e=j.map((e,t)=>({id:e.id,order:t})).concat(A.map(e=>({id:e.id,order:-1})));i(e)}C(),M(!1)},onCancel:()=>{N(),n()},onDataChange:e=>{const t=!mL({...m,...e},{name:c,description:u,requirements:d,tags:p,isAsync:f,cacheSeed:h}),n=!mL(j,x);g({...m,...e}),M(t||n)},onSelectedNewEdgeChange:e=>{e&&v(e.value)},onAddEdge:()=>{if(y&&A.find(e=>e.id===y.id)){const e=(()=>{let e=j[j.length-1]?.data?.order;return void 0===e?e=j.length:e++,e<0&&(e=0),e})(),t={...y,data:{...y.data,order:e}};k([...j,t]),S(A.filter(e=>e.id!==y.id)),v(null),M(!0)}},onRemoveEdge:e=>{1!==j.length&&j.find(t=>t.id===e.id)&&(k(j.filter(t=>t.id!==e.id)),S([...A,{...e,data:{...e.data,order:-1,prerequisites:[]}}]),M(!0))},onMoveEdgeUp:e=>{if(j.find(t=>t.id===j[e].id)){const t=j[e-1],n=j[e],r=j.slice();r[e-1]=n,r[e]=t,k(P(r)),M(!0)}},onMoveEdgeDown:e=>{if(j.find(t=>t.id===j[e].id)){const t=j[e+1],n=t.data?.order,r=j[e],a=r.data?.order,o=j.slice();o[e+1]={...r,data:{...r.data,order:n}},o[e]={...t,data:{...t.data,order:a}},k(P(o)),M(!0)}},onPrerequisitesChange:(e,t)=>{const n=j.map(n=>n.id===e.id?{...n,data:{...n.data,prerequisites:t}}:n);k(n),M(!0)}}},sB=e=>{const{sortedEdges:t,remainingEdges:n,selectedNewEdge:r,onSelectedNewEdgeChange:o,onAddEdge:i,onRemoveEdge:s,onPrerequisitesChange:l}=e,c=(e,t)=>{if(t){const n=t.map(e=>e.value.id);l(e,n)}else l(e,[])};return a.jsxs("div",{className:"flow-chat-prerequisites-wrapper",children:[a.jsx("div",{className:"info",children:"Specify the chats to run when the flow initializes and their prerequisites (if more than one). You should remove the ones that are expected to be triggered during the flow (like in nested chats)."}),t.map((e,n)=>a.jsxs("div",{className:"flow-chat-prerequisites",children:[a.jsx("div",{className:"flow-chat-prerequisite-source",children:a.jsx("span",{children:e.data?.label})}),t.length>1&&a.jsxs("div",{className:"flow-chat-prerequisite-actions",children:[a.jsx("label",{htmlFor:"chat-pre-requisites-select",children:"Prerequisites:"}),a.jsx(lo,{placeholder:"Select prerequisites...",options:t.filter(t=>t.id!==e.id).map(e=>({value:e,label:e.data?.label})),value:e.data?.prerequisites.map(e=>{const n=t.find(t=>t.id===e);return n?{value:n,label:n.data?.label}:[]}),onChange:c.bind(null,e),isMulti:!0,inputId:"chat-pre-requisites-select"}),t.length>1&&a.jsx("div",{className:"flow-chat-remove",children:t.length>1&&a.jsx("button",{type:"button",title:"Remove",className:"flow-order-item-action","data-testid":`remove-edge-button-${n}`,onClick:s.bind(null,e),children:"Remove"})})]})]},e.id)),n.length>0&&a.jsxs("div",{className:"flow-order-add-wrapper",children:[a.jsxs("div",{className:"flex-1 margin-right-10",children:[a.jsx("label",{htmlFor:"new-edge-select",className:"hidden",children:"Add new chat"}),a.jsx(lo,{options:n.map(e=>({value:e,label:e.data?.label})),value:r?{value:r,label:r.data?.label}:null,onChange:o,inputId:"new-edge-select"})]}),a.jsx("button",{type:"button",title:"Add chat",className:"flow-order-add-button",disabled:!r,onClick:i,"data-testid":"add-edge-to-flow-button",children:"Add"})]})]})},lB=e=>{const{sortedEdges:t,remainingEdges:n,selectedNewEdge:r,onSelectedNewEdgeChange:o,onAddEdge:i,onRemoveEdge:s,onMoveEdgeUp:l,onMoveEdgeDown:c}=e;return a.jsxs("div",{className:"flow-chat-order-wrapper",children:[a.jsx("div",{className:"info",children:"Specify the chats to run when the flow initializes and their order (if more than one). You should remove the ones that are expected to be triggered during the flow (like in nested chats)."}),t.map((e,n)=>a.jsxs("div",{className:"flow-order-item-wrapper",children:[a.jsx("div",{className:"flow-order-item",children:a.jsx("span",{className:"flow-order-item-entry",children:e.data?.label})}),t.length>1&&a.jsxs("div",{className:"flow-order-item-actions",children:[n>0&&t.length>1&&a.jsx("button",{type:"button",title:"Move up",className:"flow-order-item-action","data-testid":`move-edge-up-button-${n}`,onClick:l.bind(null,n),children:"↑"}),n<t.length-1&&a.jsx("button",{title:"Move down",type:"button",className:"flow-order-item-action","data-testid":`move-edge-down-button-${n}`,onClick:c.bind(null,n),children:"↓"}),t.length>1&&a.jsx("button",{type:"button",title:"Remove",className:"flow-order-item-action","data-testid":`remove-edge-button-${n}`,onClick:s.bind(null,e),children:"Remove"})]})]},e.id)),n.length>0&&a.jsxs("div",{className:"flow-order-add-wrapper",children:[a.jsxs("div",{className:"flex-1 margin-right-10",children:[a.jsx("label",{htmlFor:"new-edge-select",className:"hidden",children:"Add new chat"}),a.jsx(lo,{options:n.map(e=>({value:e,label:e.data?.label})),value:r?{value:r,label:r.data?.label}:null,onChange:o,inputId:"new-edge-select"})]}),a.jsx("button",{type:"button",title:"Add chat",className:"flow-order-add-button",disabled:!r,onClick:i,"data-testid":"add-edge-to-flow-button",children:"Add"})]})]})},cB=e=>{const{flowId:t,data:n,sortedEdges:r,remainingEdges:o,onDataChange:i}=e,{name:s,description:l,isAsync:c}=n,u=r.length+o.length;return a.jsxs("div",{className:"flex-column padding-left-10 padding-right-10",id:`rf-${t}-edit-flow-modal`,children:[a.jsx("label",{htmlFor:`rf-${t}-edit-flow-modal-name`,children:"Name"}),a.jsx("input",{type:"text",className:"margin-right--20 margin-top-5 margin-bottom-10",id:`rf-${t}-edit-flow-modal-name`,placeholder:"Flow name",value:s,onChange:e=>{const t=e.target.value;i({name:t})},"data-testid":`edit-flow-${t}-name-input`}),a.jsx("label",{htmlFor:`rf-${t}-edit-flow-modal-description`,children:"Description"}),a.jsx("div",{className:"margin-bottom-5"}),a.jsx(Oo,{id:`rf-${t}-edit-flow-modal-description`,placeholder:"Flow description",rows:2,value:l,onChange:e=>{const t=e.target.value;i({description:t})},"data-testid":`edit-flow-${t}-description-input`}),a.jsx("div",{className:"margin-bottom-5"}),a.jsx(io,{id:`edit-flow-${t}-modal-async-mode`,label:"Async Mode",isChecked:c,onCheckedChange:e=>{i({isAsync:e})}}),a.jsxs("div",{className:"margin-top-5 margin-left-5",children:["Chat order ",c&&"& prerequisites"," "]}),0===u?a.jsx("div",{className:"info",children:"No chats added to the flow yet."}):c?a.jsx(sB,{...e}):a.jsx(lB,{...e})]})},uB=e=>{const{flowId:t,data:n,onDataChange:r}=e,{tags:o,requirements:i,cacheSeed:s}=n;return a.jsxs("div",{className:"padding-left-10 padding-right-10","data-testid":`edit-flow-${t}-modal-other-view`,children:[a.jsx(io,{id:`edit-flow-${t}-modal-cache-seed-toggle`,label:"Disable cache",isChecked:"number"!=typeof s,onCheckedChange:e=>{r({cacheSeed:e?null:42})},"data-testid":`edit-flow-${t}-modal-cache-seed-toggle`}),"number"==typeof s&&a.jsxs("div",{className:"cache-seed-view flex",children:[a.jsx("div",{className:"margin-left-5 margin-right-5",children:" Cache seed:"}),a.jsx("input",{type:"number",step:1,placeholder:"42",value:s,onChange:e=>{try{const t=parseInt(e.target.value);r({cacheSeed:t})}catch(t){}},id:`edit-flow-${t}-cache-seed-input`,"data-testid":`edit-flow-${t}-cache-seed-input`})]}),a.jsx(Ci,{items:i,itemsType:"requirement",viewLabel:"Additional Requirements",viewLabelInfo:()=>a.jsxs("div",{children:["Requirements to ",a.jsx("span",{className:"bold italic",children:"pip install"})," before running this flow"]}),onItemAdded:e=>{r({requirements:[...i,e]})},onItemDeleted:e=>{r({requirements:i.filter(t=>t!==e)})},onItemChange:(e,t)=>{r({requirements:i.map(n=>n===e?t:n)})}}),a.jsx(Ci,{items:o,itemsType:"tag",viewLabel:"Tags",onItemAdded:e=>{r({tags:[...o,e]})},onItemDeleted:e=>{r({tags:o.filter(t=>t!==e)})},onItemChange:(e,t)=>{r({tags:o.map(n=>n===e?t:n)})}})]})},dB=e=>{const{flowId:t}=e,{flowData:n,isOpen:r,sortedEdgesState:o,remainingEdgesState:i,selectedNewEdge:s,isDirty:l,onClose:c,onSubmit:u,onCancel:d,onDataChange:p,onSelectedNewEdgeChange:f,onAddEdge:h,onRemoveEdge:m,onMoveEdgeUp:g,onMoveEdgeDown:y,onPrerequisitesChange:v}=iB(e),b=()=>{u(),c()};return a.jsx(Uo,{title:"Edit Flow",isOpen:r,onSaveAndClose:b,onClose:c,className:"edit-flow-modal",hasMaximizeBtn:!0,dataTestId:`edit-flow-modal-${t}`,hasUnsavedChanges:l,preventCloseIfUnsavedChanges:!0,children:a.jsxs("div",{className:"modal-body",children:[a.jsxs(ki,{activeTabIndex:0,children:[a.jsx(ji,{label:"Properties",id:`rf-${t}-edit-flow-modal`,children:a.jsx(cB,{flowId:t,data:n,remainingEdges:i,sortedEdges:o,selectedNewEdge:s,onPrerequisitesChange:v,onSelectedNewEdgeChange:f,onAddEdge:h,onRemoveEdge:m,onMoveEdgeUp:g,onMoveEdgeDown:y,onDataChange:p})}),a.jsx(ji,{label:"Other",id:`rf-${t}-edit-flow-modal-extras`,children:a.jsx(uB,{flowId:t,data:n,onDataChange:p})})]}),a.jsxs("div",{className:"modal-actions",children:[a.jsx("button",{className:"modal-action-cancel",onClick:d,"data-testid":"edit-flow-cancel-button",type:"button",title:"Cancel",children:"Cancel"}),a.jsxs("div",{className:"flex-row",children:[a.jsx("button",{title:"Save & Close",type:"button",className:"primary save margin-right-10",onClick:b,"data-testid":`modal-submit-and-close-btn-${t}`,disabled:!l,children:"Save & Close"}),a.jsx("button",{type:"button",title:"Save",className:"modal-action-submit",onClick:u,"data-testid":"edit-flow-submit-button",disabled:!l,children:"Save"})]})]})]})})},pB=e=>{const{isReadonly:t}=e,{flowId:n,isEditModalOpen:r,isAgentsViewCollapsed:i,onOpenEditModal:s,onCloseEditModal:l,onShowAgents:c,onShowModels:u,onShowTools:d,onUserDragStart:p,onAssistantDragStart:f,onRagDragStart:h,onReasoningDragStart:m,onCaptainDragStart:g,onManagerDragStart:v}=(e=>{const{selectedNodeType:t,onSelectNodeType:n}=e,[r,a]=o.useState(!1),[i,s]=o.useState(!1),l=wa(e=>e.flowId),c=o.useCallback((e,t,n)=>{e.dataTransfer.setData("application/node",t),"agent"===t&&n&&e.dataTransfer.setData("application/agent",n),e.dataTransfer.effectAllowed="move"},[]),u=o.useCallback(()=>{"agent"!==t?(n("agent"),s(!1)):s(e=>!e)},[t,n]),d=o.useCallback(()=>{n("model")},[n]),p=o.useCallback(()=>{n("tool")},[n]),f=o.useCallback(e=>{c(e,"agent","user_proxy")},[c]),h=o.useCallback(e=>{c(e,"agent","assistant")},[c]),m=o.useCallback(e=>{c(e,"agent","rag_user_proxy")},[c]),g=o.useCallback(e=>{c(e,"agent","reasoning")},[c]),y=o.useCallback(e=>{c(e,"agent","captain")},[c]),v=o.useCallback(e=>{c(e,"agent","group_manager")},[c]),b=o.useCallback(()=>{a(!0)},[]),x=o.useCallback(()=>{a(!1)},[]),w=o.useMemo(()=>({user_proxy:f,assistant:h,reasoning:g,captain:y,group_manager:v,rag_user_proxy:m}),[f,h,g,y,v,m]);return{flowId:l,isEditModalOpen:r,isAgentsViewCollapsed:i,onOpenEditModal:b,onCloseEditModal:x,onShowAgents:u,onShowModels:d,onShowTools:p,onUserDragStart:f,onRagDragStart:m,onAssistantDragStart:h,onReasoningDragStart:g,onCaptainDragStart:y,onManagerDragStart:v,agentDragHandlers:w}})(e),{isCollapsed:x,toggleSidebar:w}=(()=>{const e=o.useContext(oB);if(!e)throw new Error("useSidebar must be used within a SidebarProvider context");return e})();return a.jsxs("div",{className:"sidebar"+(t?" hidden":""),"data-testid":`sidebar-${n}`,style:{width:x?"40px":"200px"},children:[a.jsxs("div",{className:"sidebar-header",style:{justifyContent:x?"center":"space-between"},children:[!x&&a.jsx("div",{className:"title",children:"Waldiez"}),a.jsx("div",{className:"sidebar-toggle",onClick:w,role:"button","aria-hidden":"true","data-testid":"sidebar-toggle",children:a.jsx(b.FaBars,{className:"sidebar-toggle-button tooltip-container clickable",title:x?"Open sidebar":"Close sidebar","aria-hidden":"true"})})]}),a.jsxs("div",{className:"sidebar-content",children:[a.jsxs("ul",{children:[a.jsxs("li",{className:"clickable",id:`edit-flow-${n}-sidebar-button`,"data-testid":`edit-flow-${n}-sidebar-button`,onClick:s,title:"Edit flow",children:[a.jsx(y.FaEdit,{}),!x&&a.jsx("span",{children:"Edit flow"})]}),a.jsxs("li",{className:"clickable","data-node-type":"model","data-testid":"show-models",onClick:u,children:[a.jsx(aB,{}),!x&&a.jsx("span",{children:"Models"})]}),a.jsxs("li",{className:"clickable","data-node-type":"tool","data-testid":"show-tools",onClick:d,children:[a.jsx(y.FaTools,{}),!x&&a.jsx("span",{children:"Tools"})]}),a.jsxs("li",{className:"clickable expandable","data-node-type":"agent","data-testid":"show-agents",onClick:c,children:[a.jsxs("div",{className:"flex",children:[a.jsx(b.FaRobot,{}),!x&&a.jsx("span",{children:"Agents"})]}),!x&&a.jsx("div",{className:"expand-icon",children:i?a.jsx(A.GoChevronDown,{}):a.jsx(A.GoChevronUp,{})})]})]}),!x&&!i&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"dnd-description",children:a.jsx("p",{children:"Drag n' drop an agent to the canvas to add it to the flow"})}),a.jsxs("div",{className:"dnd-area","data-testid":"user-dnd",onDragStart:p,draggable:!0,children:[a.jsx("img",{src:gn.user_proxy,title:"User Proxy Agent"}),"User"]}),a.jsxs("div",{className:"dnd-area","data-testid":"assistant-dnd",onDragStart:f,draggable:!0,children:[a.jsx("img",{src:gn.assistant,title:"Assistant Agent"}),"Assistant"]}),a.jsxs("div",{className:"dnd-area","data-testid":"rag-dnd",onDragStart:h,draggable:!0,children:[a.jsx("img",{src:gn.rag_user_proxy,title:"RAG User Proxy Agent"}),"RAG User"]}),a.jsxs("div",{className:"dnd-area","data-testid":"reasoning-dnd",onDragStart:m,draggable:!0,children:[a.jsx("img",{src:gn.reasoning,title:"Reasoning Agent"}),"Reasoning"]}),a.jsxs("div",{className:"dnd-area","data-testid":"captain-dnd",onDragStart:g,draggable:!0,children:[a.jsx("img",{src:gn.captain,title:"Captain Agent"}),"Captain"]}),a.jsxs("div",{className:"dnd-area","data-testid":"group-manager-dnd",onDragStart:v,draggable:!0,children:[a.jsx("img",{src:gn.group_manager,title:"Group Manager Agent"}),"Group Manager"]})]})]}),a.jsx("div",{className:"spacer"}),r&&a.jsx(dB,{flowId:n,isOpen:r,onClose:l})]})},fB=o.memo(e=>{const{flowId:t,skipExport:n,skipImport:r,skipHub:s,chat:l}=e,c=o.useRef(null),u=o.useRef("agent"),[d,p]=o.useState(!1),[f,h]=o.useState(!1),[m,g]=o.useState(!1),y=wa(e=>e.nodes),v=wa(e=>e.edges),b=wa(e=>e.isReadOnly),x=wa(e=>e.viewport),w=wa(e=>e.addModel),C=wa(e=>e.addTool),j=wa(e=>e.onViewportChange),k=wa(e=>e.onFlowChanged),A=wa(e=>e.showNodes),S=wa(e=>e.onReconnect),O=wa(e=>e.onSave),{isDark:T}=Cn(),E=o.useMemo(()=>T?"dark":"light",[T]),M=!0===b,{onKeyDown:N}=q_(t,O),{convertToPy:P,convertToIpynb:I,exportFlow:D,onExport:R,onRun:_,onFlowInit:L,onNodesChange:z,onEdgesChange:B,onNodeDoubleClick:F,onEdgeDoubleClick:U}=(e=>{const t=wa(e=>e.isReadOnly),n=wa(e=>e.skipImport),r=wa(e=>e.skipExport),a=!0===t,i=wa(e=>e.onRun),s=wa(e=>e.onConvert),l=wa(e=>e.setRfInstance),c=wa(e=>e.onNodesChange),u=wa(e=>e.onEdgesChange),d=wa(e=>e.onEdgeDoubleClick),p=wa(e=>e.onNodeDoubleClick),f=wa(e=>e.onFlowChanged),h=wa(e=>e.getAgents),m=wa(e=>e.getFlowEdges),g=wa(e=>e.getFlowInfo),y=wa(e=>e.exportFlow),v=o.useCallback(t=>{const o=Z(e),i=a||!0===n&&!0===r,s=t.getNodes().length>0||t.getEdges().length>0;if(o){if(i){const e=o.querySelector(".react-flow__controls-interactive");e&&e.click()}s?requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.fitView({includeHiddenNodes:!1,padding:.2,duration:100}),l(t)})}):(t.setViewport({x:0,y:0,zoom:1}),l(t))}else l(t)},[e,a,n,r,l]),b=o.useCallback(e=>{a||c(e)},[a,c]),x=o.useCallback(e=>{a||(u(e),f())},[a,u,f]),w=o.useCallback((e,t)=>{a||d(e,t)},[a,d]),C=o.useCallback((e,t)=>{if(a)return;const n=e.target;n instanceof Element&&"TEXTAREA"===n.tagName||p(e,t)},[a,p]),j=o.useCallback(()=>{if(a)return!1;const t=h(),n=t.length;if(n<2)return ga({flowId:e,message:(0===n?"No agents":"Only one agent")+" found in the flow",level:"error",details:void 0,duration:3e3}),!1;if(t.find(e=>"group_manager"===e.data.agentType))return!0;const{used:r,remaining:o}=m();return r.length>0&&0===o.length},[a,h,m,e]),k=o.useCallback(()=>{if(!a&&s){const e=f();s(JSON.stringify(e),"py")}},[a,f,s]),A=o.useCallback(()=>{if(!a&&s){const e=f();s(JSON.stringify(e),"ipynb")}},[a,f,s]),S=o.useCallback(()=>{if(!a&&"function"==typeof i)if(j()){const e=f();e&&i(JSON.stringify(e))}else{const t=`edit-flow-${e}-sidebar-button`,n=document.getElementById(t);n&&n.click()}},[a,i,j,f,e]),O=o.useCallback(async t=>{if(a)return;const{name:n}=g();await X(n,"flow",()=>y(!0,!1),()=>{ga({flowId:e,message:"Could not export the flow",level:"error",details:void 0,duration:3e3})})},[a,g,y,e]);return o.useMemo(()=>({convertToPy:k,convertToIpynb:A,exportFlow:y,onExport:O,onRun:S,onFlowInit:v,onNodesChange:b,onEdgesChange:x,onNodeDoubleClick:C,onEdgeDoubleClick:w}),[k,A,y,O,S,v,b,x,C,w])})(t);o.useEffect(()=>{A("agent")},[A]);const q=o.useCallback(e=>{u.current=e,p(e=>!e)},[]),H=o.useCallback(()=>{h(!0)},[]),W=o.useCallback(()=>{h(!1)},[]),V=o.useCallback(()=>{g(!1)},[]),$=o.useCallback(e=>{u.current!==e&&q(e),A(e)},[q,A]),G=o.useCallback(()=>{"model"===u.current?(w(),k()):"tool"===u.current&&(C(),k())},[w,C,k]),K=o.useCallback(()=>{requestAnimationFrame(()=>{"agent"!==u.current&&(q("agent"),A("agent")),k()})},[q,A,k]),Y=o.useCallback(e=>{j(e,u.current)},[j]),Q=o.useCallback(async e=>{s?await R(e):g(!0)},[s,R]),J=o.useCallback(()=>{const e=D(!0,!1);return JSON.stringify(e)},[D]),{onDragOver:ee,onDrop:te,onNodeDrag:ne,onNodeDragStop:re}=(e=>{const{screenToFlowPosition:t,getIntersectingNodes:n}=i.useReactFlow(),r=wa(e=>e.addAgent),a=wa(e=>e.setAgentGroup),s=wa(e=>e.addGroupMember),l=wa(e=>e.getRfInstance),c=wa(e=>e.highlightNode),u=wa(e=>e.clearNodeHighlight),d=o.useCallback(e=>{if("agent"!==e.dataTransfer.getData("application/node"))return;const t=e.dataTransfer.getData("application/agent");return be.includes(t)?t:void 0},[]),p=o.useCallback(e=>{e.preventDefault(),e.dataTransfer.dropEffect="move",document.body.classList.add("dragging")},[]),f=o.useCallback(e=>e.find(e=>"agent"===e.type&&"group_manager"===e.data.agentType),[]),h=o.useCallback(e=>{const{x:t,y:r}=e,a={x:t,y:r,width:100,height:100};try{const e=n(a);if(e.length>0)return f(e)}catch(o){}},[n,f]),m=o.useCallback(e=>{const t=l();if(!t)return;const n=t.getInternalNode(e.id);return n?.internals.positionAbsolute?{x:n.internals.positionAbsolute.x,y:n.internals.positionAbsolute.y}:void 0},[l]),g=o.useCallback((e,n)=>{let r=t({x:e.clientX,y:e.clientY},{snapToGrid:!1});const a=n||h(r);if(a){const n=m(a);if(n){const a=t({x:e.clientX,y:e.clientY});r={x:a.x-n.x-50,y:a.y-n.y-50}}}return{position:r,parent:a}},[t,h,m]),y=o.useCallback((e,t)=>{const{position:n,parent:o}=g(e),i=r(t,n,o?.id);return o&&(i.parentId=o.id,i.data.parentId=o.id,window.requestAnimationFrame(()=>{a(i.id,o.id)})),i},[g,r,a]),v=o.useCallback(t=>{document.body.classList.remove("dragging");const n=d(t);n&&(t.preventDefault(),y(t,n),e())},[d,y,e]),b=o.useCallback((e,t)=>{try{const e=n(t).filter(e=>"agent"===e.type&&"group_manager"===e.data.agentType);if(1===e.length)return e[0]}catch(r){}},[n]),x=o.useCallback((e,t)=>{if(t.parentId||"group_manager"===t.data.agentType)u();else{const n=b(e,t);n?c(n.id):u()}},[b,c,u]),w=o.useCallback((e,t)=>{if(!t.parentId&&"group_manager"!==t.data.agentType){const n=b(e,t);if(n){const{position:r}=g(e,n);s(n.id,t.id,r)}}u()},[b,g,s,u]);return o.useMemo(()=>({onDragOver:p,onDrop:v,onNodeDrag:x,onNodeDragStop:w}),[p,v,x,w])})(K),ae=o.useMemo(()=>y,[y]),oe=o.useMemo(()=>v,[v]);return a.jsxs("div",{className:`flow-wrapper ${E}`,id:`rf-root-${t}`,"data-flow-id":t,"data-testid":`rf-root-${t}`,children:[a.jsxs("div",{className:"flow-main",children:[a.jsx(pB,{onSelectNodeType:$,selectedNodeType:u.current,isReadonly:M}),a.jsx("div",{className:"react-flow-wrapper","data-testid":`rf-wrapper-${t}`,ref:c,children:a.jsxs(i.ReactFlow,{id:t,nodeTypes:eB,edgeTypes:Jz,onInit:L,nodes:ae,edges:oe,onNodesChange:z,onEdgesChange:B,deleteKeyCode:[],onKeyDown:N,onNodeDoubleClick:F,onEdgeDoubleClick:U,onReconnect:S,colorMode:E,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,snapToGrid:!0,defaultViewport:x,onDrop:te,onDragOver:ee,onViewportChange:Y,connectOnClick:!0,zoomOnDoubleClick:!1,noWheelClassName:"no-wheel",width:c.current?.clientWidth,height:c.current?.clientHeight,onNodeDrag:ne,onNodeDragStop:re,children:[a.jsx(i.Controls,{showInteractive:!0}),a.jsx(nL,{flowId:t,skipExport:n,skipImport:r,skipHub:s,selectedNodeType:u.current,onAddNode:G,onRun:_,onConvertToPy:P,onConvertToIpynb:I,onOpenImportModal:H,onExport:Q}),a.jsx("div",{className:"hidden","data-testid":`drop-area-${t}`}),a.jsx(i.Background,{variant:i.BackgroundVariant.Dots})]})})]}),a.jsx(W_,{flowId:t,chat:l,isDarkMode:T}),f&&a.jsx(eL,{flowId:t,isOpen:f,onClose:W,typeShown:u.current,onTypeShownChange:$}),m&&a.jsx($_,{flowId:t,isOpen:m,onClose:V,onDownload:R,onExport:J})]})});fB.displayName="WaldiezFlowView";const hB=e=>{const t=e.flowId??`wf-${Y()}`,n="boolean"==typeof e.skipImport&&e.skipImport,r="boolean"==typeof e.skipExport&&e.skipExport,u="boolean"==typeof e.skipHub&&e.skipHub,d=e.nodes??[],p=e.edges??[],f=e.readOnly??!1,{monacoVsPath:h,chat:m}=e;return o.useEffect(()=>{gB(),yB(),window.localStorage.removeItem(`snackbar-${t}.lock`)},[t]),o.useEffect(()=>{h&&c.loader.config({paths:{vs:h}})},[h]),a.jsx(ba,{children:a.jsx(On,{children:a.jsx(s.ErrorBoundary,{fallbackRender:mB,children:a.jsx(l.HotkeysProvider,{initiallyActiveScopes:[t],children:a.jsx(i.ReactFlowProvider,{children:a.jsx(tB,{children:a.jsx(U_,{...e,flowId:t,nodes:d,edges:p,isReadOnly:f,skipImport:n,skipExport:r,children:a.jsx(fB,{flowId:t,skipImport:n,skipExport:r,skipHub:u,chat:m})})})})})})})})},mB=e=>{const{error:t}=e;return a.jsx(ha,{error:t})},gB=()=>{const e=jn();kn(e)},yB=()=>{if(!document.body.classList.contains("waldiez-sidebar-collapsed")&&!document.body.classList.contains("waldiez-sidebar-expanded")){window.matchMedia("(prefers-sidebar: collapsed)").matches?document.body.classList.add("waldiez-sidebar-collapsed"):document.body.classList.add("waldiez-sidebar-expanded")}};e.Waldiez=hB,e.WaldiezChatMessageProcessor=H,e.default=hB,e.exportFlow=(e,t=!0,n=!0)=>{const r=oa.importFlow(e);return oa.exportFlow(oa.toReactFlow(r),t,n)},e.importFlow=e=>{const t=oa.importFlow(e);return oa.toReactFlow(t)},e.showSnackbar=ga,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
